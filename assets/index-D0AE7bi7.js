var H1=Object.defineProperty;var ZA=l=>{throw TypeError(l)};var U1=(l,e,t)=>e in l?H1(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Ie=(l,e,t)=>U1(l,typeof e!="symbol"?e+"":e,t),yv=(l,e,t)=>e.has(l)||ZA("Cannot "+t);var c=(l,e,t)=>(yv(l,e,"read from private field"),t?t.call(l):e.get(l)),T=(l,e,t)=>e.has(l)?ZA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,t),b=(l,e,t,i)=>(yv(l,e,"write to private field"),i?i.call(l,t):e.set(l,t),t),_=(l,e,t)=>(yv(l,e,"access private method"),t);var Un=(l,e,t,i)=>({set _(s){b(l,e,s,t)},get _(){return c(l,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function dS(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var wv={exports:{}},Ec={},Av={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function $1(){if(eE)return je;eE=1;var l=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function C(P,z,oe){this.props=P,this.context=z,this.refs=x,this.updater=oe||E}C.prototype.isReactComponent={},C.prototype.setState=function(P,z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,z,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=C.prototype;function L(P,z,oe){this.props=P,this.context=z,this.refs=x,this.updater=oe||E}var I=L.prototype=new k;I.constructor=L,A(I,C.prototype),I.isPureReactComponent=!0;var O=Array.isArray,F=Object.prototype.hasOwnProperty,B={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function K(P,z,oe){var pe,ye={},ke=null,be=null;if(z!=null)for(pe in z.ref!==void 0&&(be=z.ref),z.key!==void 0&&(ke=""+z.key),z)F.call(z,pe)&&!q.hasOwnProperty(pe)&&(ye[pe]=z[pe]);var Re=arguments.length-2;if(Re===1)ye.children=oe;else if(1<Re){for(var Ne=Array(Re),Oe=0;Oe<Re;Oe++)Ne[Oe]=arguments[Oe+2];ye.children=Ne}if(P&&P.defaultProps)for(pe in Re=P.defaultProps,Re)ye[pe]===void 0&&(ye[pe]=Re[pe]);return{$$typeof:l,type:P,key:ke,ref:be,props:ye,_owner:B.current}}function X(P,z){return{$$typeof:l,type:P.type,key:z,ref:P.ref,props:P.props,_owner:P._owner}}function Z(P){return typeof P=="object"&&P!==null&&P.$$typeof===l}function re(P){var z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return z[oe]})}var Se=/\/+/g;function he(P,z){return typeof P=="object"&&P!==null&&P.key!=null?re(""+P.key):z.toString(36)}function ae(P,z,oe,pe,ye){var ke=typeof P;(ke==="undefined"||ke==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(ke){case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case l:case e:be=!0}}if(be)return be=P,ye=ye(be),P=pe===""?"."+he(be,0):pe,O(ye)?(oe="",P!=null&&(oe=P.replace(Se,"$&/")+"/"),ae(ye,z,oe,"",function(Oe){return Oe})):ye!=null&&(Z(ye)&&(ye=X(ye,oe+(!ye.key||be&&be.key===ye.key?"":(""+ye.key).replace(Se,"$&/")+"/")+P)),z.push(ye)),1;if(be=0,pe=pe===""?".":pe+":",O(P))for(var Re=0;Re<P.length;Re++){ke=P[Re];var Ne=pe+he(ke,Re);be+=ae(ke,z,oe,Ne,ye)}else if(Ne=w(P),typeof Ne=="function")for(P=Ne.call(P),Re=0;!(ke=P.next()).done;)ke=ke.value,Ne=pe+he(ke,Re++),be+=ae(ke,z,oe,Ne,ye);else if(ke==="object")throw z=String(P),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return be}function ne(P,z,oe){if(P==null)return P;var pe=[],ye=0;return ae(P,pe,"","",function(ke){return z.call(oe,ke,ye++)}),pe}function te(P){if(P._status===-1){var z=P._result;z=z(),z.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=z)}if(P._status===1)return P._result.default;throw P._result}var Q={current:null},W={transition:null},le={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:W,ReactCurrentOwner:B};function se(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ne,forEach:function(P,z,oe){ne(P,function(){z.apply(this,arguments)},oe)},count:function(P){var z=0;return ne(P,function(){z++}),z},toArray:function(P){return ne(P,function(z){return z})||[]},only:function(P){if(!Z(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},je.Component=C,je.Fragment=t,je.Profiler=s,je.PureComponent=L,je.StrictMode=i,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,je.act=se,je.cloneElement=function(P,z,oe){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var pe=A({},P.props),ye=P.key,ke=P.ref,be=P._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,be=B.current),z.key!==void 0&&(ye=""+z.key),P.type&&P.type.defaultProps)var Re=P.type.defaultProps;for(Ne in z)F.call(z,Ne)&&!q.hasOwnProperty(Ne)&&(pe[Ne]=z[Ne]===void 0&&Re!==void 0?Re[Ne]:z[Ne])}var Ne=arguments.length-2;if(Ne===1)pe.children=oe;else if(1<Ne){Re=Array(Ne);for(var Oe=0;Oe<Ne;Oe++)Re[Oe]=arguments[Oe+2];pe.children=Re}return{$$typeof:l,type:P.type,key:ye,ref:ke,props:pe,_owner:be}},je.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},je.createElement=K,je.createFactory=function(P){var z=K.bind(null,P);return z.type=P,z},je.createRef=function(){return{current:null}},je.forwardRef=function(P){return{$$typeof:d,render:P}},je.isValidElement=Z,je.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:te}},je.memo=function(P,z){return{$$typeof:p,type:P,compare:z===void 0?null:z}},je.startTransition=function(P){var z=W.transition;W.transition={};try{P()}finally{W.transition=z}},je.unstable_act=se,je.useCallback=function(P,z){return Q.current.useCallback(P,z)},je.useContext=function(P){return Q.current.useContext(P)},je.useDebugValue=function(){},je.useDeferredValue=function(P){return Q.current.useDeferredValue(P)},je.useEffect=function(P,z){return Q.current.useEffect(P,z)},je.useId=function(){return Q.current.useId()},je.useImperativeHandle=function(P,z,oe){return Q.current.useImperativeHandle(P,z,oe)},je.useInsertionEffect=function(P,z){return Q.current.useInsertionEffect(P,z)},je.useLayoutEffect=function(P,z){return Q.current.useLayoutEffect(P,z)},je.useMemo=function(P,z){return Q.current.useMemo(P,z)},je.useReducer=function(P,z,oe){return Q.current.useReducer(P,z,oe)},je.useRef=function(P){return Q.current.useRef(P)},je.useState=function(P){return Q.current.useState(P)},je.useSyncExternalStore=function(P,z,oe){return Q.current.useSyncExternalStore(P,z,oe)},je.useTransition=function(){return Q.current.useTransition()},je.version="18.3.1",je}var tE;function l0(){return tE||(tE=1,Av.exports=$1()),Av.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function V1(){if(nE)return Ec;nE=1;var l=l0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,v={},w=null,E=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(E=f.ref);for(g in f)i.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:w,ref:E,props:v,_owner:s.current}}return Ec.Fragment=t,Ec.jsx=u,Ec.jsxs=u,Ec}var iE;function W1(){return iE||(iE=1,wv.exports=V1()),wv.exports}var U=W1(),j=l0();const Ma=dS(j);var Yf={},Ev={exports:{}},bn={},Sv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function G1(){return rE||(rE=1,(function(l){function e(W,le){var se=W.length;W.push(le);e:for(;0<se;){var P=se-1>>>1,z=W[P];if(0<s(z,le))W[P]=le,W[se]=z,se=P;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var le=W[0],se=W.pop();if(se!==le){W[0]=se;e:for(var P=0,z=W.length,oe=z>>>1;P<oe;){var pe=2*(P+1)-1,ye=W[pe],ke=pe+1,be=W[ke];if(0>s(ye,se))ke<z&&0>s(be,ye)?(W[P]=be,W[ke]=se,P=ke):(W[P]=ye,W[pe]=se,P=pe);else if(ke<z&&0>s(be,se))W[P]=be,W[ke]=se,P=ke;else break e}}return le}function s(W,le){var se=W.sortIndex-le.sortIndex;return se!==0?se:W.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();l.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,v=null,w=3,E=!1,A=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(W){for(var le=t(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=W)i(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(p)}}function O(W){if(x=!1,I(W),!A)if(t(f)!==null)A=!0,te(F);else{var le=t(p);le!==null&&Q(O,le.startTime-W)}}function F(W,le){A=!1,x&&(x=!1,k(K),K=-1),E=!0;var se=w;try{for(I(le),v=t(f);v!==null&&(!(v.expirationTime>le)||W&&!re());){var P=v.callback;if(typeof P=="function"){v.callback=null,w=v.priorityLevel;var z=P(v.expirationTime<=le);le=l.unstable_now(),typeof z=="function"?v.callback=z:v===t(f)&&i(f),I(le)}else i(f);v=t(f)}if(v!==null)var oe=!0;else{var pe=t(p);pe!==null&&Q(O,pe.startTime-le),oe=!1}return oe}finally{v=null,w=se,E=!1}}var B=!1,q=null,K=-1,X=5,Z=-1;function re(){return!(l.unstable_now()-Z<X)}function Se(){if(q!==null){var W=l.unstable_now();Z=W;var le=!0;try{le=q(!0,W)}finally{le?he():(B=!1,q=null)}}else B=!1}var he;if(typeof L=="function")he=function(){L(Se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ne=ae.port2;ae.port1.onmessage=Se,he=function(){ne.postMessage(null)}}else he=function(){C(Se,0)};function te(W){q=W,B||(B=!0,he())}function Q(W,le){K=C(function(){W(l.unstable_now())},le)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(W){W.callback=null},l.unstable_continueExecution=function(){A||E||(A=!0,te(F))},l.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<W?Math.floor(1e3/W):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_getFirstCallbackNode=function(){return t(f)},l.unstable_next=function(W){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var se=w;w=le;try{return W()}finally{w=se}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=w;w=W;try{return le()}finally{w=se}},l.unstable_scheduleCallback=function(W,le,se){var P=l.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?P+se:P):se=P,W){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=se+z,W={id:g++,callback:le,priorityLevel:W,startTime:se,expirationTime:z,sortIndex:-1},se>P?(W.sortIndex=se,e(p,W),t(f)===null&&W===t(p)&&(x?(k(K),K=-1):x=!0,Q(O,se-P))):(W.sortIndex=z,e(f,W),A||E||(A=!0,te(F))),W},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(W){var le=w;return function(){var se=w;w=le;try{return W.apply(this,arguments)}finally{w=se}}}})(bv)),bv}var sE;function q1(){return sE||(sE=1,Sv.exports=G1()),Sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function X1(){if(oE)return bn;oE=1;var l=l0(),e=q1();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(n,r){u(n,r),u(n+"Capture",r)}function u(n,r){for(s[n]=r,n=0;n<r.length;n++)i.add(r[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(n){return f.call(v,n)?!0:f.call(g,n)?!1:p.test(n)?v[n]=!0:(g[n]=!0,!1)}function E(n,r,a,h){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,r,a,h){if(r===null||typeof r>"u"||E(n,r,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function x(n,r,a,h,m,y,S){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=y,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new x(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];C[r]=new x(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new x(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new x(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new x(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new x(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new x(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new x(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new x(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function L(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(k,L);C[r]=new x(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(k,L);C[r]=new x(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(k,L);C[r]=new x(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new x(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new x(n,1,!1,n.toLowerCase(),null,!0,!0)});function I(n,r,a,h){var m=C.hasOwnProperty(r)?C[r]:null;(m!==null?m.type!==0:h||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(A(r,a,m,h)&&(a=null),h||m===null?w(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):m.mustUseProperty?n[m.propertyName]=a===null?m.type===3?!1:"":a:(r=m.attributeName,h=m.attributeNamespace,a===null?n.removeAttribute(r):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,h?n.setAttributeNS(h,r,a):n.setAttribute(r,a))))}var O=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),W=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,P;function z(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||""}return`
`+P+n}var oe=!1;function pe(n,r){if(!n||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var h=$}Reflect.construct(n,[],r)}else{try{r.call()}catch($){h=$}n.call(r.prototype)}else{try{throw Error()}catch($){h=$}n()}}catch($){if($&&h&&typeof $.stack=="string"){for(var m=$.stack.split(`
`),y=h.stack.split(`
`),S=m.length-1,R=y.length-1;1<=S&&0<=R&&m[S]!==y[R];)R--;for(;1<=S&&0<=R;S--,R--)if(m[S]!==y[R]){if(S!==1||R!==1)do if(S--,R--,0>R||m[S]!==y[R]){var M=`
`+m[S].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=S&&0<=R);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?z(n):""}function ye(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=pe(n.type,!1),n;case 11:return n=pe(n.type.render,!1),n;case 1:return n=pe(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case B:return"Portal";case X:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case ae:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case re:return(n.displayName||"Context")+".Consumer";case Z:return(n._context.displayName||"Context")+".Provider";case Se:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ne:return r=n.displayName||null,r!==null?r:ke(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return ke(n(r))}catch{}}return null}function be(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Re(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ne(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Oe(n){var r=Ne(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),h=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,y=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Dn(n){n._valueTracker||(n._valueTracker=Oe(n))}function ti(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),h="";return n&&(h=Ne(n)?n.checked?"true":"false":n.value),n=h,n!==a?(r.setValue(n),!0):!1}function Ve(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function lt(n,r){var a=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function bt(n,r){var a=r.defaultValue==null?"":r.defaultValue,h=r.checked!=null?r.checked:r.defaultChecked;a=Re(r.value!=null?r.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function mt(n,r){r=r.checked,r!=null&&I(n,"checked",r,!1)}function In(n,r){mt(n,r);var a=Re(r.value),h=r.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?hs(n,r.type,a):r.hasOwnProperty("defaultValue")&&hs(n,r.type,Re(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ds(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var h=r.type;if(!(h!=="submit"&&h!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function hs(n,r,a){(r!=="number"||Ve(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var yi=Array.isArray;function On(n,r,a,h){if(n=n.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=r.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&h&&(n[a].defaultSelected=!0)}else{for(a=""+Re(a),r=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}r!==null||n[m].disabled||(r=n[m])}r!==null&&(r.selected=!0)}}function gr(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function po(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(yi(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Re(a)}}function Va(n,r){var a=Re(r.value),h=Re(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function Wa(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function fs(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fn(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?fs(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ni,mr=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,h,m){MSApp.execUnsafeLocalFunction(function(){return n(r,a,h,m)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ni.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Nn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ku=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(n){ku.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),ps[r]=ps[n]})});function Nh(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||ps.hasOwnProperty(n)&&ps[n]?(""+r).trim():r+"px"}function vr(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var h=a.indexOf("--")===0,m=Nh(a,r[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,m):n[a]=m}}var Ig=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(n,r){if(r){if(Ig[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function jh(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function Bh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ru=null,go=null,gs=null;function zh(n){if(n=oc(n)){if(typeof Ru!="function")throw Error(t(280));var r=n.stateNode;r&&(r=df(r),Ru(n.stateNode,n.type,r))}}function Hh(n){go?gs?gs.push(n):gs=[n]:go=n}function Pu(){if(go){var n=go,r=gs;if(gs=go=null,zh(n),r)for(n=0;n<r.length;n++)zh(r[n])}}function Lu(n,r){return n(r)}function Mu(){}var Du=!1;function Iu(n,r,a){if(Du)return n(r,a);Du=!0;try{return Lu(n,r,a)}finally{Du=!1,(go!==null||gs!==null)&&(Mu(),Pu())}}function yr(n,r){var a=n.stateNode;if(a===null)return null;var h=df(a);if(h===null)return null;a=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var Ou=!1;if(d)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Ou=!1}function Fu(n,r,a,h,m,y,S,R,M){var $=Array.prototype.slice.call(arguments,3);try{r.apply(a,$)}catch(J){this.onError(J)}}var mo=!1,vo=null,Ui=!1,Nu=null,Og={onError:function(n){mo=!0,vo=n}};function Fg(n,r,a,h,m,y,S,R,M){mo=!1,vo=null,Fu.apply(Og,arguments)}function Ng(n,r,a,h,m,y,S,R,M){if(Fg.apply(this,arguments),mo){if(mo){var $=vo;mo=!1,vo=null}else throw Error(t(198));Ui||(Ui=!0,Nu=$)}}function $i(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Uh(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function ju(n){if($i(n)!==n)throw Error(t(188))}function jg(n){var r=n.alternate;if(!r){if(r=$i(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,h=r;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){a=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return ju(m),n;if(y===h)return ju(m),r;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=m,h=y;else{for(var S=!1,R=m.child;R;){if(R===a){S=!0,a=m,h=y;break}if(R===h){S=!0,h=m,a=y;break}R=R.sibling}if(!S){for(R=y.child;R;){if(R===a){S=!0,a=y,h=m;break}if(R===h){S=!0,h=y,a=m;break}R=R.sibling}if(!S)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Bu(n){return n=jg(n),n!==null?$h(n):null}function $h(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=$h(n);if(r!==null)return r;n=n.sibling}return null}var Vh=e.unstable_scheduleCallback,zu=e.unstable_cancelCallback,V=e.unstable_shouldYield,xe=e.unstable_requestPaint,we=e.unstable_now,qe=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,wr=e.unstable_UserBlockingPriority,Hu=e.unstable_NormalPriority,tx=e.unstable_LowPriority,R0=e.unstable_IdlePriority,Wh=null,Vi=null;function nx(n){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Wh,n,void 0,(n.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:sx,ix=Math.log,rx=Math.LN2;function sx(n){return n>>>=0,n===0?32:31-(ix(n)/rx|0)|0}var Gh=64,qh=4194304;function Uu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Xh(n,r){var a=n.pendingLanes;if(a===0)return 0;var h=0,m=n.suspendedLanes,y=n.pingedLanes,S=a&268435455;if(S!==0){var R=S&~m;R!==0?h=Uu(R):(y&=S,y!==0&&(h=Uu(y)))}else S=a&~m,S!==0?h=Uu(S):y!==0&&(h=Uu(y));if(h===0)return 0;if(r!==0&&r!==h&&(r&m)===0&&(m=h&-h,y=r&-r,m>=y||m===16&&(y&4194240)!==0))return r;if((h&4)!==0&&(h|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=h;0<r;)a=31-wi(r),m=1<<a,h|=n[a],r&=~m;return h}function ox(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ax(n,r){for(var a=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var S=31-wi(y),R=1<<S,M=m[S];M===-1?((R&a)===0||(R&h)!==0)&&(m[S]=ox(R,r)):M<=r&&(n.expiredLanes|=R),y&=~R}}function Bg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function P0(){var n=Gh;return Gh<<=1,(Gh&4194240)===0&&(Gh=64),n}function zg(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function $u(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-wi(r),n[r]=a}function lx(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var m=31-wi(a),y=1<<m;r[m]=0,h[m]=-1,n[m]=-1,a&=~y}}function Hg(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var h=31-wi(a),m=1<<h;m&r|n[h]&r&&(n[h]|=r),a&=~m}}var Qe=0;function L0(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var M0,Ug,D0,I0,O0,$g=!1,Kh=[],vs=null,ys=null,ws=null,Vu=new Map,Wu=new Map,As=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F0(n,r){switch(n){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Vu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(r.pointerId)}}function Gu(n,r,a,h,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},r!==null&&(r=oc(r),r!==null&&Ug(r)),n):(n.eventSystemFlags|=h,r=n.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),n)}function cx(n,r,a,h,m){switch(r){case"focusin":return vs=Gu(vs,n,r,a,h,m),!0;case"dragenter":return ys=Gu(ys,n,r,a,h,m),!0;case"mouseover":return ws=Gu(ws,n,r,a,h,m),!0;case"pointerover":var y=m.pointerId;return Vu.set(y,Gu(Vu.get(y)||null,n,r,a,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Wu.set(y,Gu(Wu.get(y)||null,n,r,a,h,m)),!0}return!1}function N0(n){var r=yo(n.target);if(r!==null){var a=$i(r);if(a!==null){if(r=a.tag,r===13){if(r=Uh(a),r!==null){n.blockedOn=r,O0(n.priority,function(){D0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Wg(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);qa=h,a.target.dispatchEvent(h),qa=null}else return r=oc(a),r!==null&&Ug(r),n.blockedOn=a,!1;r.shift()}return!0}function j0(n,r,a){Yh(n)&&a.delete(r)}function dx(){$g=!1,vs!==null&&Yh(vs)&&(vs=null),ys!==null&&Yh(ys)&&(ys=null),ws!==null&&Yh(ws)&&(ws=null),Vu.forEach(j0),Wu.forEach(j0)}function qu(n,r){n.blockedOn===r&&(n.blockedOn=null,$g||($g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dx)))}function Xu(n){function r(m){return qu(m,n)}if(0<Kh.length){qu(Kh[0],n);for(var a=1;a<Kh.length;a++){var h=Kh[a];h.blockedOn===n&&(h.blockedOn=null)}}for(vs!==null&&qu(vs,n),ys!==null&&qu(ys,n),ws!==null&&qu(ws,n),Vu.forEach(r),Wu.forEach(r),a=0;a<As.length;a++)h=As[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<As.length&&(a=As[0],a.blockedOn===null);)N0(a),a.blockedOn===null&&As.shift()}var Xa=O.ReactCurrentBatchConfig,Qh=!0;function hx(n,r,a,h){var m=Qe,y=Xa.transition;Xa.transition=null;try{Qe=1,Vg(n,r,a,h)}finally{Qe=m,Xa.transition=y}}function fx(n,r,a,h){var m=Qe,y=Xa.transition;Xa.transition=null;try{Qe=4,Vg(n,r,a,h)}finally{Qe=m,Xa.transition=y}}function Vg(n,r,a,h){if(Qh){var m=Wg(n,r,a,h);if(m===null)lm(n,r,h,Jh,a),F0(n,h);else if(cx(m,n,r,a,h))h.stopPropagation();else if(F0(n,h),r&4&&-1<ux.indexOf(n)){for(;m!==null;){var y=oc(m);if(y!==null&&M0(y),y=Wg(n,r,a,h),y===null&&lm(n,r,h,Jh,a),y===m)break;m=y}m!==null&&h.stopPropagation()}else lm(n,r,h,null,a)}}var Jh=null;function Wg(n,r,a,h){if(Jh=null,n=Bh(h),n=yo(n),n!==null)if(r=$i(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Uh(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Jh=n,null}function B0(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case wt:return 1;case wr:return 4;case Hu:case tx:return 16;case R0:return 536870912;default:return 16}default:return 16}}var Es=null,Gg=null,Zh=null;function z0(){if(Zh)return Zh;var n,r=Gg,a=r.length,h,m="value"in Es?Es.value:Es.textContent,y=m.length;for(n=0;n<a&&r[n]===m[n];n++);var S=a-n;for(h=1;h<=S&&r[a-h]===m[y-h];h++);return Zh=m.slice(n,1<h?1-h:void 0)}function ef(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function tf(){return!0}function H0(){return!1}function jn(n){function r(a,h,m,y,S){this._reactName=a,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?tf:H0,this.isPropagationStopped=H0,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),r}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qg=jn(Ka),Ku=se({},Ka,{view:0,detail:0}),px=jn(Ku),Xg,Kg,Yu,nf=se({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yu&&(Yu&&n.type==="mousemove"?(Xg=n.screenX-Yu.screenX,Kg=n.screenY-Yu.screenY):Kg=Xg=0,Yu=n),Xg)},movementY:function(n){return"movementY"in n?n.movementY:Kg}}),U0=jn(nf),gx=se({},nf,{dataTransfer:0}),mx=jn(gx),vx=se({},Ku,{relatedTarget:0}),Yg=jn(vx),yx=se({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),wx=jn(yx),Ax=se({},Ka,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ex=jn(Ax),Sx=se({},Ka,{data:0}),$0=jn(Sx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=xx[n])?!!r[n]:!1}function Qg(){return Cx}var Tx=se({},Ku,{key:function(n){if(n.key){var r=bx[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ef(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_x[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(n){return n.type==="keypress"?ef(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ef(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kx=jn(Tx),Rx=se({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=jn(Rx),Px=se({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),Lx=jn(Px),Mx=se({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=jn(Mx),Ix=se({},nf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=jn(Ix),Fx=[9,13,27,32],Jg=d&&"CompositionEvent"in window,Qu=null;d&&"documentMode"in document&&(Qu=document.documentMode);var Nx=d&&"TextEvent"in window&&!Qu,W0=d&&(!Jg||Qu&&8<Qu&&11>=Qu),G0=" ",q0=!1;function X0(n,r){switch(n){case"keyup":return Fx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ya=!1;function jx(n,r){switch(n){case"compositionend":return K0(r);case"keypress":return r.which!==32?null:(q0=!0,G0);case"textInput":return n=r.data,n===G0&&q0?null:n;default:return null}}function Bx(n,r){if(Ya)return n==="compositionend"||!Jg&&X0(n,r)?(n=z0(),Zh=Gg=Es=null,Ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return W0&&r.locale!=="ko"?null:r.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zx[n.type]:r==="textarea"}function Q0(n,r,a,h){Hh(h),r=lf(r,"onChange"),0<r.length&&(a=new qg("onChange","change",null,a,h),n.push({event:a,listeners:r}))}var Ju=null,Zu=null;function Hx(n){gw(n,0)}function rf(n){var r=tl(n);if(ti(r))return n}function Ux(n,r){if(n==="change")return r}var J0=!1;if(d){var Zg;if(d){var em="oninput"in document;if(!em){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),em=typeof Z0.oninput=="function"}Zg=em}else Zg=!1;J0=Zg&&(!document.documentMode||9<document.documentMode)}function ew(){Ju&&(Ju.detachEvent("onpropertychange",tw),Zu=Ju=null)}function tw(n){if(n.propertyName==="value"&&rf(Zu)){var r=[];Q0(r,Zu,n,Bh(n)),Iu(Hx,r)}}function $x(n,r,a){n==="focusin"?(ew(),Ju=r,Zu=a,Ju.attachEvent("onpropertychange",tw)):n==="focusout"&&ew()}function Vx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rf(Zu)}function Wx(n,r){if(n==="click")return rf(r)}function Gx(n,r){if(n==="input"||n==="change")return rf(r)}function qx(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ai=typeof Object.is=="function"?Object.is:qx;function ec(n,r){if(Ai(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),h=Object.keys(r);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var m=a[h];if(!f.call(r,m)||!Ai(n[m],r[m]))return!1}return!0}function nw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iw(n,r){var a=nw(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=r&&h>=r)return{node:a,offset:r-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nw(a)}}function rw(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?rw(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function sw(){for(var n=window,r=Ve();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ve(n.document)}return r}function tm(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Xx(n){var r=sw(),a=n.focusedElem,h=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&rw(a.ownerDocument.documentElement,a)){if(h!==null&&tm(a)){if(r=h.start,n=h.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var m=a.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!n.extend&&y>h&&(m=h,h=y,y=m),m=iw(a,y);var S=iw(a,h);m&&S&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),n.removeAllRanges(),y>h?(n.addRange(r),n.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Kx=d&&"documentMode"in document&&11>=document.documentMode,Qa=null,nm=null,tc=null,im=!1;function ow(n,r,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;im||Qa==null||Qa!==Ve(h)||(h=Qa,"selectionStart"in h&&tm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tc&&ec(tc,h)||(tc=h,h=lf(nm,"onSelect"),0<h.length&&(r=new qg("onSelect","select",null,r,a),n.push({event:r,listeners:h}),r.target=Qa)))}function sf(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ja={animationend:sf("Animation","AnimationEnd"),animationiteration:sf("Animation","AnimationIteration"),animationstart:sf("Animation","AnimationStart"),transitionend:sf("Transition","TransitionEnd")},rm={},aw={};d&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function of(n){if(rm[n])return rm[n];if(!Ja[n])return n;var r=Ja[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in aw)return rm[n]=r[a];return n}var lw=of("animationend"),uw=of("animationiteration"),cw=of("animationstart"),dw=of("transitionend"),hw=new Map,fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(n,r){hw.set(n,r),o(r,[n])}for(var sm=0;sm<fw.length;sm++){var om=fw[sm],Yx=om.toLowerCase(),Qx=om[0].toUpperCase()+om.slice(1);Ss(Yx,"on"+Qx)}Ss(lw,"onAnimationEnd"),Ss(uw,"onAnimationIteration"),Ss(cw,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(dw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jx=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function pw(n,r,a){var h=n.type||"unknown-event";n.currentTarget=a,Ng(h,r,void 0,n),n.currentTarget=null}function gw(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],m=h.event;h=h.listeners;e:{var y=void 0;if(r)for(var S=h.length-1;0<=S;S--){var R=h[S],M=R.instance,$=R.currentTarget;if(R=R.listener,M!==y&&m.isPropagationStopped())break e;pw(m,R,$),y=M}else for(S=0;S<h.length;S++){if(R=h[S],M=R.instance,$=R.currentTarget,R=R.listener,M!==y&&m.isPropagationStopped())break e;pw(m,R,$),y=M}}}if(Ui)throw n=Nu,Ui=!1,Nu=null,n}function ut(n,r){var a=r[pm];a===void 0&&(a=r[pm]=new Set);var h=n+"__bubble";a.has(h)||(mw(r,n,2,!1),a.add(h))}function am(n,r,a){var h=0;r&&(h|=4),mw(a,n,h,r)}var af="_reactListening"+Math.random().toString(36).slice(2);function ic(n){if(!n[af]){n[af]=!0,i.forEach(function(a){a!=="selectionchange"&&(Jx.has(a)||am(a,!1,n),am(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[af]||(r[af]=!0,am("selectionchange",!1,r))}}function mw(n,r,a,h){switch(B0(r)){case 1:var m=hx;break;case 4:m=fx;break;default:m=Vg}a=m.bind(null,r,a,n),m=void 0,!Ou||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(r,a,{capture:!0,passive:m}):n.addEventListener(r,a,!0):m!==void 0?n.addEventListener(r,a,{passive:m}):n.addEventListener(r,a,!1)}function lm(n,r,a,h,m){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;R!==null;){if(S=yo(R),S===null)return;if(M=S.tag,M===5||M===6){h=y=S;continue e}R=R.parentNode}}h=h.return}Iu(function(){var $=y,J=Bh(a),ee=[];e:{var Y=hw.get(n);if(Y!==void 0){var de=qg,ge=n;switch(n){case"keypress":if(ef(a)===0)break e;case"keydown":case"keyup":de=kx;break;case"focusin":ge="focus",de=Yg;break;case"focusout":ge="blur",de=Yg;break;case"beforeblur":case"afterblur":de=Yg;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Lx;break;case lw:case uw:case cw:de=wx;break;case dw:de=Dx;break;case"scroll":de=px;break;case"wheel":de=Ox;break;case"copy":case"cut":case"paste":de=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=V0}var ve=(r&4)!==0,At=!ve&&n==="scroll",N=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var D=$,H;D!==null;){H=D;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,N!==null&&(ie=yr(D,N),ie!=null&&ve.push(rc(D,ie,H)))),At)break;D=D.return}0<ve.length&&(Y=new de(Y,ge,null,a,J),ee.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",Y&&a!==qa&&(ge=a.relatedTarget||a.fromElement)&&(yo(ge)||ge[Ar]))break e;if((de||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,de?(ge=a.relatedTarget||a.toElement,de=$,ge=ge?yo(ge):null,ge!==null&&(At=$i(ge),ge!==At||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=$),de!==ge)){if(ve=U0,ie="onMouseLeave",N="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ve=V0,ie="onPointerLeave",N="onPointerEnter",D="pointer"),At=de==null?Y:tl(de),H=ge==null?Y:tl(ge),Y=new ve(ie,D+"leave",de,a,J),Y.target=At,Y.relatedTarget=H,ie=null,yo(J)===$&&(ve=new ve(N,D+"enter",ge,a,J),ve.target=H,ve.relatedTarget=At,ie=ve),At=ie,de&&ge)t:{for(ve=de,N=ge,D=0,H=ve;H;H=Za(H))D++;for(H=0,ie=N;ie;ie=Za(ie))H++;for(;0<D-H;)ve=Za(ve),D--;for(;0<H-D;)N=Za(N),H--;for(;D--;){if(ve===N||N!==null&&ve===N.alternate)break t;ve=Za(ve),N=Za(N)}ve=null}else ve=null;de!==null&&vw(ee,Y,de,ve,!1),ge!==null&&At!==null&&vw(ee,At,ge,ve,!0)}}e:{if(Y=$?tl($):window,de=Y.nodeName&&Y.nodeName.toLowerCase(),de==="select"||de==="input"&&Y.type==="file")var Ae=Ux;else if(Y0(Y))if(J0)Ae=Gx;else{Ae=Vx;var Ce=$x}else(de=Y.nodeName)&&de.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(Ae=Wx);if(Ae&&(Ae=Ae(n,$))){Q0(ee,Ae,a,J);break e}Ce&&Ce(n,Y,$),n==="focusout"&&(Ce=Y._wrapperState)&&Ce.controlled&&Y.type==="number"&&hs(Y,"number",Y.value)}switch(Ce=$?tl($):window,n){case"focusin":(Y0(Ce)||Ce.contentEditable==="true")&&(Qa=Ce,nm=$,tc=null);break;case"focusout":tc=nm=Qa=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,ow(ee,a,J);break;case"selectionchange":if(Kx)break;case"keydown":case"keyup":ow(ee,a,J)}var Te;if(Jg)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ya?X0(n,a)&&(Le="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(W0&&a.locale!=="ko"&&(Ya||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ya&&(Te=z0()):(Es=J,Gg="value"in Es?Es.value:Es.textContent,Ya=!0)),Ce=lf($,Le),0<Ce.length&&(Le=new $0(Le,n,null,a,J),ee.push({event:Le,listeners:Ce}),Te?Le.data=Te:(Te=K0(a),Te!==null&&(Le.data=Te)))),(Te=Nx?jx(n,a):Bx(n,a))&&($=lf($,"onBeforeInput"),0<$.length&&(J=new $0("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:$}),J.data=Te))}gw(ee,r)})}function rc(n,r,a){return{instance:n,listener:r,currentTarget:a}}function lf(n,r){for(var a=r+"Capture",h=[];n!==null;){var m=n,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=yr(n,a),y!=null&&h.unshift(rc(n,y,m)),y=yr(n,r),y!=null&&h.push(rc(n,y,m))),n=n.return}return h}function Za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function vw(n,r,a,h,m){for(var y=r._reactName,S=[];a!==null&&a!==h;){var R=a,M=R.alternate,$=R.stateNode;if(M!==null&&M===h)break;R.tag===5&&$!==null&&(R=$,m?(M=yr(a,y),M!=null&&S.unshift(rc(a,M,R))):m||(M=yr(a,y),M!=null&&S.push(rc(a,M,R)))),a=a.return}S.length!==0&&n.push({event:r,listeners:S})}var Zx=/\r\n?/g,e1=/\u0000|\uFFFD/g;function yw(n){return(typeof n=="string"?n:""+n).replace(Zx,`
`).replace(e1,"")}function uf(n,r,a){if(r=yw(r),yw(n)!==r&&a)throw Error(t(425))}function cf(){}var um=null,cm=null;function dm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(n){return ww.resolve(null).then(n).catch(i1)}:hm;function i1(n){setTimeout(function(){throw n})}function fm(n,r){var a=r,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(h===0){n.removeChild(m),Xu(r);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=m}while(a);Xu(r)}function bs(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Aw(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var el=Math.random().toString(36).slice(2),Wi="__reactFiber$"+el,sc="__reactProps$"+el,Ar="__reactContainer$"+el,pm="__reactEvents$"+el,r1="__reactListeners$"+el,s1="__reactHandles$"+el;function yo(n){var r=n[Wi];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ar]||a[Wi]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Aw(n);n!==null;){if(a=n[Wi])return a;n=Aw(n)}return r}n=a,a=n.parentNode}return null}function oc(n){return n=n[Wi]||n[Ar],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function tl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function df(n){return n[sc]||null}var gm=[],nl=-1;function _s(n){return{current:n}}function ct(n){0>nl||(n.current=gm[nl],gm[nl]=null,nl--)}function ot(n,r){nl++,gm[nl]=n.current,n.current=r}var xs={},Jt=_s(xs),yn=_s(!1),wo=xs;function il(n,r){var a=n.type.contextTypes;if(!a)return xs;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===r)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in a)m[y]=r[y];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=m),m}function wn(n){return n=n.childContextTypes,n!=null}function hf(){ct(yn),ct(Jt)}function Ew(n,r,a){if(Jt.current!==xs)throw Error(t(168));ot(Jt,r),ot(yn,a)}function Sw(n,r,a){var h=n.stateNode;if(r=r.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var m in h)if(!(m in r))throw Error(t(108,be(n)||"Unknown",m));return se({},a,h)}function ff(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xs,wo=Jt.current,ot(Jt,n),ot(yn,yn.current),!0}function bw(n,r,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=Sw(n,r,wo),h.__reactInternalMemoizedMergedChildContext=n,ct(yn),ct(Jt),ot(Jt,n)):ct(yn),ot(yn,a)}var Er=null,pf=!1,mm=!1;function _w(n){Er===null?Er=[n]:Er.push(n)}function o1(n){pf=!0,_w(n)}function Cs(){if(!mm&&Er!==null){mm=!0;var n=0,r=Qe;try{var a=Er;for(Qe=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}Er=null,pf=!1}catch(m){throw Er!==null&&(Er=Er.slice(n+1)),Vh(wt,Cs),m}finally{Qe=r,mm=!1}}return null}var rl=[],sl=0,gf=null,mf=0,ii=[],ri=0,Ao=null,Sr=1,br="";function Eo(n,r){rl[sl++]=mf,rl[sl++]=gf,gf=n,mf=r}function xw(n,r,a){ii[ri++]=Sr,ii[ri++]=br,ii[ri++]=Ao,Ao=n;var h=Sr;n=br;var m=32-wi(h)-1;h&=~(1<<m),a+=1;var y=32-wi(r)+m;if(30<y){var S=m-m%5;y=(h&(1<<S)-1).toString(32),h>>=S,m-=S,Sr=1<<32-wi(r)+m|a<<m|h,br=y+n}else Sr=1<<y|a<<m|h,br=n}function vm(n){n.return!==null&&(Eo(n,1),xw(n,1,0))}function ym(n){for(;n===gf;)gf=rl[--sl],rl[sl]=null,mf=rl[--sl],rl[sl]=null;for(;n===Ao;)Ao=ii[--ri],ii[ri]=null,br=ii[--ri],ii[ri]=null,Sr=ii[--ri],ii[ri]=null}var Bn=null,zn=null,dt=!1,Ei=null;function Cw(n,r){var a=li(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Tw(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Bn=n,zn=bs(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Bn=n,zn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Ao!==null?{id:Sr,overflow:br}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=li(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,Bn=n,zn=null,!0):!1;default:return!1}}function wm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Am(n){if(dt){var r=zn;if(r){var a=r;if(!Tw(n,r)){if(wm(n))throw Error(t(418));r=bs(a.nextSibling);var h=Bn;r&&Tw(n,r)?Cw(h,a):(n.flags=n.flags&-4097|2,dt=!1,Bn=n)}}else{if(wm(n))throw Error(t(418));n.flags=n.flags&-4097|2,dt=!1,Bn=n}}}function kw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bn=n}function vf(n){if(n!==Bn)return!1;if(!dt)return kw(n),dt=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!dm(n.type,n.memoizedProps)),r&&(r=zn)){if(wm(n))throw Rw(),Error(t(418));for(;r;)Cw(n,r),r=bs(r.nextSibling)}if(kw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){zn=bs(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}zn=null}}else zn=Bn?bs(n.stateNode.nextSibling):null;return!0}function Rw(){for(var n=zn;n;)n=bs(n.nextSibling)}function ol(){zn=Bn=null,dt=!1}function Em(n){Ei===null?Ei=[n]:Ei.push(n)}var a1=O.ReactCurrentBatchConfig;function ac(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var m=h,y=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(S){var R=m.refs;S===null?delete R[y]:R[y]=S},r._stringRef=y,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function yf(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Pw(n){var r=n._init;return r(n._payload)}function Lw(n){function r(N,D){if(n){var H=N.deletions;H===null?(N.deletions=[D],N.flags|=16):H.push(D)}}function a(N,D){if(!n)return null;for(;D!==null;)r(N,D),D=D.sibling;return null}function h(N,D){for(N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function m(N,D){return N=Is(N,D),N.index=0,N.sibling=null,N}function y(N,D,H){return N.index=H,n?(H=N.alternate,H!==null?(H=H.index,H<D?(N.flags|=2,D):H):(N.flags|=2,D)):(N.flags|=1048576,D)}function S(N){return n&&N.alternate===null&&(N.flags|=2),N}function R(N,D,H,ie){return D===null||D.tag!==6?(D=hv(H,N.mode,ie),D.return=N,D):(D=m(D,H),D.return=N,D)}function M(N,D,H,ie){var Ae=H.type;return Ae===q?J(N,D,H.props.children,ie,H.key):D!==null&&(D.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&Pw(Ae)===D.type)?(ie=m(D,H.props),ie.ref=ac(N,D,H),ie.return=N,ie):(ie=Uf(H.type,H.key,H.props,null,N.mode,ie),ie.ref=ac(N,D,H),ie.return=N,ie)}function $(N,D,H,ie){return D===null||D.tag!==4||D.stateNode.containerInfo!==H.containerInfo||D.stateNode.implementation!==H.implementation?(D=fv(H,N.mode,ie),D.return=N,D):(D=m(D,H.children||[]),D.return=N,D)}function J(N,D,H,ie,Ae){return D===null||D.tag!==7?(D=Ro(H,N.mode,ie,Ae),D.return=N,D):(D=m(D,H),D.return=N,D)}function ee(N,D,H){if(typeof D=="string"&&D!==""||typeof D=="number")return D=hv(""+D,N.mode,H),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return H=Uf(D.type,D.key,D.props,null,N.mode,H),H.ref=ac(N,null,D),H.return=N,H;case B:return D=fv(D,N.mode,H),D.return=N,D;case te:var ie=D._init;return ee(N,ie(D._payload),H)}if(yi(D)||le(D))return D=Ro(D,N.mode,H,null),D.return=N,D;yf(N,D)}return null}function Y(N,D,H,ie){var Ae=D!==null?D.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ae!==null?null:R(N,D,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case F:return H.key===Ae?M(N,D,H,ie):null;case B:return H.key===Ae?$(N,D,H,ie):null;case te:return Ae=H._init,Y(N,D,Ae(H._payload),ie)}if(yi(H)||le(H))return Ae!==null?null:J(N,D,H,ie,null);yf(N,H)}return null}function de(N,D,H,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return N=N.get(H)||null,R(D,N,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:return N=N.get(ie.key===null?H:ie.key)||null,M(D,N,ie,Ae);case B:return N=N.get(ie.key===null?H:ie.key)||null,$(D,N,ie,Ae);case te:var Ce=ie._init;return de(N,D,H,Ce(ie._payload),Ae)}if(yi(ie)||le(ie))return N=N.get(H)||null,J(D,N,ie,Ae,null);yf(D,ie)}return null}function ge(N,D,H,ie){for(var Ae=null,Ce=null,Te=D,Le=D=0,jt=null;Te!==null&&Le<H.length;Le++){Te.index>Le?(jt=Te,Te=null):jt=Te.sibling;var Xe=Y(N,Te,H[Le],ie);if(Xe===null){Te===null&&(Te=jt);break}n&&Te&&Xe.alternate===null&&r(N,Te),D=y(Xe,D,Le),Ce===null?Ae=Xe:Ce.sibling=Xe,Ce=Xe,Te=jt}if(Le===H.length)return a(N,Te),dt&&Eo(N,Le),Ae;if(Te===null){for(;Le<H.length;Le++)Te=ee(N,H[Le],ie),Te!==null&&(D=y(Te,D,Le),Ce===null?Ae=Te:Ce.sibling=Te,Ce=Te);return dt&&Eo(N,Le),Ae}for(Te=h(N,Te);Le<H.length;Le++)jt=de(Te,N,Le,H[Le],ie),jt!==null&&(n&&jt.alternate!==null&&Te.delete(jt.key===null?Le:jt.key),D=y(jt,D,Le),Ce===null?Ae=jt:Ce.sibling=jt,Ce=jt);return n&&Te.forEach(function(Os){return r(N,Os)}),dt&&Eo(N,Le),Ae}function ve(N,D,H,ie){var Ae=le(H);if(typeof Ae!="function")throw Error(t(150));if(H=Ae.call(H),H==null)throw Error(t(151));for(var Ce=Ae=null,Te=D,Le=D=0,jt=null,Xe=H.next();Te!==null&&!Xe.done;Le++,Xe=H.next()){Te.index>Le?(jt=Te,Te=null):jt=Te.sibling;var Os=Y(N,Te,Xe.value,ie);if(Os===null){Te===null&&(Te=jt);break}n&&Te&&Os.alternate===null&&r(N,Te),D=y(Os,D,Le),Ce===null?Ae=Os:Ce.sibling=Os,Ce=Os,Te=jt}if(Xe.done)return a(N,Te),dt&&Eo(N,Le),Ae;if(Te===null){for(;!Xe.done;Le++,Xe=H.next())Xe=ee(N,Xe.value,ie),Xe!==null&&(D=y(Xe,D,Le),Ce===null?Ae=Xe:Ce.sibling=Xe,Ce=Xe);return dt&&Eo(N,Le),Ae}for(Te=h(N,Te);!Xe.done;Le++,Xe=H.next())Xe=de(Te,N,Le,Xe.value,ie),Xe!==null&&(n&&Xe.alternate!==null&&Te.delete(Xe.key===null?Le:Xe.key),D=y(Xe,D,Le),Ce===null?Ae=Xe:Ce.sibling=Xe,Ce=Xe);return n&&Te.forEach(function(z1){return r(N,z1)}),dt&&Eo(N,Le),Ae}function At(N,D,H,ie){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case F:e:{for(var Ae=H.key,Ce=D;Ce!==null;){if(Ce.key===Ae){if(Ae=H.type,Ae===q){if(Ce.tag===7){a(N,Ce.sibling),D=m(Ce,H.props.children),D.return=N,N=D;break e}}else if(Ce.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&Pw(Ae)===Ce.type){a(N,Ce.sibling),D=m(Ce,H.props),D.ref=ac(N,Ce,H),D.return=N,N=D;break e}a(N,Ce);break}else r(N,Ce);Ce=Ce.sibling}H.type===q?(D=Ro(H.props.children,N.mode,ie,H.key),D.return=N,N=D):(ie=Uf(H.type,H.key,H.props,null,N.mode,ie),ie.ref=ac(N,D,H),ie.return=N,N=ie)}return S(N);case B:e:{for(Ce=H.key;D!==null;){if(D.key===Ce)if(D.tag===4&&D.stateNode.containerInfo===H.containerInfo&&D.stateNode.implementation===H.implementation){a(N,D.sibling),D=m(D,H.children||[]),D.return=N,N=D;break e}else{a(N,D);break}else r(N,D);D=D.sibling}D=fv(H,N.mode,ie),D.return=N,N=D}return S(N);case te:return Ce=H._init,At(N,D,Ce(H._payload),ie)}if(yi(H))return ge(N,D,H,ie);if(le(H))return ve(N,D,H,ie);yf(N,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,D!==null&&D.tag===6?(a(N,D.sibling),D=m(D,H),D.return=N,N=D):(a(N,D),D=hv(H,N.mode,ie),D.return=N,N=D),S(N)):a(N,D)}return At}var al=Lw(!0),Mw=Lw(!1),wf=_s(null),Af=null,ll=null,Sm=null;function bm(){Sm=ll=Af=null}function _m(n){var r=wf.current;ct(wf),n._currentValue=r}function xm(n,r,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),n===a)break;n=n.return}}function ul(n,r){Af=n,Sm=ll=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(An=!0),n.firstContext=null)}function si(n){var r=n._currentValue;if(Sm!==n)if(n={context:n,memoizedValue:r,next:null},ll===null){if(Af===null)throw Error(t(308));ll=n,Af.dependencies={lanes:0,firstContext:n}}else ll=ll.next=n;return r}var So=null;function Cm(n){So===null?So=[n]:So.push(n)}function Dw(n,r,a,h){var m=r.interleaved;return m===null?(a.next=a,Cm(r)):(a.next=m.next,m.next=a),r.interleaved=a,_r(n,h)}function _r(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ts=!1;function Tm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function xr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function ks(n,r,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),h.pending=r,_r(n,a)}return m=h.interleaved,m===null?(r.next=r,Cm(h)):(r.next=m.next,m.next=r),h.interleaved=r,_r(n,a)}function Ef(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var h=r.lanes;h&=n.pendingLanes,a|=h,r.lanes=a,Hg(n,a)}}function Ow(n,r){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?m=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?m=y=r:y=y.next=r}else m=y=r;a={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Sf(n,r,a,h){var m=n.updateQueue;Ts=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var M=R,$=M.next;M.next=null,S===null?y=$:S.next=$,S=M;var J=n.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==S&&(R===null?J.firstBaseUpdate=$:R.next=$,J.lastBaseUpdate=M))}if(y!==null){var ee=m.baseState;S=0,J=$=M=null,R=y;do{var Y=R.lane,de=R.eventTime;if((h&Y)===Y){J!==null&&(J=J.next={eventTime:de,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=n,ve=R;switch(Y=r,de=a,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){ee=ge.call(de,ee,Y);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,Y=typeof ge=="function"?ge.call(de,ee,Y):ge,Y==null)break e;ee=se({},ee,Y);break e;case 2:Ts=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,Y=m.effects,Y===null?m.effects=[R]:Y.push(R))}else de={eventTime:de,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?($=J=de,M=ee):J=J.next=de,S|=Y;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);if(J===null&&(M=ee),m.baseState=M,m.firstBaseUpdate=$,m.lastBaseUpdate=J,r=m.shared.interleaved,r!==null){m=r;do S|=m.lane,m=m.next;while(m!==r)}else y===null&&(m.shared.lanes=0);xo|=S,n.lanes=S,n.memoizedState=ee}}function Fw(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var h=n[r],m=h.callback;if(m!==null){if(h.callback=null,h=a,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var lc={},Gi=_s(lc),uc=_s(lc),cc=_s(lc);function bo(n){if(n===lc)throw Error(t(174));return n}function km(n,r){switch(ot(cc,r),ot(uc,n),ot(Gi,lc),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fn(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Fn(r,n)}ct(Gi),ot(Gi,r)}function cl(){ct(Gi),ct(uc),ct(cc)}function Nw(n){bo(cc.current);var r=bo(Gi.current),a=Fn(r,n.type);r!==a&&(ot(uc,n),ot(Gi,a))}function Rm(n){uc.current===n&&(ct(Gi),ct(uc))}var ht=_s(0);function bf(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pm=[];function Lm(){for(var n=0;n<Pm.length;n++)Pm[n]._workInProgressVersionPrimary=null;Pm.length=0}var _f=O.ReactCurrentDispatcher,Mm=O.ReactCurrentBatchConfig,_o=0,ft=null,Tt=null,Ft=null,xf=!1,dc=!1,hc=0,l1=0;function Zt(){throw Error(t(321))}function Dm(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Ai(n[a],r[a]))return!1;return!0}function Im(n,r,a,h,m,y){if(_o=y,ft=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_f.current=n===null||n.memoizedState===null?h1:f1,n=a(h,m),dc){y=0;do{if(dc=!1,hc=0,25<=y)throw Error(t(301));y+=1,Ft=Tt=null,r.updateQueue=null,_f.current=p1,n=a(h,m)}while(dc)}if(_f.current=kf,r=Tt!==null&&Tt.next!==null,_o=0,Ft=Tt=ft=null,xf=!1,r)throw Error(t(300));return n}function Om(){var n=hc!==0;return hc=0,n}function qi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ft.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function oi(){if(Tt===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var r=Ft===null?ft.memoizedState:Ft.next;if(r!==null)Ft=r,Tt=n;else{if(n===null)throw Error(t(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ft===null?ft.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function fc(n,r){return typeof r=="function"?r(n):r}function Fm(n){var r=oi(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=Tt,m=h.baseQueue,y=a.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}h.baseQueue=m=y,a.pending=null}if(m!==null){y=m.next,h=h.baseState;var R=S=null,M=null,$=y;do{var J=$.lane;if((_o&J)===J)M!==null&&(M=M.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:n(h,$.action);else{var ee={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};M===null?(R=M=ee,S=h):M=M.next=ee,ft.lanes|=J,xo|=J}$=$.next}while($!==null&&$!==y);M===null?S=h:M.next=R,Ai(h,r.memoizedState)||(An=!0),r.memoizedState=h,r.baseState=S,r.baseQueue=M,a.lastRenderedState=h}if(n=a.interleaved,n!==null){m=n;do y=m.lane,ft.lanes|=y,xo|=y,m=m.next;while(m!==n)}else m===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Nm(n){var r=oi(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,m=a.pending,y=r.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do y=n(y,S.action),S=S.next;while(S!==m);Ai(y,r.memoizedState)||(An=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,h]}function jw(){}function Bw(n,r){var a=ft,h=oi(),m=r(),y=!Ai(h.memoizedState,m);if(y&&(h.memoizedState=m,An=!0),h=h.queue,jm(Uw.bind(null,a,h,n),[n]),h.getSnapshot!==r||y||Ft!==null&&Ft.memoizedState.tag&1){if(a.flags|=2048,pc(9,Hw.bind(null,a,h,m,r),void 0,null),Nt===null)throw Error(t(349));(_o&30)!==0||zw(a,r,m)}return m}function zw(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=ft.updateQueue,r===null?(r={lastEffect:null,stores:null},ft.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Hw(n,r,a,h){r.value=a,r.getSnapshot=h,$w(r)&&Vw(n)}function Uw(n,r,a){return a(function(){$w(r)&&Vw(n)})}function $w(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Ai(n,a)}catch{return!0}}function Vw(n){var r=_r(n,1);r!==null&&xi(r,n,1,-1)}function Ww(n){var r=qi();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:n},r.queue=n,n=n.dispatch=d1.bind(null,ft,n),[r.memoizedState,n]}function pc(n,r,a,h){return n={tag:n,create:r,destroy:a,deps:h,next:null},r=ft.updateQueue,r===null?(r={lastEffect:null,stores:null},ft.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,r.lastEffect=n)),n}function Gw(){return oi().memoizedState}function Cf(n,r,a,h){var m=qi();ft.flags|=n,m.memoizedState=pc(1|r,a,void 0,h===void 0?null:h)}function Tf(n,r,a,h){var m=oi();h=h===void 0?null:h;var y=void 0;if(Tt!==null){var S=Tt.memoizedState;if(y=S.destroy,h!==null&&Dm(h,S.deps)){m.memoizedState=pc(r,a,y,h);return}}ft.flags|=n,m.memoizedState=pc(1|r,a,y,h)}function qw(n,r){return Cf(8390656,8,n,r)}function jm(n,r){return Tf(2048,8,n,r)}function Xw(n,r){return Tf(4,2,n,r)}function Kw(n,r){return Tf(4,4,n,r)}function Yw(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Qw(n,r,a){return a=a!=null?a.concat([n]):null,Tf(4,4,Yw.bind(null,r,n),a)}function Bm(){}function Jw(n,r){var a=oi();r=r===void 0?null:r;var h=a.memoizedState;return h!==null&&r!==null&&Dm(r,h[1])?h[0]:(a.memoizedState=[n,r],n)}function Zw(n,r){var a=oi();r=r===void 0?null:r;var h=a.memoizedState;return h!==null&&r!==null&&Dm(r,h[1])?h[0]:(n=n(),a.memoizedState=[n,r],n)}function eA(n,r,a){return(_o&21)===0?(n.baseState&&(n.baseState=!1,An=!0),n.memoizedState=a):(Ai(a,r)||(a=P0(),ft.lanes|=a,xo|=a,n.baseState=!0),r)}function u1(n,r){var a=Qe;Qe=a!==0&&4>a?a:4,n(!0);var h=Mm.transition;Mm.transition={};try{n(!1),r()}finally{Qe=a,Mm.transition=h}}function tA(){return oi().memoizedState}function c1(n,r,a){var h=Ms(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},nA(n))iA(r,a);else if(a=Dw(n,r,a,h),a!==null){var m=dn();xi(a,n,h,m),rA(a,r,h)}}function d1(n,r,a){var h=Ms(n),m={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(nA(n))iA(r,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,R=y(S,a);if(m.hasEagerState=!0,m.eagerState=R,Ai(R,S)){var M=r.interleaved;M===null?(m.next=m,Cm(r)):(m.next=M.next,M.next=m),r.interleaved=m;return}}catch{}finally{}a=Dw(n,r,m,h),a!==null&&(m=dn(),xi(a,n,h,m),rA(a,r,h))}}function nA(n){var r=n.alternate;return n===ft||r!==null&&r===ft}function iA(n,r){dc=xf=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function rA(n,r,a){if((a&4194240)!==0){var h=r.lanes;h&=n.pendingLanes,a|=h,r.lanes=a,Hg(n,a)}}var kf={readContext:si,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},h1={readContext:si,useCallback:function(n,r){return qi().memoizedState=[n,r===void 0?null:r],n},useContext:si,useEffect:qw,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,Cf(4194308,4,Yw.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Cf(4194308,4,n,r)},useInsertionEffect:function(n,r){return Cf(4,2,n,r)},useMemo:function(n,r){var a=qi();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var h=qi();return r=a!==void 0?a(r):r,h.memoizedState=h.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},h.queue=n,n=n.dispatch=c1.bind(null,ft,n),[h.memoizedState,n]},useRef:function(n){var r=qi();return n={current:n},r.memoizedState=n},useState:Ww,useDebugValue:Bm,useDeferredValue:function(n){return qi().memoizedState=n},useTransition:function(){var n=Ww(!1),r=n[0];return n=u1.bind(null,n[1]),qi().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var h=ft,m=qi();if(dt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Nt===null)throw Error(t(349));(_o&30)!==0||zw(h,r,a)}m.memoizedState=a;var y={value:a,getSnapshot:r};return m.queue=y,qw(Uw.bind(null,h,y,n),[n]),h.flags|=2048,pc(9,Hw.bind(null,h,y,a,r),void 0,null),a},useId:function(){var n=qi(),r=Nt.identifierPrefix;if(dt){var a=br,h=Sr;a=(h&~(1<<32-wi(h)-1)).toString(32)+a,r=":"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=l1++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},f1={readContext:si,useCallback:Jw,useContext:si,useEffect:jm,useImperativeHandle:Qw,useInsertionEffect:Xw,useLayoutEffect:Kw,useMemo:Zw,useReducer:Fm,useRef:Gw,useState:function(){return Fm(fc)},useDebugValue:Bm,useDeferredValue:function(n){var r=oi();return eA(r,Tt.memoizedState,n)},useTransition:function(){var n=Fm(fc)[0],r=oi().memoizedState;return[n,r]},useMutableSource:jw,useSyncExternalStore:Bw,useId:tA,unstable_isNewReconciler:!1},p1={readContext:si,useCallback:Jw,useContext:si,useEffect:jm,useImperativeHandle:Qw,useInsertionEffect:Xw,useLayoutEffect:Kw,useMemo:Zw,useReducer:Nm,useRef:Gw,useState:function(){return Nm(fc)},useDebugValue:Bm,useDeferredValue:function(n){var r=oi();return Tt===null?r.memoizedState=n:eA(r,Tt.memoizedState,n)},useTransition:function(){var n=Nm(fc)[0],r=oi().memoizedState;return[n,r]},useMutableSource:jw,useSyncExternalStore:Bw,useId:tA,unstable_isNewReconciler:!1};function Si(n,r){if(n&&n.defaultProps){r=se({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function zm(n,r,a,h){r=n.memoizedState,a=a(h,r),a=a==null?r:se({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Rf={isMounted:function(n){return(n=n._reactInternals)?$i(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var h=dn(),m=Ms(n),y=xr(h,m);y.payload=r,a!=null&&(y.callback=a),r=ks(n,y,m),r!==null&&(xi(r,n,m,h),Ef(r,n,m))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var h=dn(),m=Ms(n),y=xr(h,m);y.tag=1,y.payload=r,a!=null&&(y.callback=a),r=ks(n,y,m),r!==null&&(xi(r,n,m,h),Ef(r,n,m))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=dn(),h=Ms(n),m=xr(a,h);m.tag=2,r!=null&&(m.callback=r),r=ks(n,m,h),r!==null&&(xi(r,n,h,a),Ef(r,n,h))}};function sA(n,r,a,h,m,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,S):r.prototype&&r.prototype.isPureReactComponent?!ec(a,h)||!ec(m,y):!0}function oA(n,r,a){var h=!1,m=xs,y=r.contextType;return typeof y=="object"&&y!==null?y=si(y):(m=wn(r)?wo:Jt.current,h=r.contextTypes,y=(h=h!=null)?il(n,m):xs),r=new r(a,y),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rf,n.stateNode=r,r._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),r}function aA(n,r,a,h){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,h),r.state!==n&&Rf.enqueueReplaceState(r,r.state,null)}function Hm(n,r,a,h){var m=n.stateNode;m.props=a,m.state=n.memoizedState,m.refs={},Tm(n);var y=r.contextType;typeof y=="object"&&y!==null?m.context=si(y):(y=wn(r)?wo:Jt.current,m.context=il(n,y)),m.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(zm(n,r,y,a),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&Rf.enqueueReplaceState(m,m.state,null),Sf(n,a,m,h),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function dl(n,r){try{var a="",h=r;do a+=ye(h),h=h.return;while(h);var m=a}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:r,stack:m,digest:null}}function Um(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function $m(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function lA(n,r,a){a=xr(-1,a),a.tag=3,a.payload={element:null};var h=r.value;return a.callback=function(){Ff||(Ff=!0,rv=h),$m(n,r)},a}function uA(n,r,a){a=xr(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var m=r.value;a.payload=function(){return h(m)},a.callback=function(){$m(n,r)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){$m(n,r),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})}),a}function cA(n,r,a){var h=n.pingCache;if(h===null){h=n.pingCache=new g1;var m=new Set;h.set(r,m)}else m=h.get(r),m===void 0&&(m=new Set,h.set(r,m));m.has(a)||(m.add(a),n=R1.bind(null,n,r,a),r.then(n,n))}function dA(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function hA(n,r,a,h,m){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=xr(-1,1),r.tag=2,ks(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var m1=O.ReactCurrentOwner,An=!1;function cn(n,r,a,h){r.child=n===null?Mw(r,null,a,h):al(r,n.child,a,h)}function fA(n,r,a,h,m){a=a.render;var y=r.ref;return ul(r,m),h=Im(n,r,a,h,y,m),a=Om(),n!==null&&!An?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~m,Cr(n,r,m)):(dt&&a&&vm(r),r.flags|=1,cn(n,r,h,m),r.child)}function pA(n,r,a,h,m){if(n===null){var y=a.type;return typeof y=="function"&&!dv(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=y,gA(n,r,y,h,m)):(n=Uf(a.type,null,h,r,r.mode,m),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,(n.lanes&m)===0){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:ec,a(S,h)&&n.ref===r.ref)return Cr(n,r,m)}return r.flags|=1,n=Is(y,h),n.ref=r.ref,n.return=r,r.child=n}function gA(n,r,a,h,m){if(n!==null){var y=n.memoizedProps;if(ec(y,h)&&n.ref===r.ref)if(An=!1,r.pendingProps=h=y,(n.lanes&m)!==0)(n.flags&131072)!==0&&(An=!0);else return r.lanes=n.lanes,Cr(n,r,m)}return Vm(n,r,a,h,m)}function mA(n,r,a){var h=r.pendingProps,m=h.children,y=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(fl,Hn),Hn|=a;else{if((a&1073741824)===0)return n=y!==null?y.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,ot(fl,Hn),Hn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,ot(fl,Hn),Hn|=h}else y!==null?(h=y.baseLanes|a,r.memoizedState=null):h=a,ot(fl,Hn),Hn|=h;return cn(n,r,m,a),r.child}function vA(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Vm(n,r,a,h,m){var y=wn(a)?wo:Jt.current;return y=il(r,y),ul(r,m),a=Im(n,r,a,h,y,m),h=Om(),n!==null&&!An?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~m,Cr(n,r,m)):(dt&&h&&vm(r),r.flags|=1,cn(n,r,a,m),r.child)}function yA(n,r,a,h,m){if(wn(a)){var y=!0;ff(r)}else y=!1;if(ul(r,m),r.stateNode===null)Lf(n,r),oA(r,a,h),Hm(r,a,h,m),h=!0;else if(n===null){var S=r.stateNode,R=r.memoizedProps;S.props=R;var M=S.context,$=a.contextType;typeof $=="object"&&$!==null?$=si($):($=wn(a)?wo:Jt.current,$=il(r,$));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function";ee||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==h||M!==$)&&aA(r,S,h,$),Ts=!1;var Y=r.memoizedState;S.state=Y,Sf(r,h,S,m),M=r.memoizedState,R!==h||Y!==M||yn.current||Ts?(typeof J=="function"&&(zm(r,a,J,h),M=r.memoizedState),(R=Ts||sA(r,a,R,h,Y,M,$))?(ee||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(r.flags|=4194308)):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=M),S.props=h,S.state=M,S.context=$,h=R):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{S=r.stateNode,Iw(n,r),R=r.memoizedProps,$=r.type===r.elementType?R:Si(r.type,R),S.props=$,ee=r.pendingProps,Y=S.context,M=a.contextType,typeof M=="object"&&M!==null?M=si(M):(M=wn(a)?wo:Jt.current,M=il(r,M));var de=a.getDerivedStateFromProps;(J=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==ee||Y!==M)&&aA(r,S,h,M),Ts=!1,Y=r.memoizedState,S.state=Y,Sf(r,h,S,m);var ge=r.memoizedState;R!==ee||Y!==ge||yn.current||Ts?(typeof de=="function"&&(zm(r,a,de,h),ge=r.memoizedState),($=Ts||sA(r,a,$,h,Y,ge,M)||!1)?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ge,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ge,M)),typeof S.componentDidUpdate=="function"&&(r.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=ge),S.props=h,S.state=ge,S.context=M,h=$):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),h=!1)}return Wm(n,r,a,h,y,m)}function Wm(n,r,a,h,m,y){vA(n,r);var S=(r.flags&128)!==0;if(!h&&!S)return m&&bw(r,a,!1),Cr(n,r,y);h=r.stateNode,m1.current=r;var R=S&&typeof a.getDerivedStateFromError!="function"?null:h.render();return r.flags|=1,n!==null&&S?(r.child=al(r,n.child,null,y),r.child=al(r,null,R,y)):cn(n,r,R,y),r.memoizedState=h.state,m&&bw(r,a,!0),r.child}function wA(n){var r=n.stateNode;r.pendingContext?Ew(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Ew(n,r.context,!1),km(n,r.containerInfo)}function AA(n,r,a,h,m){return ol(),Em(m),r.flags|=256,cn(n,r,a,h),r.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function qm(n){return{baseLanes:n,cachePool:null,transitions:null}}function EA(n,r,a){var h=r.pendingProps,m=ht.current,y=!1,S=(r.flags&128)!==0,R;if((R=S)||(R=n!==null&&n.memoizedState===null?!1:(m&2)!==0),R?(y=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),ot(ht,m&1),n===null)return Am(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(S=h.children,n=h.fallback,y?(h=r.mode,y=r.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=$f(S,h,0,null),n=Ro(n,h,a,null),y.return=r,n.return=r,y.sibling=n,r.child=y,r.child.memoizedState=qm(a),r.memoizedState=Gm,n):Xm(r,S));if(m=n.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return v1(n,r,S,h,R,m,a);if(y){y=h.fallback,S=r.mode,m=n.child,R=m.sibling;var M={mode:"hidden",children:h.children};return(S&1)===0&&r.child!==m?(h=r.child,h.childLanes=0,h.pendingProps=M,r.deletions=null):(h=Is(m,M),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=Is(R,y):(y=Ro(y,S,a,null),y.flags|=2),y.return=r,h.return=r,h.sibling=y,r.child=h,h=y,y=r.child,S=n.child.memoizedState,S=S===null?qm(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=n.childLanes&~a,r.memoizedState=Gm,h}return y=n.child,n=y.sibling,h=Is(y,{mode:"visible",children:h.children}),(r.mode&1)===0&&(h.lanes=a),h.return=r,h.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=h,r.memoizedState=null,h}function Xm(n,r){return r=$f({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Pf(n,r,a,h){return h!==null&&Em(h),al(r,n.child,null,a),n=Xm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function v1(n,r,a,h,m,y,S){if(a)return r.flags&256?(r.flags&=-257,h=Um(Error(t(422))),Pf(n,r,S,h)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(y=h.fallback,m=r.mode,h=$f({mode:"visible",children:h.children},m,0,null),y=Ro(y,m,S,null),y.flags|=2,h.return=r,y.return=r,h.sibling=y,r.child=h,(r.mode&1)!==0&&al(r,n.child,null,S),r.child.memoizedState=qm(S),r.memoizedState=Gm,y);if((r.mode&1)===0)return Pf(n,r,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=Um(y,h,void 0),Pf(n,r,S,h)}if(R=(S&n.childLanes)!==0,An||R){if(h=Nt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,_r(n,m),xi(h,n,m,-1))}return cv(),h=Um(Error(t(421))),Pf(n,r,S,h)}return m.data==="$?"?(r.flags|=128,r.child=n.child,r=P1.bind(null,n),m._reactRetry=r,null):(n=y.treeContext,zn=bs(m.nextSibling),Bn=r,dt=!0,Ei=null,n!==null&&(ii[ri++]=Sr,ii[ri++]=br,ii[ri++]=Ao,Sr=n.id,br=n.overflow,Ao=r),r=Xm(r,h.children),r.flags|=4096,r)}function SA(n,r,a){n.lanes|=r;var h=n.alternate;h!==null&&(h.lanes|=r),xm(n.return,r,a)}function Km(n,r,a,h,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=m)}function bA(n,r,a){var h=r.pendingProps,m=h.revealOrder,y=h.tail;if(cn(n,r,h.children,a),h=ht.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&SA(n,a,r);else if(n.tag===19)SA(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(ot(ht,h),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(a=r.child,m=null;a!==null;)n=a.alternate,n!==null&&bf(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Km(r,!1,m,a,y);break;case"backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(n=m.alternate,n!==null&&bf(n)===null){r.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Km(r,!0,a,null,y);break;case"together":Km(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lf(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Cr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),xo|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=Is(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Is(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function y1(n,r,a){switch(r.tag){case 3:wA(r),ol();break;case 5:Nw(r);break;case 1:wn(r.type)&&ff(r);break;case 4:km(r,r.stateNode.containerInfo);break;case 10:var h=r.type._context,m=r.memoizedProps.value;ot(wf,h._currentValue),h._currentValue=m;break;case 13:if(h=r.memoizedState,h!==null)return h.dehydrated!==null?(ot(ht,ht.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?EA(n,r,a):(ot(ht,ht.current&1),n=Cr(n,r,a),n!==null?n.sibling:null);ot(ht,ht.current&1);break;case 19:if(h=(a&r.childLanes)!==0,(n.flags&128)!==0){if(h)return bA(n,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ot(ht,ht.current),h)break;return null;case 22:case 23:return r.lanes=0,mA(n,r,a)}return Cr(n,r,a)}var _A,Ym,xA,CA;_A=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ym=function(){},xA=function(n,r,a,h){var m=n.memoizedProps;if(m!==h){n=r.stateNode,bo(Gi.current);var y=null;switch(a){case"input":m=lt(n,m),h=lt(n,h),y=[];break;case"select":m=se({},m,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":m=gr(n,m),h=gr(n,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=cf)}Ga(a,h);var S;a=null;for($ in m)if(!h.hasOwnProperty($)&&m.hasOwnProperty($)&&m[$]!=null)if($==="style"){var R=m[$];for(S in R)R.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var M=h[$];if(R=m!=null?m[$]:void 0,h.hasOwnProperty($)&&M!==R&&(M!=null||R!=null))if($==="style")if(R){for(S in R)!R.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in M)M.hasOwnProperty(S)&&R[S]!==M[S]&&(a||(a={}),a[S]=M[S])}else a||(y||(y=[]),y.push($,a)),a=M;else $==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,R=R?R.__html:void 0,M!=null&&R!==M&&(y=y||[]).push($,M)):$==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push($,""+M):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(s.hasOwnProperty($)?(M!=null&&$==="onScroll"&&ut("scroll",n),y||R===M||(y=[])):(y=y||[]).push($,M))}a&&(y=y||[]).push("style",a);var $=y;(r.updateQueue=$)&&(r.flags|=4)}},CA=function(n,r,a,h){a!==h&&(r.flags|=4)};function gc(n,r){if(!dt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function en(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(r)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=a,r}function w1(n,r,a){var h=r.pendingProps;switch(ym(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(r),null;case 1:return wn(r.type)&&hf(),en(r),null;case 3:return h=r.stateNode,cl(),ct(yn),ct(Jt),Lm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(vf(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ei!==null&&(av(Ei),Ei=null))),Ym(n,r),en(r),null;case 5:Rm(r);var m=bo(cc.current);if(a=r.type,n!==null&&r.stateNode!=null)xA(n,r,a,h,m),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!h){if(r.stateNode===null)throw Error(t(166));return en(r),null}if(n=bo(Gi.current),vf(r)){h=r.stateNode,a=r.type;var y=r.memoizedProps;switch(h[Wi]=r,h[sc]=y,n=(r.mode&1)!==0,a){case"dialog":ut("cancel",h),ut("close",h);break;case"iframe":case"object":case"embed":ut("load",h);break;case"video":case"audio":for(m=0;m<nc.length;m++)ut(nc[m],h);break;case"source":ut("error",h);break;case"img":case"image":case"link":ut("error",h),ut("load",h);break;case"details":ut("toggle",h);break;case"input":bt(h,y),ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},ut("invalid",h);break;case"textarea":po(h,y),ut("invalid",h)}Ga(a,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var R=y[S];S==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&uf(h.textContent,R,n),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&uf(h.textContent,R,n),m=["children",""+R]):s.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&ut("scroll",h)}switch(a){case"input":Dn(h),ds(h,y,!0);break;case"textarea":Dn(h),Wa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=cf)}h=m,r.updateQueue=h,h!==null&&(r.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fs(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=S.createElement(a,{is:h.is}):(n=S.createElement(a),a==="select"&&(S=n,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):n=S.createElementNS(n,a),n[Wi]=r,n[sc]=h,_A(n,r,!1,!1),r.stateNode=n;e:{switch(S=jh(a,h),a){case"dialog":ut("cancel",n),ut("close",n),m=h;break;case"iframe":case"object":case"embed":ut("load",n),m=h;break;case"video":case"audio":for(m=0;m<nc.length;m++)ut(nc[m],n);m=h;break;case"source":ut("error",n),m=h;break;case"img":case"image":case"link":ut("error",n),ut("load",n),m=h;break;case"details":ut("toggle",n),m=h;break;case"input":bt(n,h),m=lt(n,h),ut("invalid",n);break;case"option":m=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},m=se({},h,{value:void 0}),ut("invalid",n);break;case"textarea":po(n,h),m=gr(n,h),ut("invalid",n);break;default:m=h}Ga(a,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var M=R[y];y==="style"?vr(n,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&mr(n,M)):y==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&Nn(n,M):typeof M=="number"&&Nn(n,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?M!=null&&y==="onScroll"&&ut("scroll",n):M!=null&&I(n,y,M,S))}switch(a){case"input":Dn(n),ds(n,h,!1);break;case"textarea":Dn(n),Wa(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Re(h.value));break;case"select":n.multiple=!!h.multiple,y=h.value,y!=null?On(n,!!h.multiple,y,!1):h.defaultValue!=null&&On(n,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=cf)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return en(r),null;case 6:if(n&&r.stateNode!=null)CA(n,r,n.memoizedProps,h);else{if(typeof h!="string"&&r.stateNode===null)throw Error(t(166));if(a=bo(cc.current),bo(Gi.current),vf(r)){if(h=r.stateNode,a=r.memoizedProps,h[Wi]=r,(y=h.nodeValue!==a)&&(n=Bn,n!==null))switch(n.tag){case 3:uf(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&uf(h.nodeValue,a,(n.mode&1)!==0)}y&&(r.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Wi]=r,r.stateNode=h}return en(r),null;case 13:if(ct(ht),h=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dt&&zn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Rw(),ol(),r.flags|=98560,y=!1;else if(y=vf(r),h!==null&&h.dehydrated!==null){if(n===null){if(!y)throw Error(t(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wi]=r}else ol(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;en(r),y=!1}else Ei!==null&&(av(Ei),Ei=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(ht.current&1)!==0?kt===0&&(kt=3):cv())),r.updateQueue!==null&&(r.flags|=4),en(r),null);case 4:return cl(),Ym(n,r),n===null&&ic(r.stateNode.containerInfo),en(r),null;case 10:return _m(r.type._context),en(r),null;case 17:return wn(r.type)&&hf(),en(r),null;case 19:if(ct(ht),y=r.memoizedState,y===null)return en(r),null;if(h=(r.flags&128)!==0,S=y.rendering,S===null)if(h)gc(y,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(S=bf(n),S!==null){for(r.flags|=128,gc(y,!1),h=S.updateQueue,h!==null&&(r.updateQueue=h,r.flags|=4),r.subtreeFlags=0,h=a,a=r.child;a!==null;)y=a,n=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,n=S.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return ot(ht,ht.current&1|2),r.child}n=n.sibling}y.tail!==null&&we()>pl&&(r.flags|=128,h=!0,gc(y,!1),r.lanes=4194304)}else{if(!h)if(n=bf(S),n!==null){if(r.flags|=128,h=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),gc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!dt)return en(r),null}else 2*we()-y.renderingStartTime>pl&&a!==1073741824&&(r.flags|=128,h=!0,gc(y,!1),r.lanes=4194304);y.isBackwards?(S.sibling=r.child,r.child=S):(a=y.last,a!==null?a.sibling=S:r.child=S,y.last=S)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=we(),r.sibling=null,a=ht.current,ot(ht,h?a&1|2:a&1),r):(en(r),null);case 22:case 23:return uv(),h=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(r.flags|=8192),h&&(r.mode&1)!==0?(Hn&1073741824)!==0&&(en(r),r.subtreeFlags&6&&(r.flags|=8192)):en(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function A1(n,r){switch(ym(r),r.tag){case 1:return wn(r.type)&&hf(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return cl(),ct(yn),ct(Jt),Lm(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Rm(r),null;case 13:if(ct(ht),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));ol()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ct(ht),null;case 4:return cl(),null;case 10:return _m(r.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var Mf=!1,tn=!1,E1=typeof WeakSet=="function"?WeakSet:Set,fe=null;function hl(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){vt(n,r,h)}else a.current=null}function Qm(n,r,a){try{a()}catch(h){vt(n,r,h)}}var TA=!1;function S1(n,r){if(um=Qh,n=sw(),tm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,R=-1,M=-1,$=0,J=0,ee=n,Y=null;t:for(;;){for(var de;ee!==a||m!==0&&ee.nodeType!==3||(R=S+m),ee!==y||h!==0&&ee.nodeType!==3||(M=S+h),ee.nodeType===3&&(S+=ee.nodeValue.length),(de=ee.firstChild)!==null;)Y=ee,ee=de;for(;;){if(ee===n)break t;if(Y===a&&++$===m&&(R=S),Y===y&&++J===h&&(M=S),(de=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=de}a=R===-1||M===-1?null:{start:R,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:n,selectionRange:a},Qh=!1,fe=r;fe!==null;)if(r=fe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,fe=n;else for(;fe!==null;){r=fe;try{var ge=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,At=ge.memoizedState,N=r.stateNode,D=N.getSnapshotBeforeUpdate(r.elementType===r.type?ve:Si(r.type,ve),At);N.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var H=r.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){vt(r,r.return,ie)}if(n=r.sibling,n!==null){n.return=r.return,fe=n;break}fe=r.return}return ge=TA,TA=!1,ge}function mc(n,r,a){var h=r.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&Qm(r,a,y)}m=m.next}while(m!==h)}}function Df(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==r)}}function Jm(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function kA(n){var r=n.alternate;r!==null&&(n.alternate=null,kA(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Wi],delete r[sc],delete r[pm],delete r[r1],delete r[s1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function RA(n){return n.tag===5||n.tag===3||n.tag===4}function PA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||RA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zm(n,r,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=cf));else if(h!==4&&(n=n.child,n!==null))for(Zm(n,r,a),n=n.sibling;n!==null;)Zm(n,r,a),n=n.sibling}function ev(n,r,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(ev(n,r,a),n=n.sibling;n!==null;)ev(n,r,a),n=n.sibling}var Ut=null,bi=!1;function Rs(n,r,a){for(a=a.child;a!==null;)LA(n,r,a),a=a.sibling}function LA(n,r,a){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Wh,a)}catch{}switch(a.tag){case 5:tn||hl(a,r);case 6:var h=Ut,m=bi;Ut=null,Rs(n,r,a),Ut=h,bi=m,Ut!==null&&(bi?(n=Ut,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(bi?(n=Ut,a=a.stateNode,n.nodeType===8?fm(n.parentNode,a):n.nodeType===1&&fm(n,a),Xu(n)):fm(Ut,a.stateNode));break;case 4:h=Ut,m=bi,Ut=a.stateNode.containerInfo,bi=!0,Rs(n,r,a),Ut=h,bi=m;break;case 0:case 11:case 14:case 15:if(!tn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&Qm(a,r,S),m=m.next}while(m!==h)}Rs(n,r,a);break;case 1:if(!tn&&(hl(a,r),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){vt(a,r,R)}Rs(n,r,a);break;case 21:Rs(n,r,a);break;case 22:a.mode&1?(tn=(h=tn)||a.memoizedState!==null,Rs(n,r,a),tn=h):Rs(n,r,a);break;default:Rs(n,r,a)}}function MA(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new E1),r.forEach(function(h){var m=L1.bind(null,n,h);a.has(h)||(a.add(h),h.then(m,m))})}}function _i(n,r){var a=r.deletions;if(a!==null)for(var h=0;h<a.length;h++){var m=a[h];try{var y=n,S=r,R=S;e:for(;R!==null;){switch(R.tag){case 5:Ut=R.stateNode,bi=!1;break e;case 3:Ut=R.stateNode.containerInfo,bi=!0;break e;case 4:Ut=R.stateNode.containerInfo,bi=!0;break e}R=R.return}if(Ut===null)throw Error(t(160));LA(y,S,m),Ut=null,bi=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch($){vt(m,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)DA(r,n),r=r.sibling}function DA(n,r){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_i(r,n),Xi(n),h&4){try{mc(3,n,n.return),Df(3,n)}catch(ve){vt(n,n.return,ve)}try{mc(5,n,n.return)}catch(ve){vt(n,n.return,ve)}}break;case 1:_i(r,n),Xi(n),h&512&&a!==null&&hl(a,a.return);break;case 5:if(_i(r,n),Xi(n),h&512&&a!==null&&hl(a,a.return),n.flags&32){var m=n.stateNode;try{Nn(m,"")}catch(ve){vt(n,n.return,ve)}}if(h&4&&(m=n.stateNode,m!=null)){var y=n.memoizedProps,S=a!==null?a.memoizedProps:y,R=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&mt(m,y),jh(R,S);var $=jh(R,y);for(S=0;S<M.length;S+=2){var J=M[S],ee=M[S+1];J==="style"?vr(m,ee):J==="dangerouslySetInnerHTML"?mr(m,ee):J==="children"?Nn(m,ee):I(m,J,ee,$)}switch(R){case"input":In(m,y);break;case"textarea":Va(m,y);break;case"select":var Y=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?On(m,!!y.multiple,de,!1):Y!==!!y.multiple&&(y.defaultValue!=null?On(m,!!y.multiple,y.defaultValue,!0):On(m,!!y.multiple,y.multiple?[]:"",!1))}m[sc]=y}catch(ve){vt(n,n.return,ve)}}break;case 6:if(_i(r,n),Xi(n),h&4){if(n.stateNode===null)throw Error(t(162));m=n.stateNode,y=n.memoizedProps;try{m.nodeValue=y}catch(ve){vt(n,n.return,ve)}}break;case 3:if(_i(r,n),Xi(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Xu(r.containerInfo)}catch(ve){vt(n,n.return,ve)}break;case 4:_i(r,n),Xi(n);break;case 13:_i(r,n),Xi(n),m=n.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(iv=we())),h&4&&MA(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(tn=($=tn)||J,_i(r,n),tn=$):_i(r,n),Xi(n),h&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!J&&(n.mode&1)!==0)for(fe=n,J=n.child;J!==null;){for(ee=fe=J;fe!==null;){switch(Y=fe,de=Y.child,Y.tag){case 0:case 11:case 14:case 15:mc(4,Y,Y.return);break;case 1:hl(Y,Y.return);var ge=Y.stateNode;if(typeof ge.componentWillUnmount=="function"){h=Y,a=Y.return;try{r=h,ge.props=r.memoizedProps,ge.state=r.memoizedState,ge.componentWillUnmount()}catch(ve){vt(h,a,ve)}}break;case 5:hl(Y,Y.return);break;case 22:if(Y.memoizedState!==null){FA(ee);continue}}de!==null?(de.return=Y,fe=de):FA(ee)}J=J.sibling}e:for(J=null,ee=n;;){if(ee.tag===5){if(J===null){J=ee;try{m=ee.stateNode,$?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=ee.stateNode,M=ee.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,R.style.display=Nh("display",S))}catch(ve){vt(n,n.return,ve)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(ve){vt(n,n.return,ve)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:_i(r,n),Xi(n),h&4&&MA(n);break;case 21:break;default:_i(r,n),Xi(n)}}function Xi(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(RA(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Nn(m,""),h.flags&=-33);var y=PA(n);ev(n,y,m);break;case 3:case 4:var S=h.stateNode.containerInfo,R=PA(n);Zm(n,R,S);break;default:throw Error(t(161))}}catch(M){vt(n,n.return,M)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function b1(n,r,a){fe=n,IA(n)}function IA(n,r,a){for(var h=(n.mode&1)!==0;fe!==null;){var m=fe,y=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Mf;if(!S){var R=m.alternate,M=R!==null&&R.memoizedState!==null||tn;R=Mf;var $=tn;if(Mf=S,(tn=M)&&!$)for(fe=m;fe!==null;)S=fe,M=S.child,S.tag===22&&S.memoizedState!==null?NA(m):M!==null?(M.return=S,fe=M):NA(m);for(;y!==null;)fe=y,IA(y),y=y.sibling;fe=m,Mf=R,tn=$}OA(n)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,fe=y):OA(n)}}function OA(n){for(;fe!==null;){var r=fe;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:tn||Df(5,r);break;case 1:var h=r.stateNode;if(r.flags&4&&!tn)if(a===null)h.componentDidMount();else{var m=r.elementType===r.type?a.memoizedProps:Si(r.type,a.memoizedProps);h.componentDidUpdate(m,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&Fw(r,y,h);break;case 3:var S=r.updateQueue;if(S!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Fw(r,S,a)}break;case 5:var R=r.stateNode;if(a===null&&r.flags&4){a=R;var M=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Xu(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||r.flags&512&&Jm(r)}catch(Y){vt(r,r.return,Y)}}if(r===n){fe=null;break}if(a=r.sibling,a!==null){a.return=r.return,fe=a;break}fe=r.return}}function FA(n){for(;fe!==null;){var r=fe;if(r===n){fe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,fe=a;break}fe=r.return}}function NA(n){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Df(4,r)}catch(M){vt(r,a,M)}break;case 1:var h=r.stateNode;if(typeof h.componentDidMount=="function"){var m=r.return;try{h.componentDidMount()}catch(M){vt(r,m,M)}}var y=r.return;try{Jm(r)}catch(M){vt(r,y,M)}break;case 5:var S=r.return;try{Jm(r)}catch(M){vt(r,S,M)}}}catch(M){vt(r,r.return,M)}if(r===n){fe=null;break}var R=r.sibling;if(R!==null){R.return=r.return,fe=R;break}fe=r.return}}var _1=Math.ceil,If=O.ReactCurrentDispatcher,tv=O.ReactCurrentOwner,ai=O.ReactCurrentBatchConfig,We=0,Nt=null,_t=null,$t=0,Hn=0,fl=_s(0),kt=0,vc=null,xo=0,Of=0,nv=0,yc=null,En=null,iv=0,pl=1/0,Tr=null,Ff=!1,rv=null,Ps=null,Nf=!1,Ls=null,jf=0,wc=0,sv=null,Bf=-1,zf=0;function dn(){return(We&6)!==0?we():Bf!==-1?Bf:Bf=we()}function Ms(n){return(n.mode&1)===0?1:(We&2)!==0&&$t!==0?$t&-$t:a1.transition!==null?(zf===0&&(zf=P0()),zf):(n=Qe,n!==0||(n=window.event,n=n===void 0?16:B0(n.type)),n)}function xi(n,r,a,h){if(50<wc)throw wc=0,sv=null,Error(t(185));$u(n,a,h),((We&2)===0||n!==Nt)&&(n===Nt&&((We&2)===0&&(Of|=a),kt===4&&Ds(n,$t)),Sn(n,h),a===1&&We===0&&(r.mode&1)===0&&(pl=we()+500,pf&&Cs()))}function Sn(n,r){var a=n.callbackNode;ax(n,r);var h=Xh(n,n===Nt?$t:0);if(h===0)a!==null&&zu(a),n.callbackNode=null,n.callbackPriority=0;else if(r=h&-h,n.callbackPriority!==r){if(a!=null&&zu(a),r===1)n.tag===0?o1(BA.bind(null,n)):_w(BA.bind(null,n)),n1(function(){(We&6)===0&&Cs()}),a=null;else{switch(L0(h)){case 1:a=wt;break;case 4:a=wr;break;case 16:a=Hu;break;case 536870912:a=R0;break;default:a=Hu}a=qA(a,jA.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function jA(n,r){if(Bf=-1,zf=0,(We&6)!==0)throw Error(t(327));var a=n.callbackNode;if(gl()&&n.callbackNode!==a)return null;var h=Xh(n,n===Nt?$t:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||r)r=Hf(n,h);else{r=h;var m=We;We|=2;var y=HA();(Nt!==n||$t!==r)&&(Tr=null,pl=we()+500,To(n,r));do try{T1();break}catch(R){zA(n,R)}while(!0);bm(),If.current=y,We=m,_t!==null?r=0:(Nt=null,$t=0,r=kt)}if(r!==0){if(r===2&&(m=Bg(n),m!==0&&(h=m,r=ov(n,m))),r===1)throw a=vc,To(n,0),Ds(n,h),Sn(n,we()),a;if(r===6)Ds(n,h);else{if(m=n.current.alternate,(h&30)===0&&!x1(m)&&(r=Hf(n,h),r===2&&(y=Bg(n),y!==0&&(h=y,r=ov(n,y))),r===1))throw a=vc,To(n,0),Ds(n,h),Sn(n,we()),a;switch(n.finishedWork=m,n.finishedLanes=h,r){case 0:case 1:throw Error(t(345));case 2:ko(n,En,Tr);break;case 3:if(Ds(n,h),(h&130023424)===h&&(r=iv+500-we(),10<r)){if(Xh(n,0)!==0)break;if(m=n.suspendedLanes,(m&h)!==h){dn(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=hm(ko.bind(null,n,En,Tr),r);break}ko(n,En,Tr);break;case 4:if(Ds(n,h),(h&4194240)===h)break;for(r=n.eventTimes,m=-1;0<h;){var S=31-wi(h);y=1<<S,S=r[S],S>m&&(m=S),h&=~y}if(h=m,h=we()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*_1(h/1960))-h,10<h){n.timeoutHandle=hm(ko.bind(null,n,En,Tr),h);break}ko(n,En,Tr);break;case 5:ko(n,En,Tr);break;default:throw Error(t(329))}}}return Sn(n,we()),n.callbackNode===a?jA.bind(null,n):null}function ov(n,r){var a=yc;return n.current.memoizedState.isDehydrated&&(To(n,r).flags|=256),n=Hf(n,r),n!==2&&(r=En,En=a,r!==null&&av(r)),n}function av(n){En===null?En=n:En.push.apply(En,n)}function x1(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var m=a[h],y=m.getSnapshot;m=m.value;try{if(!Ai(y(),m))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ds(n,r){for(r&=~nv,r&=~Of,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-wi(r),h=1<<a;n[a]=-1,r&=~h}}function BA(n){if((We&6)!==0)throw Error(t(327));gl();var r=Xh(n,0);if((r&1)===0)return Sn(n,we()),null;var a=Hf(n,r);if(n.tag!==0&&a===2){var h=Bg(n);h!==0&&(r=h,a=ov(n,h))}if(a===1)throw a=vc,To(n,0),Ds(n,r),Sn(n,we()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ko(n,En,Tr),Sn(n,we()),null}function lv(n,r){var a=We;We|=1;try{return n(r)}finally{We=a,We===0&&(pl=we()+500,pf&&Cs())}}function Co(n){Ls!==null&&Ls.tag===0&&(We&6)===0&&gl();var r=We;We|=1;var a=ai.transition,h=Qe;try{if(ai.transition=null,Qe=1,n)return n()}finally{Qe=h,ai.transition=a,We=r,(We&6)===0&&Cs()}}function uv(){Hn=fl.current,ct(fl)}function To(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,t1(a)),_t!==null)for(a=_t.return;a!==null;){var h=a;switch(ym(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&hf();break;case 3:cl(),ct(yn),ct(Jt),Lm();break;case 5:Rm(h);break;case 4:cl();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:_m(h.type._context);break;case 22:case 23:uv()}a=a.return}if(Nt=n,_t=n=Is(n.current,null),$t=Hn=r,kt=0,vc=null,nv=Of=xo=0,En=yc=null,So!==null){for(r=0;r<So.length;r++)if(a=So[r],h=a.interleaved,h!==null){a.interleaved=null;var m=h.next,y=a.pending;if(y!==null){var S=y.next;y.next=m,h.next=S}a.pending=h}So=null}return n}function zA(n,r){do{var a=_t;try{if(bm(),_f.current=kf,xf){for(var h=ft.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}xf=!1}if(_o=0,Ft=Tt=ft=null,dc=!1,hc=0,tv.current=null,a===null||a.return===null){kt=1,vc=r,_t=null;break}e:{var y=n,S=a.return,R=a,M=r;if(r=$t,R.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=M,J=R,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var de=dA(S);if(de!==null){de.flags&=-257,hA(de,S,R,y,r),de.mode&1&&cA(y,$,r),r=de,M=$;var ge=r.updateQueue;if(ge===null){var ve=new Set;ve.add(M),r.updateQueue=ve}else ge.add(M);break e}else{if((r&1)===0){cA(y,$,r),cv();break e}M=Error(t(426))}}else if(dt&&R.mode&1){var At=dA(S);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),hA(At,S,R,y,r),Em(dl(M,R));break e}}y=M=dl(M,R),kt!==4&&(kt=2),yc===null?yc=[y]:yc.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var N=lA(y,M,r);Ow(y,N);break e;case 1:R=M;var D=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ps===null||!Ps.has(H)))){y.flags|=65536,r&=-r,y.lanes|=r;var ie=uA(y,R,r);Ow(y,ie);break e}}y=y.return}while(y!==null)}$A(a)}catch(Ae){r=Ae,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function HA(){var n=If.current;return If.current=kf,n===null?kf:n}function cv(){(kt===0||kt===3||kt===2)&&(kt=4),Nt===null||(xo&268435455)===0&&(Of&268435455)===0||Ds(Nt,$t)}function Hf(n,r){var a=We;We|=2;var h=HA();(Nt!==n||$t!==r)&&(Tr=null,To(n,r));do try{C1();break}catch(m){zA(n,m)}while(!0);if(bm(),We=a,If.current=h,_t!==null)throw Error(t(261));return Nt=null,$t=0,kt}function C1(){for(;_t!==null;)UA(_t)}function T1(){for(;_t!==null&&!V();)UA(_t)}function UA(n){var r=GA(n.alternate,n,Hn);n.memoizedProps=n.pendingProps,r===null?$A(n):_t=r,tv.current=null}function $A(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=w1(a,r,Hn),a!==null){_t=a;return}}else{if(a=A1(a,r),a!==null){a.flags&=32767,_t=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,_t=null;return}}if(r=r.sibling,r!==null){_t=r;return}_t=r=n}while(r!==null);kt===0&&(kt=5)}function ko(n,r,a){var h=Qe,m=ai.transition;try{ai.transition=null,Qe=1,k1(n,r,a,h)}finally{ai.transition=m,Qe=h}return null}function k1(n,r,a,h){do gl();while(Ls!==null);if((We&6)!==0)throw Error(t(327));a=n.finishedWork;var m=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(lx(n,y),n===Nt&&(_t=Nt=null,$t=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Nf||(Nf=!0,qA(Hu,function(){return gl(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=ai.transition,ai.transition=null;var S=Qe;Qe=1;var R=We;We|=4,tv.current=null,S1(n,a),DA(a,n),Xx(cm),Qh=!!um,cm=um=null,n.current=a,b1(a),xe(),We=R,Qe=S,ai.transition=y}else n.current=a;if(Nf&&(Nf=!1,Ls=n,jf=m),y=n.pendingLanes,y===0&&(Ps=null),nx(a.stateNode),Sn(n,we()),r!==null)for(h=n.onRecoverableError,a=0;a<r.length;a++)m=r[a],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ff)throw Ff=!1,n=rv,rv=null,n;return(jf&1)!==0&&n.tag!==0&&gl(),y=n.pendingLanes,(y&1)!==0?n===sv?wc++:(wc=0,sv=n):wc=0,Cs(),null}function gl(){if(Ls!==null){var n=L0(jf),r=ai.transition,a=Qe;try{if(ai.transition=null,Qe=16>n?16:n,Ls===null)var h=!1;else{if(n=Ls,Ls=null,jf=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,fe=n.current;fe!==null;){var y=fe,S=y.child;if((fe.flags&16)!==0){var R=y.deletions;if(R!==null){for(var M=0;M<R.length;M++){var $=R[M];for(fe=$;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:mc(8,J,y)}var ee=J.child;if(ee!==null)ee.return=J,fe=ee;else for(;fe!==null;){J=fe;var Y=J.sibling,de=J.return;if(kA(J),J===$){fe=null;break}if(Y!==null){Y.return=de,fe=Y;break}fe=de}}}var ge=y.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var At=ve.sibling;ve.sibling=null,ve=At}while(ve!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,fe=S;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:mc(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,fe=N;break e}fe=y.return}}var D=n.current;for(fe=D;fe!==null;){S=fe;var H=S.child;if((S.subtreeFlags&2064)!==0&&H!==null)H.return=S,fe=H;else e:for(S=D;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Df(9,R)}}catch(Ae){vt(R,R.return,Ae)}if(R===S){fe=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,fe=ie;break e}fe=R.return}}if(We=m,Cs(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Wh,n)}catch{}h=!0}return h}finally{Qe=a,ai.transition=r}}return!1}function VA(n,r,a){r=dl(a,r),r=lA(n,r,1),n=ks(n,r,1),r=dn(),n!==null&&($u(n,1,r),Sn(n,r))}function vt(n,r,a){if(n.tag===3)VA(n,n,a);else for(;r!==null;){if(r.tag===3){VA(r,n,a);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ps===null||!Ps.has(h))){n=dl(a,n),n=uA(r,n,1),r=ks(r,n,1),n=dn(),r!==null&&($u(r,1,n),Sn(r,n));break}}r=r.return}}function R1(n,r,a){var h=n.pingCache;h!==null&&h.delete(r),r=dn(),n.pingedLanes|=n.suspendedLanes&a,Nt===n&&($t&a)===a&&(kt===4||kt===3&&($t&130023424)===$t&&500>we()-iv?To(n,0):nv|=a),Sn(n,r)}function WA(n,r){r===0&&((n.mode&1)===0?r=1:(r=qh,qh<<=1,(qh&130023424)===0&&(qh=4194304)));var a=dn();n=_r(n,r),n!==null&&($u(n,r,a),Sn(n,a))}function P1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),WA(n,a)}function L1(n,r){var a=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(r),WA(n,a)}var GA;GA=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||yn.current)An=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return An=!1,y1(n,r,a);An=(n.flags&131072)!==0}else An=!1,dt&&(r.flags&1048576)!==0&&xw(r,mf,r.index);switch(r.lanes=0,r.tag){case 2:var h=r.type;Lf(n,r),n=r.pendingProps;var m=il(r,Jt.current);ul(r,a),m=Im(null,r,h,n,m,a);var y=Om();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wn(h)?(y=!0,ff(r)):y=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Tm(r),m.updater=Rf,r.stateNode=m,m._reactInternals=r,Hm(r,h,n,a),r=Wm(null,r,h,!0,y,a)):(r.tag=0,dt&&y&&vm(r),cn(null,r,m,a),r=r.child),r;case 16:h=r.elementType;e:{switch(Lf(n,r),n=r.pendingProps,m=h._init,h=m(h._payload),r.type=h,m=r.tag=D1(h),n=Si(h,n),m){case 0:r=Vm(null,r,h,n,a);break e;case 1:r=yA(null,r,h,n,a);break e;case 11:r=fA(null,r,h,n,a);break e;case 14:r=pA(null,r,h,Si(h.type,n),a);break e}throw Error(t(306,h,""))}return r;case 0:return h=r.type,m=r.pendingProps,m=r.elementType===h?m:Si(h,m),Vm(n,r,h,m,a);case 1:return h=r.type,m=r.pendingProps,m=r.elementType===h?m:Si(h,m),yA(n,r,h,m,a);case 3:e:{if(wA(r),n===null)throw Error(t(387));h=r.pendingProps,y=r.memoizedState,m=y.element,Iw(n,r),Sf(r,h,null,a);var S=r.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){m=dl(Error(t(423)),r),r=AA(n,r,h,a,m);break e}else if(h!==m){m=dl(Error(t(424)),r),r=AA(n,r,h,a,m);break e}else for(zn=bs(r.stateNode.containerInfo.firstChild),Bn=r,dt=!0,Ei=null,a=Mw(r,null,h,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ol(),h===m){r=Cr(n,r,a);break e}cn(n,r,h,a)}r=r.child}return r;case 5:return Nw(r),n===null&&Am(r),h=r.type,m=r.pendingProps,y=n!==null?n.memoizedProps:null,S=m.children,dm(h,m)?S=null:y!==null&&dm(h,y)&&(r.flags|=32),vA(n,r),cn(n,r,S,a),r.child;case 6:return n===null&&Am(r),null;case 13:return EA(n,r,a);case 4:return km(r,r.stateNode.containerInfo),h=r.pendingProps,n===null?r.child=al(r,null,h,a):cn(n,r,h,a),r.child;case 11:return h=r.type,m=r.pendingProps,m=r.elementType===h?m:Si(h,m),fA(n,r,h,m,a);case 7:return cn(n,r,r.pendingProps,a),r.child;case 8:return cn(n,r,r.pendingProps.children,a),r.child;case 12:return cn(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(h=r.type._context,m=r.pendingProps,y=r.memoizedProps,S=m.value,ot(wf,h._currentValue),h._currentValue=S,y!==null)if(Ai(y.value,S)){if(y.children===m.children&&!yn.current){r=Cr(n,r,a);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var R=y.dependencies;if(R!==null){S=y.child;for(var M=R.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=xr(-1,a&-a),M.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?M.next=M:(M.next=J.next,J.next=M),$.pending=M}}y.lanes|=a,M=y.alternate,M!==null&&(M.lanes|=a),xm(y.return,a,r),R.lanes|=a;break}M=M.next}}else if(y.tag===10)S=y.type===r.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=a,R=S.alternate,R!==null&&(R.lanes|=a),xm(S,a,r),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===r){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}cn(n,r,m.children,a),r=r.child}return r;case 9:return m=r.type,h=r.pendingProps.children,ul(r,a),m=si(m),h=h(m),r.flags|=1,cn(n,r,h,a),r.child;case 14:return h=r.type,m=Si(h,r.pendingProps),m=Si(h.type,m),pA(n,r,h,m,a);case 15:return gA(n,r,r.type,r.pendingProps,a);case 17:return h=r.type,m=r.pendingProps,m=r.elementType===h?m:Si(h,m),Lf(n,r),r.tag=1,wn(h)?(n=!0,ff(r)):n=!1,ul(r,a),oA(r,h,m),Hm(r,h,m,a),Wm(null,r,h,!0,n,a);case 19:return bA(n,r,a);case 22:return mA(n,r,a)}throw Error(t(156,r.tag))};function qA(n,r){return Vh(n,r)}function M1(n,r,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(n,r,a,h){return new M1(n,r,a,h)}function dv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function D1(n){if(typeof n=="function")return dv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Se)return 11;if(n===ne)return 14}return 2}function Is(n,r){var a=n.alternate;return a===null?(a=li(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Uf(n,r,a,h,m,y){var S=2;if(h=n,typeof n=="function")dv(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case q:return Ro(a.children,m,y,r);case K:S=8,m|=8;break;case X:return n=li(12,a,r,m|2),n.elementType=X,n.lanes=y,n;case he:return n=li(13,a,r,m),n.elementType=he,n.lanes=y,n;case ae:return n=li(19,a,r,m),n.elementType=ae,n.lanes=y,n;case Q:return $f(a,m,y,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:S=10;break e;case re:S=9;break e;case Se:S=11;break e;case ne:S=14;break e;case te:S=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=li(S,a,r,m),r.elementType=n,r.type=h,r.lanes=y,r}function Ro(n,r,a,h){return n=li(7,n,h,r),n.lanes=a,n}function $f(n,r,a,h){return n=li(22,n,h,r),n.elementType=Q,n.lanes=a,n.stateNode={isHidden:!1},n}function hv(n,r,a){return n=li(6,n,null,r),n.lanes=a,n}function fv(n,r,a){return r=li(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function I1(n,r,a,h,m){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zg(0),this.expirationTimes=zg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function pv(n,r,a,h,m,y,S,R,M){return n=new I1(n,r,a,R,M),r===1?(r=1,y===!0&&(r|=8)):r=0,y=li(3,null,null,r),n.current=y,y.stateNode=n,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(y),n}function O1(n,r,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:h==null?null:""+h,children:n,containerInfo:r,implementation:a}}function XA(n){if(!n)return xs;n=n._reactInternals;e:{if($i(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(wn(a))return Sw(n,a,r)}return r}function KA(n,r,a,h,m,y,S,R,M){return n=pv(a,h,!0,n,m,y,S,R,M),n.context=XA(null),a=n.current,h=dn(),m=Ms(a),y=xr(h,m),y.callback=r??null,ks(a,y,m),n.current.lanes=m,$u(n,m,h),Sn(n,h),n}function Vf(n,r,a,h){var m=r.current,y=dn(),S=Ms(m);return a=XA(a),r.context===null?r.context=a:r.pendingContext=a,r=xr(y,S),r.payload={element:n},h=h===void 0?null:h,h!==null&&(r.callback=h),n=ks(m,r,S),n!==null&&(xi(n,m,S,y),Ef(n,m,S)),S}function Wf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function YA(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gv(n,r){YA(n,r),(n=n.alternate)&&YA(n,r)}function F1(){return null}var QA=typeof reportError=="function"?reportError:function(n){console.error(n)};function mv(n){this._internalRoot=n}Gf.prototype.render=mv.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Vf(n,r,null,null)},Gf.prototype.unmount=mv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Co(function(){Vf(null,n,null,null)}),r[Ar]=null}};function Gf(n){this._internalRoot=n}Gf.prototype.unstable_scheduleHydration=function(n){if(n){var r=I0();n={blockedOn:null,target:n,priority:r};for(var a=0;a<As.length&&r!==0&&r<As[a].priority;a++);As.splice(a,0,n),a===0&&N0(n)}};function vv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function qf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function JA(){}function N1(n,r,a,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var $=Wf(S);y.call($)}}var S=KA(r,h,n,0,null,!1,!1,"",JA);return n._reactRootContainer=S,n[Ar]=S.current,ic(n.nodeType===8?n.parentNode:n),Co(),S}for(;m=n.lastChild;)n.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var $=Wf(M);R.call($)}}var M=pv(n,0,!1,null,null,!1,!1,"",JA);return n._reactRootContainer=M,n[Ar]=M.current,ic(n.nodeType===8?n.parentNode:n),Co(function(){Vf(r,M,a,h)}),M}function Xf(n,r,a,h,m){var y=a._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var R=m;m=function(){var M=Wf(S);R.call(M)}}Vf(r,S,n,m)}else S=N1(a,r,n,m,h);return Wf(S)}M0=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Uu(r.pendingLanes);a!==0&&(Hg(r,a|1),Sn(r,we()),(We&6)===0&&(pl=we()+500,Cs()))}break;case 13:Co(function(){var h=_r(n,1);if(h!==null){var m=dn();xi(h,n,1,m)}}),gv(n,1)}},Ug=function(n){if(n.tag===13){var r=_r(n,134217728);if(r!==null){var a=dn();xi(r,n,134217728,a)}gv(n,134217728)}},D0=function(n){if(n.tag===13){var r=Ms(n),a=_r(n,r);if(a!==null){var h=dn();xi(a,n,r,h)}gv(n,r)}},I0=function(){return Qe},O0=function(n,r){var a=Qe;try{return Qe=n,r()}finally{Qe=a}},Ru=function(n,r,a){switch(r){case"input":if(In(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var h=a[r];if(h!==n&&h.form===n.form){var m=df(h);if(!m)throw Error(t(90));ti(h),In(h,m)}}}break;case"textarea":Va(n,a);break;case"select":r=a.value,r!=null&&On(n,!!a.multiple,r,!1)}},Lu=lv,Mu=Co;var j1={usingClientEntryPoint:!1,Events:[oc,tl,df,Hh,Pu,lv]},Ac={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bu(n),n===null?null:n.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||F1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{Wh=Kf.inject(B1),Vi=Kf}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1,bn.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(r))throw Error(t(200));return O1(n,r,null,a)},bn.createRoot=function(n,r){if(!vv(n))throw Error(t(299));var a=!1,h="",m=QA;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=pv(n,1,!1,null,null,a,!1,h,m),n[Ar]=r.current,ic(n.nodeType===8?n.parentNode:n),new mv(r)},bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Bu(r),n=n===null?null:n.stateNode,n},bn.flushSync=function(n){return Co(n)},bn.hydrate=function(n,r,a){if(!qf(r))throw Error(t(200));return Xf(null,n,r,!0,a)},bn.hydrateRoot=function(n,r,a){if(!vv(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,m=!1,y="",S=QA;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),r=KA(r,null,n,1,a??null,m,!1,y,S),n[Ar]=r.current,ic(n),h)for(n=0;n<h.length;n++)a=h[n],m=a._getVersion,m=m(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,m]:r.mutableSourceEagerHydrationData.push(a,m);return new Gf(r)},bn.render=function(n,r,a){if(!qf(r))throw Error(t(200));return Xf(null,n,r,!1,a)},bn.unmountComponentAtNode=function(n){if(!qf(n))throw Error(t(40));return n._reactRootContainer?(Co(function(){Xf(null,null,n,!1,function(){n._reactRootContainer=null,n[Ar]=null})}),!0):!1},bn.unstable_batchedUpdates=lv,bn.unstable_renderSubtreeIntoContainer=function(n,r,a,h){if(!qf(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Xf(n,r,a,!1,h)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var aE;function K1(){if(aE)return Ev.exports;aE=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),Ev.exports=X1(),Ev.exports}var lE;function Y1(){if(lE)return Yf;lE=1;var l=K1();return Yf.createRoot=l.createRoot,Yf.hydrateRoot=l.hydrateRoot,Yf}var Q1=Y1();function J1(l={}){const{nonce:e,locale:t,onScriptLoadSuccess:i,onScriptLoadError:s}=l,[o,u]=j.useState(!1),d=j.useRef(i);d.current=i;const f=j.useRef(s);return f.current=s,j.useEffect(()=>{const p=document.createElement("script");return p.src="https://accounts.google.com/gsi/client",t&&(p.src+=`?hl=${t}`),p.async=!0,p.defer=!0,p.nonce=e,p.onload=()=>{var g;u(!0),(g=d.current)===null||g===void 0||g.call(d)},p.onerror=()=>{var g;u(!1),(g=f.current)===null||g===void 0||g.call(f)},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[e]),o}const hS=j.createContext(null);function Z1({clientId:l,nonce:e,locale:t,onScriptLoadSuccess:i,onScriptLoadError:s,children:o}){const u=J1({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:s,locale:t}),d=j.useMemo(()=>({locale:t,clientId:l,scriptLoadedSuccessfully:u}),[l,u]);return Ma.createElement(hS.Provider,{value:d},o)}function eC(){const l=j.useContext(hS);if(!l)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return l}function tC(){var l,e,t;(t=(e=(l=window==null?void 0:window.google)===null||l===void 0?void 0:l.accounts)===null||e===void 0?void 0:e.id)===null||t===void 0||t.disableAutoSelect()}function nC({flow:l="implicit",scope:e="",onSuccess:t,onError:i,onNonOAuthError:s,overrideScope:o,state:u,...d}){const{clientId:f,scriptLoadedSuccessfully:p}=eC(),g=j.useRef(),v=j.useRef(t);v.current=t;const w=j.useRef(i);w.current=i;const E=j.useRef(s);E.current=s,j.useEffect(()=>{var C,k;if(!p)return;const L=l==="implicit"?"initTokenClient":"initCodeClient",I=(k=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||k===void 0?void 0:k.oauth2[L]({client_id:f,scope:o?e:`openid profile email ${e}`,callback:O=>{var F,B;if(O.error)return(F=w.current)===null||F===void 0?void 0:F.call(w,O);(B=v.current)===null||B===void 0||B.call(v,O)},error_callback:O=>{var F;(F=E.current)===null||F===void 0||F.call(E,O)},state:u,...d});g.current=I},[f,p,l,e,u]);const A=j.useCallback(C=>{var k;return(k=g.current)===null||k===void 0?void 0:k.requestAccessToken(C)},[]),x=j.useCallback(()=>{var C;return(C=g.current)===null||C===void 0?void 0:C.requestCode()},[]);return l==="implicit"?A:x}function fS(l,e){return function(){return l.apply(e,arguments)}}const{toString:iC}=Object.prototype,{getPrototypeOf:u0}=Object,{iterator:pg,toStringTag:pS}=Symbol,gg=(l=>e=>{const t=iC.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Hi=l=>(l=l.toLowerCase(),e=>gg(e)===l),mg=l=>e=>typeof e===l,{isArray:Tu}=Array,xu=mg("undefined");function Ch(l){return l!==null&&!xu(l)&&l.constructor!==null&&!xu(l.constructor)&&Pn(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const gS=Hi("ArrayBuffer");function rC(l){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(l):e=l&&l.buffer&&gS(l.buffer),e}const sC=mg("string"),Pn=mg("function"),mS=mg("number"),Th=l=>l!==null&&typeof l=="object",oC=l=>l===!0||l===!1,up=l=>{if(gg(l)!=="object")return!1;const e=u0(l);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pS in l)&&!(pg in l)},aC=l=>{if(!Th(l)||Ch(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},lC=Hi("Date"),uC=Hi("File"),cC=Hi("Blob"),dC=Hi("FileList"),hC=l=>Th(l)&&Pn(l.pipe),fC=l=>{let e;return l&&(typeof FormData=="function"&&l instanceof FormData||Pn(l.append)&&((e=gg(l))==="formdata"||e==="object"&&Pn(l.toString)&&l.toString()==="[object FormData]"))},pC=Hi("URLSearchParams"),[gC,mC,vC,yC]=["ReadableStream","Request","Response","Headers"].map(Hi),wC=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kh(l,e,{allOwnKeys:t=!1}={}){if(l===null||typeof l>"u")return;let i,s;if(typeof l!="object"&&(l=[l]),Tu(l))for(i=0,s=l.length;i<s;i++)e.call(null,l[i],i,l);else{if(Ch(l))return;const o=t?Object.getOwnPropertyNames(l):Object.keys(l),u=o.length;let d;for(i=0;i<u;i++)d=o[i],e.call(null,l[d],d,l)}}function vS(l,e){if(Ch(l))return null;e=e.toLowerCase();const t=Object.keys(l);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yS=l=>!xu(l)&&l!==Fo;function Bv(){const{caseless:l,skipUndefined:e}=yS(this)&&this||{},t={},i=(s,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const u=l&&vS(t,o)||o;up(t[u])&&up(s)?t[u]=Bv(t[u],s):up(s)?t[u]=Bv({},s):Tu(s)?t[u]=s.slice():(!e||!xu(s))&&(t[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&kh(arguments[s],i);return t}const AC=(l,e,t,{allOwnKeys:i}={})=>(kh(e,(s,o)=>{t&&Pn(s)?Object.defineProperty(l,o,{value:fS(s,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(l,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),l),EC=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),SC=(l,e,t,i)=>{l.prototype=Object.create(e.prototype,i),Object.defineProperty(l.prototype,"constructor",{value:l,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(l,"super",{value:e.prototype}),t&&Object.assign(l.prototype,t)},bC=(l,e,t,i)=>{let s,o,u;const d={};if(e=e||{},l==null)return e;do{for(s=Object.getOwnPropertyNames(l),o=s.length;o-- >0;)u=s[o],(!i||i(u,l,e))&&!d[u]&&(e[u]=l[u],d[u]=!0);l=t!==!1&&u0(l)}while(l&&(!t||t(l,e))&&l!==Object.prototype);return e},_C=(l,e,t)=>{l=String(l),(t===void 0||t>l.length)&&(t=l.length),t-=e.length;const i=l.indexOf(e,t);return i!==-1&&i===t},xC=l=>{if(!l)return null;if(Tu(l))return l;let e=l.length;if(!mS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=l[e];return t},CC=(l=>e=>l&&e instanceof l)(typeof Uint8Array<"u"&&u0(Uint8Array)),TC=(l,e)=>{const i=(l&&l[pg]).call(l);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(l,o[0],o[1])}},kC=(l,e)=>{let t;const i=[];for(;(t=l.exec(e))!==null;)i.push(t);return i},RC=Hi("HTMLFormElement"),PC=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),uE=(({hasOwnProperty:l})=>(e,t)=>l.call(e,t))(Object.prototype),LC=Hi("RegExp"),wS=(l,e)=>{const t=Object.getOwnPropertyDescriptors(l),i={};kh(t,(s,o)=>{let u;(u=e(s,o,l))!==!1&&(i[o]=u||s)}),Object.defineProperties(l,i)},MC=l=>{wS(l,(e,t)=>{if(Pn(l)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=l[t];if(Pn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},DC=(l,e)=>{const t={},i=s=>{s.forEach(o=>{t[o]=!0})};return Tu(l)?i(l):i(String(l).split(e)),t},IC=()=>{},OC=(l,e)=>l!=null&&Number.isFinite(l=+l)?l:e;function FC(l){return!!(l&&Pn(l.append)&&l[pS]==="FormData"&&l[pg])}const NC=l=>{const e=new Array(10),t=(i,s)=>{if(Th(i)){if(e.indexOf(i)>=0)return;if(Ch(i))return i;if(!("toJSON"in i)){e[s]=i;const o=Tu(i)?[]:{};return kh(i,(u,d)=>{const f=t(u,s+1);!xu(f)&&(o[d]=f)}),e[s]=void 0,o}}return i};return t(l,0)},jC=Hi("AsyncFunction"),BC=l=>l&&(Th(l)||Pn(l))&&Pn(l.then)&&Pn(l.catch),AS=((l,e)=>l?setImmediate:e?((t,i)=>(Fo.addEventListener("message",({source:s,data:o})=>{s===Fo&&o===t&&i.length&&i.shift()()},!1),s=>{i.push(s),Fo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Pn(Fo.postMessage)),zC=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||AS,HC=l=>l!=null&&Pn(l[pg]),G={isArray:Tu,isArrayBuffer:gS,isBuffer:Ch,isFormData:fC,isArrayBufferView:rC,isString:sC,isNumber:mS,isBoolean:oC,isObject:Th,isPlainObject:up,isEmptyObject:aC,isReadableStream:gC,isRequest:mC,isResponse:vC,isHeaders:yC,isUndefined:xu,isDate:lC,isFile:uC,isBlob:cC,isRegExp:LC,isFunction:Pn,isStream:hC,isURLSearchParams:pC,isTypedArray:CC,isFileList:dC,forEach:kh,merge:Bv,extend:AC,trim:wC,stripBOM:EC,inherits:SC,toFlatObject:bC,kindOf:gg,kindOfTest:Hi,endsWith:_C,toArray:xC,forEachEntry:TC,matchAll:kC,isHTMLForm:RC,hasOwnProperty:uE,hasOwnProp:uE,reduceDescriptors:wS,freezeMethods:MC,toObjectSet:DC,toCamelCase:PC,noop:IC,toFiniteNumber:OC,findKey:vS,global:Fo,isContextDefined:yS,isSpecCompliantForm:FC,toJSONObject:NC,isAsyncFn:jC,isThenable:BC,setImmediate:AS,asap:zC,isIterable:HC};let Pe=class ES extends Error{static from(e,t,i,s,o,u){const d=new ES(e.message,t||e.code,i,s,o);return d.cause=e,d.name=e.name,u&&Object.assign(d,u),d}constructor(e,t,i,s,o){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}};Pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Pe.ERR_BAD_OPTION="ERR_BAD_OPTION";Pe.ECONNABORTED="ECONNABORTED";Pe.ETIMEDOUT="ETIMEDOUT";Pe.ERR_NETWORK="ERR_NETWORK";Pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Pe.ERR_DEPRECATED="ERR_DEPRECATED";Pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Pe.ERR_CANCELED="ERR_CANCELED";Pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Pe.ERR_INVALID_URL="ERR_INVALID_URL";const UC=null;function zv(l){return G.isPlainObject(l)||G.isArray(l)}function SS(l){return G.endsWith(l,"[]")?l.slice(0,-2):l}function cE(l,e,t){return l?l.concat(e).map(function(s,o){return s=SS(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function $C(l){return G.isArray(l)&&!l.some(zv)}const VC=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function vg(l,e,t){if(!G.isObject(l))throw new TypeError("target must be an object");e=e||new FormData,t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!G.isUndefined(C[x])});const i=t.metaTokens,s=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(s))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(G.isDate(A))return A.toISOString();if(G.isBoolean(A))return A.toString();if(!f&&G.isBlob(A))throw new Pe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(A)||G.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,x,C){let k=A;if(A&&!C&&typeof A=="object"){if(G.endsWith(x,"{}"))x=i?x:x.slice(0,-2),A=JSON.stringify(A);else if(G.isArray(A)&&$C(A)||(G.isFileList(A)||G.endsWith(x,"[]"))&&(k=G.toArray(A)))return x=SS(x),k.forEach(function(I,O){!(G.isUndefined(I)||I===null)&&e.append(u===!0?cE([x],O,o):u===null?x:x+"[]",p(I))}),!1}return zv(A)?!0:(e.append(cE(C,x,o),p(A)),!1)}const v=[],w=Object.assign(VC,{defaultVisitor:g,convertValue:p,isVisitable:zv});function E(A,x){if(!G.isUndefined(A)){if(v.indexOf(A)!==-1)throw Error("Circular reference detected in "+x.join("."));v.push(A),G.forEach(A,function(k,L){(!(G.isUndefined(k)||k===null)&&s.call(e,k,G.isString(L)?L.trim():L,x,w))===!0&&E(k,x?x.concat(L):[L])}),v.pop()}}if(!G.isObject(l))throw new TypeError("data must be an object");return E(l),e}function dE(l){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function c0(l,e){this._pairs=[],l&&vg(l,this,e)}const bS=c0.prototype;bS.append=function(e,t){this._pairs.push([e,t])};bS.toString=function(e){const t=e?function(i){return e.call(this,i,dE)}:dE;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function WC(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _S(l,e,t){if(!e)return l;const i=t&&t.encode||WC,s=G.isFunction(t)?{serialize:t}:t,o=s&&s.serialize;let u;if(o?u=o(e,s):u=G.isURLSearchParams(e)?e.toString():new c0(e,s).toString(i),u){const d=l.indexOf("#");d!==-1&&(l=l.slice(0,d)),l+=(l.indexOf("?")===-1?"?":"&")+u}return l}class hE{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(i){i!==null&&e(i)})}}const d0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},GC=typeof URLSearchParams<"u"?URLSearchParams:c0,qC=typeof FormData<"u"?FormData:null,XC=typeof Blob<"u"?Blob:null,KC={isBrowser:!0,classes:{URLSearchParams:GC,FormData:qC,Blob:XC},protocols:["http","https","file","blob","url","data"]},h0=typeof window<"u"&&typeof document<"u",Hv=typeof navigator=="object"&&navigator||void 0,YC=h0&&(!Hv||["ReactNative","NativeScript","NS"].indexOf(Hv.product)<0),QC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JC=h0&&window.location.href||"http://localhost",ZC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:h0,hasStandardBrowserEnv:YC,hasStandardBrowserWebWorkerEnv:QC,navigator:Hv,origin:JC},Symbol.toStringTag,{value:"Module"})),an={...ZC,...KC};function eT(l,e){return vg(l,new an.classes.URLSearchParams,{visitor:function(t,i,s,o){return an.isNode&&G.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function tT(l){return G.matchAll(/\w+|\[(\w*)]/g,l).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nT(l){const e={},t=Object.keys(l);let i;const s=t.length;let o;for(i=0;i<s;i++)o=t[i],e[o]=l[o];return e}function xS(l){function e(t,i,s,o){let u=t[o++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=o>=t.length;return u=!u&&G.isArray(s)?s.length:u,f?(G.hasOwnProp(s,u)?s[u]=[s[u],i]:s[u]=i,!d):((!s[u]||!G.isObject(s[u]))&&(s[u]=[]),e(t,i,s[u],o)&&G.isArray(s[u])&&(s[u]=nT(s[u])),!d)}if(G.isFormData(l)&&G.isFunction(l.entries)){const t={};return G.forEachEntry(l,(i,s)=>{e(tT(i),s,t,0)}),t}return null}function iT(l,e,t){if(G.isString(l))try{return(e||JSON.parse)(l),G.trim(l)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(l)}const Rh={transitional:d0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return s?JSON.stringify(xS(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return eT(e,this.formSerializer).toString();if((d=G.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return vg(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),iT(e)):e}],transformResponse:[function(e){const t=this.transitional||Rh.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(i&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Pe.from(d,Pe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],l=>{Rh.headers[l]={}});const rT=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sT=l=>{const e={};let t,i,s;return l&&l.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),i=u.substring(s+1).trim(),!(!t||e[t]&&rT[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},fE=Symbol("internals");function Sc(l){return l&&String(l).trim().toLowerCase()}function cp(l){return l===!1||l==null?l:G.isArray(l)?l.map(cp):String(l)}function oT(l){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(l);)e[i[1]]=i[2];return e}const aT=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function _v(l,e,t,i,s){if(G.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!G.isString(e)){if(G.isString(i))return e.indexOf(i)!==-1;if(G.isRegExp(i))return i.test(e)}}function lT(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function uT(l,e){const t=G.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(l,i+t,{value:function(s,o,u){return this[i].call(this,e,s,o,u)},configurable:!0})})}let Ln=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function o(d,f,p){const g=Sc(f);if(!g)throw new Error("header name must be a non-empty string");const v=G.findKey(s,g);(!v||s[v]===void 0||p===!0||p===void 0&&s[v]!==!1)&&(s[v||f]=cp(d))}const u=(d,f)=>G.forEach(d,(p,g)=>o(p,g,f));if(G.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(G.isString(e)&&(e=e.trim())&&!aT(e))u(sT(e),t);else if(G.isObject(e)&&G.isIterable(e)){let d={},f,p;for(const g of e){if(!G.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[p=g[0]]=(f=d[p])?G.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(d,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=Sc(e),e){const i=G.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return oT(s);if(G.isFunction(t))return t.call(this,s,i);if(G.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sc(e),e){const i=G.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||_v(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function o(u){if(u=Sc(u),u){const d=G.findKey(i,u);d&&(!t||_v(i,i[d],d,t))&&(delete i[d],s=!0)}}return G.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const o=t[i];(!e||_v(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,i={};return G.forEach(this,(s,o)=>{const u=G.findKey(i,o);if(u){t[u]=cp(s),delete t[o];return}const d=e?lT(o):String(o).trim();d!==o&&delete t[o],t[d]=cp(s),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&G.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[fE]=this[fE]={accessors:{}}).accessors,s=this.prototype;function o(u){const d=Sc(u);i[d]||(uT(s,u),i[d]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Ln.prototype,({value:l},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>l,set(i){this[t]=i}}});G.freezeMethods(Ln);function xv(l,e){const t=this||Rh,i=e||t,s=Ln.from(i.headers);let o=i.data;return G.forEach(l,function(d){o=d.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function CS(l){return!!(l&&l.__CANCEL__)}let Ph=class extends Pe{constructor(e,t,i){super(e??"canceled",Pe.ERR_CANCELED,t,i),this.name="CanceledError",this.__CANCEL__=!0}};function TS(l,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?l(t):e(new Pe("Request failed with status code "+t.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function cT(l){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return e&&e[1]||""}function dT(l,e){l=l||10;const t=new Array(l),i=new Array(l);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=i[o];u||(u=p),t[s]=f,i[s]=p;let v=o,w=0;for(;v!==s;)w+=t[v++],v=v%l;if(s=(s+1)%l,s===o&&(o=(o+1)%l),p-u<e)return;const E=g&&p-g;return E?Math.round(w*1e3/E):void 0}}function hT(l,e){let t=0,i=1e3/e,s,o;const u=(p,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),l(...p)};return[(...p)=>{const g=Date.now(),v=g-t;v>=i?u(p,g):(s=p,o||(o=setTimeout(()=>{o=null,u(s)},i-v)))},()=>s&&u(s)]}const Bp=(l,e,t=3)=>{let i=0;const s=dT(50,250);return hT(o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,f=u-i,p=s(f),g=u<=d;i=u;const v={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&g?(d-u)/p:void 0,event:o,lengthComputable:d!=null,[e?"download":"upload"]:!0};l(v)},t)},pE=(l,e)=>{const t=l!=null;return[i=>e[0]({lengthComputable:t,total:l,loaded:i}),e[1]]},gE=l=>(...e)=>G.asap(()=>l(...e)),fT=an.hasStandardBrowserEnv?((l,e)=>t=>(t=new URL(t,an.origin),l.protocol===t.protocol&&l.host===t.host&&(e||l.port===t.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,pT=an.hasStandardBrowserEnv?{write(l,e,t,i,s,o,u){if(typeof document>"u")return;const d=[`${l}=${encodeURIComponent(e)}`];G.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),G.isString(i)&&d.push(`path=${i}`),G.isString(s)&&d.push(`domain=${s}`),o===!0&&d.push("secure"),G.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(l){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gT(l){return typeof l!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function mT(l,e){return e?l.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):l}function kS(l,e,t){let i=!gT(e);return l&&(i||t==!1)?mT(l,e):e}const mE=l=>l instanceof Ln?{...l}:l;function Ia(l,e){e=e||{};const t={};function i(p,g,v,w){return G.isPlainObject(p)&&G.isPlainObject(g)?G.merge.call({caseless:w},p,g):G.isPlainObject(g)?G.merge({},g):G.isArray(g)?g.slice():g}function s(p,g,v,w){if(G.isUndefined(g)){if(!G.isUndefined(p))return i(void 0,p,v,w)}else return i(p,g,v,w)}function o(p,g){if(!G.isUndefined(g))return i(void 0,g)}function u(p,g){if(G.isUndefined(g)){if(!G.isUndefined(p))return i(void 0,p)}else return i(void 0,g)}function d(p,g,v){if(v in e)return i(p,g);if(v in l)return i(void 0,p)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(p,g,v)=>s(mE(p),mE(g),v,!0)};return G.forEach(Object.keys({...l,...e}),function(g){if(g==="__proto__"||g==="constructor"||g==="prototype")return;const v=G.hasOwnProp(f,g)?f[g]:s,w=v(l[g],e[g],g);G.isUndefined(w)&&v!==d||(t[g]=w)}),t}const RS=l=>{const e=Ia({},l);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:d}=e;if(e.headers=u=Ln.from(u),e.url=_S(kS(e.baseURL,e.url,e.allowAbsoluteUrls),l.params,l.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),G.isFormData(t)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(G.isFunction(t.getHeaders)){const f=t.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([g,v])=>{p.includes(g.toLowerCase())&&u.set(g,v)})}}if(an.hasStandardBrowserEnv&&(i&&G.isFunction(i)&&(i=i(e)),i||i!==!1&&fT(e.url))){const f=s&&o&&pT.read(o);f&&u.set(s,f)}return e},vT=typeof XMLHttpRequest<"u",yT=vT&&function(l){return new Promise(function(t,i){const s=RS(l);let o=s.data;const u=Ln.from(s.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=s,g,v,w,E,A;function x(){E&&E(),A&&A(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function k(){if(!C)return;const I=Ln.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:I,config:l,request:C};TS(function(q){t(q),x()},function(q){i(q),x()},F),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(i(new Pe("Request aborted",Pe.ECONNABORTED,l,C)),C=null)},C.onerror=function(O){const F=O&&O.message?O.message:"Network Error",B=new Pe(F,Pe.ERR_NETWORK,l,C);B.event=O||null,i(B),C=null},C.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||d0;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),i(new Pe(O,F.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,l,C)),C=null},o===void 0&&u.setContentType(null),"setRequestHeader"in C&&G.forEach(u.toJSON(),function(O,F){C.setRequestHeader(F,O)}),G.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),d&&d!=="json"&&(C.responseType=s.responseType),p&&([w,A]=Bp(p,!0),C.addEventListener("progress",w)),f&&C.upload&&([v,E]=Bp(f),C.upload.addEventListener("progress",v),C.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(g=I=>{C&&(i(!I||I.type?new Ph(null,l,C):I),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const L=cT(s.url);if(L&&an.protocols.indexOf(L)===-1){i(new Pe("Unsupported protocol "+L+":",Pe.ERR_BAD_REQUEST,l));return}C.send(o||null)})},wT=(l,e)=>{const{length:t}=l=l?l.filter(Boolean):[];if(e||t){let i=new AbortController,s;const o=function(p){if(!s){s=!0,d();const g=p instanceof Error?p:this.reason;i.abort(g instanceof Pe?g:new Ph(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Pe(`timeout of ${e}ms exceeded`,Pe.ETIMEDOUT))},e);const d=()=>{l&&(u&&clearTimeout(u),u=null,l.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),l=null)};l.forEach(p=>p.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>G.asap(d),f}},AT=function*(l,e){let t=l.byteLength;if(t<e){yield l;return}let i=0,s;for(;i<t;)s=i+e,yield l.slice(i,s),i=s},ET=async function*(l,e){for await(const t of ST(l))yield*AT(t,e)},ST=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const e=l.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},vE=(l,e,t,i)=>{const s=ET(l,e);let o=0,u,d=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await s.next();if(p){d(),f.close();return}let v=g.byteLength;if(t){let w=o+=v;t(w)}f.enqueue(new Uint8Array(g))}catch(p){throw d(p),p}},cancel(f){return d(f),s.return()}},{highWaterMark:2})},yE=64*1024,{isFunction:Qf}=G,bT=(({Request:l,Response:e})=>({Request:l,Response:e}))(G.global),{ReadableStream:wE,TextEncoder:AE}=G.global,EE=(l,...e)=>{try{return!!l(...e)}catch{return!1}},_T=l=>{l=G.merge.call({skipUndefined:!0},bT,l);const{fetch:e,Request:t,Response:i}=l,s=e?Qf(e):typeof fetch=="function",o=Qf(t),u=Qf(i);if(!s)return!1;const d=s&&Qf(wE),f=s&&(typeof AE=="function"?(A=>x=>A.encode(x))(new AE):async A=>new Uint8Array(await new t(A).arrayBuffer())),p=o&&d&&EE(()=>{let A=!1;const x=new t(an.origin,{body:new wE,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!x}),g=u&&d&&EE(()=>G.isReadableStream(new i("").body)),v={stream:g&&(A=>A.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!v[A]&&(v[A]=(x,C)=>{let k=x&&x[A];if(k)return k.call(x);throw new Pe(`Response type '${A}' is not supported`,Pe.ERR_NOT_SUPPORT,C)})});const w=async A=>{if(A==null)return 0;if(G.isBlob(A))return A.size;if(G.isSpecCompliantForm(A))return(await new t(an.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(G.isArrayBufferView(A)||G.isArrayBuffer(A))return A.byteLength;if(G.isURLSearchParams(A)&&(A=A+""),G.isString(A))return(await f(A)).byteLength},E=async(A,x)=>{const C=G.toFiniteNumber(A.getContentLength());return C??w(x)};return async A=>{let{url:x,method:C,data:k,signal:L,cancelToken:I,timeout:O,onDownloadProgress:F,onUploadProgress:B,responseType:q,headers:K,withCredentials:X="same-origin",fetchOptions:Z}=RS(A),re=e||fetch;q=q?(q+"").toLowerCase():"text";let Se=wT([L,I&&I.toAbortSignal()],O),he=null;const ae=Se&&Se.unsubscribe&&(()=>{Se.unsubscribe()});let ne;try{if(B&&p&&C!=="get"&&C!=="head"&&(ne=await E(K,k))!==0){let P=new t(x,{method:"POST",body:k,duplex:"half"}),z;if(G.isFormData(k)&&(z=P.headers.get("content-type"))&&K.setContentType(z),P.body){const[oe,pe]=pE(ne,Bp(gE(B)));k=vE(P.body,yE,oe,pe)}}G.isString(X)||(X=X?"include":"omit");const te=o&&"credentials"in t.prototype,Q={...Z,signal:Se,method:C.toUpperCase(),headers:K.normalize().toJSON(),body:k,duplex:"half",credentials:te?X:void 0};he=o&&new t(x,Q);let W=await(o?re(he,Z):re(x,Q));const le=g&&(q==="stream"||q==="response");if(g&&(F||le&&ae)){const P={};["status","statusText","headers"].forEach(ye=>{P[ye]=W[ye]});const z=G.toFiniteNumber(W.headers.get("content-length")),[oe,pe]=F&&pE(z,Bp(gE(F),!0))||[];W=new i(vE(W.body,yE,oe,()=>{pe&&pe(),ae&&ae()}),P)}q=q||"text";let se=await v[G.findKey(v,q)||"text"](W,A);return!le&&ae&&ae(),await new Promise((P,z)=>{TS(P,z,{data:se,headers:Ln.from(W.headers),status:W.status,statusText:W.statusText,config:A,request:he})})}catch(te){throw ae&&ae(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,A,he,te&&te.response),{cause:te.cause||te}):Pe.from(te,te&&te.code,A,he,te&&te.response)}}},xT=new Map,PS=l=>{let e=l&&l.env||{};const{fetch:t,Request:i,Response:s}=e,o=[i,s,t];let u=o.length,d=u,f,p,g=xT;for(;d--;)f=o[d],p=g.get(f),p===void 0&&g.set(f,p=d?new Map:_T(e)),g=p;return p};PS();const f0={http:UC,xhr:yT,fetch:{get:PS}};G.forEach(f0,(l,e)=>{if(l){try{Object.defineProperty(l,"name",{value:e})}catch{}Object.defineProperty(l,"adapterName",{value:e})}});const SE=l=>`- ${l}`,CT=l=>G.isFunction(l)||l===null||l===!1;function TT(l,e){l=G.isArray(l)?l:[l];const{length:t}=l;let i,s;const o={};for(let u=0;u<t;u++){i=l[u];let d;if(s=i,!CT(i)&&(s=f0[(d=String(i)).toLowerCase()],s===void 0))throw new Pe(`Unknown adapter '${d}'`);if(s&&(G.isFunction(s)||(s=s.get(e))))break;o[d||"#"+u]=s}if(!s){const u=Object.entries(o).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(SE).join(`
`):" "+SE(u[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const LS={getAdapter:TT,adapters:f0};function Cv(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Ph(null,l)}function bE(l){return Cv(l),l.headers=Ln.from(l.headers),l.data=xv.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),LS.getAdapter(l.adapter||Rh.adapter,l)(l).then(function(i){return Cv(l),i.data=xv.call(l,l.transformResponse,i),i.headers=Ln.from(i.headers),i},function(i){return CS(i)||(Cv(l),i&&i.response&&(i.response.data=xv.call(l,l.transformResponse,i.response),i.response.headers=Ln.from(i.response.headers))),Promise.reject(i)})}const MS="1.13.5",yg={};["object","boolean","number","function","string","symbol"].forEach((l,e)=>{yg[l]=function(i){return typeof i===l||"a"+(e<1?"n ":" ")+l}});const _E={};yg.transitional=function(e,t,i){function s(o,u){return"[Axios v"+MS+"] Transitional option '"+o+"'"+u+(i?". "+i:"")}return(o,u,d)=>{if(e===!1)throw new Pe(s(u," has been removed"+(t?" in "+t:"")),Pe.ERR_DEPRECATED);return t&&!_E[u]&&(_E[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,d):!0}};yg.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function kT(l,e,t){if(typeof l!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const i=Object.keys(l);let s=i.length;for(;s-- >0;){const o=i[s],u=e[o];if(u){const d=l[o],f=d===void 0||u(d,o,l);if(f!==!0)throw new Pe("option "+o+" must be "+f,Pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}const dp={assertOptions:kT,validators:yg},ui=dp.validators;let Da=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hE,response:new hE}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ia(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:o}=t;i!==void 0&&dp.assertOptions(i,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean),legacyInterceptorReqResOrdering:ui.transitional(ui.boolean)},!1),s!=null&&(G.isFunction(s)?t.paramsSerializer={serialize:s}:dp.assertOptions(s,{encode:ui.function,serialize:ui.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dp.assertOptions(t,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&G.merge(o.common,o[t.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),t.headers=Ln.concat(u,o);const d=[];let f=!0;this.interceptors.request.forEach(function(x){if(typeof x.runWhen=="function"&&x.runWhen(t)===!1)return;f=f&&x.synchronous;const C=t.transitional||d0;C&&C.legacyInterceptorReqResOrdering?d.unshift(x.fulfilled,x.rejected):d.push(x.fulfilled,x.rejected)});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,v=0,w;if(!f){const A=[bE.bind(this),void 0];for(A.unshift(...d),A.push(...p),w=A.length,g=Promise.resolve(t);v<w;)g=g.then(A[v++],A[v++]);return g}w=d.length;let E=t;for(;v<w;){const A=d[v++],x=d[v++];try{E=A(E)}catch(C){x.call(this,C);break}}try{g=bE.call(this,E)}catch(A){return Promise.reject(A)}for(v=0,w=p.length;v<w;)g=g.then(p[v++],p[v++]);return g}getUri(e){e=Ia(this.defaults,e);const t=kS(e.baseURL,e.url,e.allowAbsoluteUrls);return _S(t,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Da.prototype[e]=function(t,i){return this.request(Ia(i||{},{method:e,url:t,data:(i||{}).data}))}});G.forEach(["post","put","patch"],function(e){function t(i){return function(o,u,d){return this.request(Ia(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Da.prototype[e]=t(),Da.prototype[e+"Form"]=t(!0)});let RT=class DS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(d=>{i.subscribe(d),o=d}).then(s);return u.cancel=function(){i.unsubscribe(o)},u},e(function(o,u,d){i.reason||(i.reason=new Ph(o,u,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new DS(function(s){e=s}),cancel:e}}};function PT(l){return function(t){return l.apply(null,t)}}function LT(l){return G.isObject(l)&&l.isAxiosError===!0}const Uv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Uv).forEach(([l,e])=>{Uv[e]=l});function IS(l){const e=new Da(l),t=fS(Da.prototype.request,e);return G.extend(t,Da.prototype,e,{allOwnKeys:!0}),G.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return IS(Ia(l,s))},t}const Fe=IS(Rh);Fe.Axios=Da;Fe.CanceledError=Ph;Fe.CancelToken=RT;Fe.isCancel=CS;Fe.VERSION=MS;Fe.toFormData=vg;Fe.AxiosError=Pe;Fe.Cancel=Fe.CanceledError;Fe.all=function(e){return Promise.all(e)};Fe.spread=PT;Fe.isAxiosError=LT;Fe.mergeConfig=Ia;Fe.AxiosHeaders=Ln;Fe.formToJSON=l=>xS(G.isHTMLForm(l)?new FormData(l):l);Fe.getAdapter=LS.getAdapter;Fe.HttpStatusCode=Uv;Fe.default=Fe;const{Axios:vM,AxiosError:yM,CanceledError:wM,isCancel:AM,CancelToken:EM,VERSION:SM,all:bM,Cancel:_M,isAxiosError:xM,spread:CM,toFormData:TM,AxiosHeaders:kM,HttpStatusCode:RM,formToJSON:PM,getAdapter:LM,mergeConfig:MM}=Fe;function xE(l,e){(e==null||e>l.length)&&(e=l.length);for(var t=0,i=Array(e);t<e;t++)i[t]=l[t];return i}function MT(l){if(Array.isArray(l))return l}function DT(l,e,t){return(e=zT(e))in l?Object.defineProperty(l,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[e]=t,l}function IT(l,e){var t=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(t!=null){var i,s,o,u,d=[],f=!0,p=!1;try{if(o=(t=t.call(l)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(d.push(i.value),d.length!==e);f=!0);}catch(g){p=!0,s=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return d}}function OT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CE(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable})),t.push.apply(t,i)}return t}function TE(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(t),!0).forEach(function(i){DT(l,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):CE(Object(t)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(t,i))})}return l}function FT(l,e){if(l==null)return{};var t,i,s=NT(l,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(l,t)&&(s[t]=l[t])}return s}function NT(l,e){if(l==null)return{};var t={};for(var i in l)if({}.hasOwnProperty.call(l,i)){if(e.indexOf(i)!==-1)continue;t[i]=l[i]}return t}function jT(l,e){return MT(l)||IT(l,e)||HT(l,e)||OT()}function BT(l,e){if(typeof l!="object"||!l)return l;var t=l[Symbol.toPrimitive];if(t!==void 0){var i=t.call(l,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(l)}function zT(l){var e=BT(l,"string");return typeof e=="symbol"?e:e+""}function HT(l,e){if(l){if(typeof l=="string")return xE(l,e);var t={}.toString.call(l).slice(8,-1);return t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set"?Array.from(l):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xE(l,e):void 0}}function UT(l,e,t){return e in l?Object.defineProperty(l,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[e]=t,l}function kE(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable})),t.push.apply(t,i)}return t}function RE(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(t),!0).forEach(function(i){UT(l,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):kE(Object(t)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(t,i))})}return l}function $T(){for(var l=arguments.length,e=new Array(l),t=0;t<l;t++)e[t]=arguments[t];return function(i){return e.reduceRight(function(s,o){return o(s)},i)}}function Cc(l){return function e(){for(var t=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length>=l.length?l.apply(this,s):function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return e.apply(t,[].concat(s,d))}}}function zp(l){return{}.toString.call(l).includes("Object")}function VT(l){return!Object.keys(l).length}function Gc(l){return typeof l=="function"}function WT(l,e){return Object.prototype.hasOwnProperty.call(l,e)}function GT(l,e){return zp(e)||lo("changeType"),Object.keys(e).some(function(t){return!WT(l,t)})&&lo("changeField"),e}function qT(l){Gc(l)||lo("selectorType")}function XT(l){Gc(l)||zp(l)||lo("handlerType"),zp(l)&&Object.values(l).some(function(e){return!Gc(e)})&&lo("handlersType")}function KT(l){l||lo("initialIsRequired"),zp(l)||lo("initialType"),VT(l)&&lo("initialContent")}function YT(l,e){throw new Error(l[e]||l.default)}var QT={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},lo=Cc(YT)(QT),Jf={changes:GT,selector:qT,handler:XT,initial:KT};function JT(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Jf.initial(l),Jf.handler(e);var t={current:l},i=Cc(tk)(t,e),s=Cc(ek)(t),o=Cc(Jf.changes)(l),u=Cc(ZT)(t);function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return Jf.selector(p),p(t.current)}function f(p){$T(i,s,o,u)(p)}return[d,f]}function ZT(l,e){return Gc(e)?e(l.current):e}function ek(l,e){return l.current=RE(RE({},l.current),e),e}function tk(l,e,t){return Gc(e)?e(l.current):Object.keys(t).forEach(function(i){var s;return(s=e[i])===null||s===void 0?void 0:s.call(e,l.current[i])}),t}var nk={create:JT},ik={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function rk(l){return function e(){for(var t=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length>=l.length?l.apply(this,s):function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return e.apply(t,[].concat(s,d))}}}function sk(l){return{}.toString.call(l).includes("Object")}function ok(l){return l||PE("configIsRequired"),sk(l)||PE("configType"),l.urls?(ak(),{paths:{vs:l.urls.monacoBase}}):l}function ak(){console.warn(OS.deprecation)}function lk(l,e){throw new Error(l[e]||l.default)}var OS={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},PE=rk(lk)(OS),uk={config:ok},ck=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(s){return t.reduceRight(function(o,u){return u(o)},s)}};function FS(l,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&l[t]&&Object.assign(e[t],FS(l[t],e[t]))}),TE(TE({},l),e)}var dk={type:"cancelation",msg:"operation is manually canceled"};function Tv(l){var e=!1,t=new Promise(function(i,s){l.then(function(o){return e?s(dk):i(o)}),l.catch(s)});return t.cancel=function(){return e=!0},t}var hk=["monaco"],fk=nk.create({config:ik,isInitialized:!1,resolve:null,reject:null,monaco:null}),NS=jT(fk,2),Lh=NS[0],wg=NS[1];function pk(l){var e=uk.config(l),t=e.monaco,i=FT(e,hk);wg(function(s){return{config:FS(s.config,i),monaco:t}})}function gk(){var l=Lh(function(e){var t=e.monaco,i=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:i,resolve:s}});if(!l.isInitialized){if(wg({isInitialized:!0}),l.monaco)return l.resolve(l.monaco),Tv(kv);if(window.monaco&&window.monaco.editor)return jS(window.monaco),l.resolve(window.monaco),Tv(kv);ck(mk,yk)(wk)}return Tv(kv)}function mk(l){return document.body.appendChild(l)}function vk(l){var e=document.createElement("script");return l&&(e.src=l),e}function yk(l){var e=Lh(function(i){var s=i.config,o=i.reject;return{config:s,reject:o}}),t=vk("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return l()},t.onerror=e.reject,t}function wk(){var l=Lh(function(t){var i=t.config,s=t.resolve,o=t.reject;return{config:i,resolve:s,reject:o}}),e=window.require;e.config(l.config),e(["vs/editor/editor.main"],function(t){var i=t.m||t;jS(i),l.resolve(i)},function(t){l.reject(t)})}function jS(l){Lh().monaco||wg({monaco:l})}function Ak(){return Lh(function(l){var e=l.monaco;return e})}var kv=new Promise(function(l,e){return wg({resolve:l,reject:e})}),BS={config:pk,init:gk,__getMonacoInstance:Ak},Ek={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Rv=Ek,Sk={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},bk=Sk;function _k({children:l}){return Ma.createElement("div",{style:bk.container},l)}var xk=_k,Ck=xk;function Tk({width:l,height:e,isEditorReady:t,loading:i,_ref:s,className:o,wrapperProps:u}){return Ma.createElement("section",{style:{...Rv.wrapper,width:l,height:e},...u},!t&&Ma.createElement(Ck,null,i),Ma.createElement("div",{ref:s,style:{...Rv.fullWidth,...!t&&Rv.hide},className:o}))}var kk=Tk,zS=j.memo(kk);function Rk(l){j.useEffect(l,[])}var HS=Rk;function Pk(l,e,t=!0){let i=j.useRef(!0);j.useEffect(i.current||!t?()=>{i.current=!1}:l,e)}var Zn=Pk;function Uc(){}function bl(l,e,t,i){return Lk(l,i)||Mk(l,e,t,i)}function Lk(l,e){return l.editor.getModel(US(l,e))}function Mk(l,e,t,i){return l.editor.createModel(e,t,i?US(l,i):void 0)}function US(l,e){return l.Uri.parse(e)}function Dk({original:l,modified:e,language:t,originalLanguage:i,modifiedLanguage:s,originalModelPath:o,modifiedModelPath:u,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:f=!1,theme:p="light",loading:g="Loading...",options:v={},height:w="100%",width:E="100%",className:A,wrapperProps:x={},beforeMount:C=Uc,onMount:k=Uc}){let[L,I]=j.useState(!1),[O,F]=j.useState(!0),B=j.useRef(null),q=j.useRef(null),K=j.useRef(null),X=j.useRef(k),Z=j.useRef(C),re=j.useRef(!1);HS(()=>{let ne=BS.init();return ne.then(te=>(q.current=te)&&F(!1)).catch(te=>(te==null?void 0:te.type)!=="cancelation"&&console.error("Monaco initialization: error:",te)),()=>B.current?ae():ne.cancel()}),Zn(()=>{if(B.current&&q.current){let ne=B.current.getOriginalEditor(),te=bl(q.current,l||"",i||t||"text",o||"");te!==ne.getModel()&&ne.setModel(te)}},[o],L),Zn(()=>{if(B.current&&q.current){let ne=B.current.getModifiedEditor(),te=bl(q.current,e||"",s||t||"text",u||"");te!==ne.getModel()&&ne.setModel(te)}},[u],L),Zn(()=>{let ne=B.current.getModifiedEditor();ne.getOption(q.current.editor.EditorOption.readOnly)?ne.setValue(e||""):e!==ne.getValue()&&(ne.executeEdits("",[{range:ne.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ne.pushUndoStop())},[e],L),Zn(()=>{var ne,te;(te=(ne=B.current)==null?void 0:ne.getModel())==null||te.original.setValue(l||"")},[l],L),Zn(()=>{let{original:ne,modified:te}=B.current.getModel();q.current.editor.setModelLanguage(ne,i||t||"text"),q.current.editor.setModelLanguage(te,s||t||"text")},[t,i,s],L),Zn(()=>{var ne;(ne=q.current)==null||ne.editor.setTheme(p)},[p],L),Zn(()=>{var ne;(ne=B.current)==null||ne.updateOptions(v)},[v],L);let Se=j.useCallback(()=>{var Q;if(!q.current)return;Z.current(q.current);let ne=bl(q.current,l||"",i||t||"text",o||""),te=bl(q.current,e||"",s||t||"text",u||"");(Q=B.current)==null||Q.setModel({original:ne,modified:te})},[t,e,s,l,i,o,u]),he=j.useCallback(()=>{var ne;!re.current&&K.current&&(B.current=q.current.editor.createDiffEditor(K.current,{automaticLayout:!0,...v}),Se(),(ne=q.current)==null||ne.editor.setTheme(p),I(!0),re.current=!0)},[v,p,Se]);j.useEffect(()=>{L&&X.current(B.current,q.current)},[L]),j.useEffect(()=>{!O&&!L&&he()},[O,L,he]);function ae(){var te,Q,W,le;let ne=(te=B.current)==null?void 0:te.getModel();d||((Q=ne==null?void 0:ne.original)==null||Q.dispose()),f||((W=ne==null?void 0:ne.modified)==null||W.dispose()),(le=B.current)==null||le.dispose()}return Ma.createElement(zS,{width:E,height:w,isEditorReady:L,loading:g,_ref:K,className:A,wrapperProps:x})}var Ik=Dk;j.memo(Ik);function Ok(l){let e=j.useRef();return j.useEffect(()=>{e.current=l},[l]),e.current}var Fk=Ok,Zf=new Map;function Nk({defaultValue:l,defaultLanguage:e,defaultPath:t,value:i,language:s,path:o,theme:u="light",line:d,loading:f="Loading...",options:p={},overrideServices:g={},saveViewState:v=!0,keepCurrentModel:w=!1,width:E="100%",height:A="100%",className:x,wrapperProps:C={},beforeMount:k=Uc,onMount:L=Uc,onChange:I,onValidate:O=Uc}){let[F,B]=j.useState(!1),[q,K]=j.useState(!0),X=j.useRef(null),Z=j.useRef(null),re=j.useRef(null),Se=j.useRef(L),he=j.useRef(k),ae=j.useRef(),ne=j.useRef(i),te=Fk(o),Q=j.useRef(!1),W=j.useRef(!1);HS(()=>{let P=BS.init();return P.then(z=>(X.current=z)&&K(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>Z.current?se():P.cancel()}),Zn(()=>{var z,oe,pe,ye;let P=bl(X.current,l||i||"",e||s||"",o||t||"");P!==((z=Z.current)==null?void 0:z.getModel())&&(v&&Zf.set(te,(oe=Z.current)==null?void 0:oe.saveViewState()),(pe=Z.current)==null||pe.setModel(P),v&&((ye=Z.current)==null||ye.restoreViewState(Zf.get(o))))},[o],F),Zn(()=>{var P;(P=Z.current)==null||P.updateOptions(p)},[p],F),Zn(()=>{!Z.current||i===void 0||(Z.current.getOption(X.current.editor.EditorOption.readOnly)?Z.current.setValue(i):i!==Z.current.getValue()&&(W.current=!0,Z.current.executeEdits("",[{range:Z.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),Z.current.pushUndoStop(),W.current=!1))},[i],F),Zn(()=>{var z,oe;let P=(z=Z.current)==null?void 0:z.getModel();P&&s&&((oe=X.current)==null||oe.editor.setModelLanguage(P,s))},[s],F),Zn(()=>{var P;d!==void 0&&((P=Z.current)==null||P.revealLine(d))},[d],F),Zn(()=>{var P;(P=X.current)==null||P.editor.setTheme(u)},[u],F);let le=j.useCallback(()=>{var P;if(!(!re.current||!X.current)&&!Q.current){he.current(X.current);let z=o||t,oe=bl(X.current,i||l||"",e||s||"",z||"");Z.current=(P=X.current)==null?void 0:P.editor.create(re.current,{model:oe,automaticLayout:!0,...p},g),v&&Z.current.restoreViewState(Zf.get(z)),X.current.editor.setTheme(u),d!==void 0&&Z.current.revealLine(d),B(!0),Q.current=!0}},[l,e,t,i,s,o,p,g,v,u,d]);j.useEffect(()=>{F&&Se.current(Z.current,X.current)},[F]),j.useEffect(()=>{!q&&!F&&le()},[q,F,le]),ne.current=i,j.useEffect(()=>{var P,z;F&&I&&((P=ae.current)==null||P.dispose(),ae.current=(z=Z.current)==null?void 0:z.onDidChangeModelContent(oe=>{W.current||I(Z.current.getValue(),oe)}))},[F,I]),j.useEffect(()=>{if(F){let P=X.current.editor.onDidChangeMarkers(z=>{var pe;let oe=(pe=Z.current.getModel())==null?void 0:pe.uri;if(oe&&z.find(ye=>ye.path===oe.path)){let ye=X.current.editor.getModelMarkers({resource:oe});O==null||O(ye)}});return()=>{P==null||P.dispose()}}return()=>{}},[F,O]);function se(){var P,z;(P=ae.current)==null||P.dispose(),w?v&&Zf.set(o,Z.current.saveViewState()):(z=Z.current.getModel())==null||z.dispose(),Z.current.dispose()}return Ma.createElement(zS,{width:E,height:A,isEditorReady:F,loading:f,_ref:re,className:x,wrapperProps:C})}var jk=Nk,Bk=j.memo(jk),zk=Bk;const Hk="modulepreload",Uk=function(l){return"/agenda/"+l},LE={},ep=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(t.map(p=>{if(p=Uk(p),p in LE)return;LE[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Hk,g||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((E,A)=>{w.addEventListener("load",E),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};var $c={};$c.d=(l,e)=>{for(var t in e)$c.o(e,t)&&!$c.o(l,t)&&Object.defineProperty(l,t,{enumerable:!0,get:e[t]})};$c.o=(l,e)=>Object.prototype.hasOwnProperty.call(l,e);var Me=globalThis.pdfjsLib={};$c.d(Me,{AbortException:()=>Ua,AnnotationEditorLayer:()=>Jy,AnnotationEditorParamsType:()=>De,AnnotationEditorType:()=>$e,AnnotationEditorUIManager:()=>Fa,AnnotationLayer:()=>zP,AnnotationMode:()=>zs,CMapCompressionType:()=>Vv,ColorPicker:()=>qp,DOMSVGFactory:()=>m0,DrawLayer:()=>n0,FeatureTest:()=>kn,GlobalWorkerOptions:()=>ss,ImageKind:()=>hp,InvalidPDFException:()=>VS,MissingPDFException:()=>Ha,OPS:()=>Ti,Outliner:()=>Dy,PDFDataRangeTransport:()=>Bb,PDFDateString:()=>QS,PDFWorker:()=>Tl,PasswordResponses:()=>Gk,PermissionFlag:()=>Wk,PixelsPerInch:()=>uo,RenderingCancelledException:()=>v0,TextLayer:()=>Wp,UnexpectedResponseException:()=>bg,Util:()=>Ee,VerbosityLevel:()=>Ag,XfaLayer:()=>Hb,build:()=>AP,createValidAbsoluteUrl:()=>Yk,fetchData:()=>kg,getDocument:()=>dP,getFilenameFromUrl:()=>oR,getPdfFilenameFromUrl:()=>aR,getXfaPageViewport:()=>lR,isDataScheme:()=>y0,isPdfFile:()=>w0,noContextMenu:()=>Mn,normalizeUnicode:()=>nR,renderTextLayer:()=>nP,setLayerDimensions:()=>Oa,shadow:()=>Ge,updateTextLayer:()=>iP,version:()=>wP});const un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$S=[1,0,0,1,0,0],$v=[.001,0,0,.001,0,0],$k=1e7,Pv=1.35,gi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Vk="pdfjs_internal_editor_",$e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},De={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Wk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},hp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},bc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ag={ERRORS:0,WARNINGS:1,INFOS:5},Vv={NONE:0,BINARY:1},Ti={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Gk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Eg=Ag.WARNINGS;function qk(l){Number.isInteger(l)&&(Eg=l)}function Xk(){return Eg}function Sg(l){Eg>=Ag.INFOS&&console.log(`Info: ${l}`)}function Be(l){Eg>=Ag.WARNINGS&&console.log(`Warning: ${l}`)}function tt(l){throw new Error(l)}function Ot(l,e){l||tt(e)}function Kk(l){switch(l==null?void 0:l.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Yk(l,e=null,t=null){if(!l)return null;try{if(t&&typeof l=="string"){if(t.addDefaultProtocol&&l.startsWith("www.")){const s=l.match(/\./g);(s==null?void 0:s.length)>=2&&(l=`http://${l}`)}if(t.tryConvertEncoding)try{l=tR(l)}catch{}}const i=e?new URL(l,e):new URL(l);if(Kk(i))return i}catch{}return null}function Ge(l,e,t,i=!1){return Object.defineProperty(l,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const fo=(function(){function e(t,i){this.constructor===e&&tt("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class Wv extends fo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Gv extends fo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class VS extends fo{constructor(e){super(e,"InvalidPDFException")}}class Ha extends fo{constructor(e){super(e,"MissingPDFException")}}class bg extends fo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Qk extends fo{constructor(e){super(e,"FormatError")}}class Ua extends fo{constructor(e){super(e,"AbortException")}}function WS(l){(typeof l!="object"||(l==null?void 0:l.length)===void 0)&&tt("Invalid argument for bytesToString");const e=l.length,t=8192;if(e<t)return String.fromCharCode.apply(null,l);const i=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),u=l.subarray(s,o);i.push(String.fromCharCode.apply(null,u))}return i.join("")}function _g(l){typeof l!="string"&&tt("Invalid argument for stringToBytes");const e=l.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=l.charCodeAt(i)&255;return t}function Jk(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function p0(l){const e=Object.create(null);for(const[t,i]of l)e[t]=i;return e}function Zk(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function eR(){try{return new Function(""),!0}catch{return!1}}class kn{static get isLittleEndian(){return Ge(this,"isLittleEndian",Zk())}static get isEvalSupported(){return Ge(this,"isEvalSupported",eR())}static get isOffscreenCanvasSupported(){return Ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ge(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ge(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Ge(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Lv=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));var as,fp,qv;class Ee{static makeHexColor(e,t,i){return`#${Lv[e]}${Lv[t]}${Lv[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,o]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),u=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],o[0],u[0]),Math.min(i[1],s[1],o[1],u[1]),Math.max(i[0],s[0],o[0],u[0]),Math.max(i[1],s[1],o[1],u[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],u=e[2]*t[1]+e[3]*t[3],d=(i+u)/2,f=Math.sqrt((i+u)**2-4*(i*u-o*s))/2,p=d+f||1,g=d-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),u=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>u?null:[i,o,s,u]}static bezierBoundingBox(e,t,i,s,o,u,d,f,p){return p?(p[0]=Math.min(p[0],e,d),p[1]=Math.min(p[1],t,f),p[2]=Math.max(p[2],e,d),p[3]=Math.max(p[3],t,f)):p=[Math.min(e,d),Math.min(t,f),Math.max(e,d),Math.max(t,f)],_(this,as,qv).call(this,e,i,o,d,t,s,u,f,3*(-e+3*(i-o)+d),6*(e-2*i+o),3*(i-e),p),_(this,as,qv).call(this,e,i,o,d,t,s,u,f,3*(-t+3*(s-u)+f),6*(t-2*s+u),3*(s-t),p),p}}as=new WeakSet,fp=function(e,t,i,s,o,u,d,f,p,g){if(p<=0||p>=1)return;const v=1-p,w=p*p,E=w*p,A=v*(v*(v*e+3*p*t)+3*w*i)+E*s,x=v*(v*(v*o+3*p*u)+3*w*d)+E*f;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],x),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],x)},qv=function(e,t,i,s,o,u,d,f,p,g,v,w){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&_(this,as,fp).call(this,e,t,i,s,o,u,d,f,-v/g,w);return}const E=g**2-4*v*p;if(E<0)return;const A=Math.sqrt(E),x=2*p;_(this,as,fp).call(this,e,t,i,s,o,u,d,f,(-g+A)/x,w),_(this,as,fp).call(this,e,t,i,s,o,u,d,f,(-g-A)/x,w)},T(Ee,as);function tR(l){return decodeURIComponent(escape(l))}let Mv=null,ME=null;function nR(l){return Mv||(Mv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ME=new Map([["","t"]])),l.replaceAll(Mv,(e,t,i)=>t?t.normalize("NFKC"):ME.get(i))}function iR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const l=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(l);else for(let e=0;e<32;e++)l[e]=Math.floor(Math.random()*255);return WS(l)}const GS="pdfjs_internal_id_",kr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class xg{constructor(){this.constructor===xg&&tt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,o){return"none"}destroy(e=!1){}}var Xc;const x0=class x0{constructor({enableHWA:e=!1}={}){T(this,Xc,!1);this.constructor===x0&&tt("Cannot initialize BaseCanvasFactory."),b(this,Xc,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!c(this,Xc)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){tt("Abstract method `_createCanvas` called.")}};Xc=new WeakMap;let Hp=x0;class Cg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Cg&&tt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?Vv.BINARY:Vv.NONE;return this._fetchData(t,i).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){tt("Abstract method `_fetchData` called.")}}class Tg{constructor({baseUrl:e=null}){this.constructor===Tg&&tt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){tt("Abstract method `_fetchData` called.")}}class g0{constructor(){this.constructor===g0&&tt("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){tt("Abstract method `_createSVG` called.")}}const Pr="http://www.w3.org/2000/svg",Io=class Io{};Ie(Io,"CSS",96),Ie(Io,"PDF",72),Ie(Io,"PDF_TO_CSS_UNITS",Io.CSS/Io.PDF);let uo=Io;var No,Yi,Or,xn,Kp,jo,me,rn,vl,yl,pp,qS,Xv,wl,Tc,kc,Kv,Rc;class rR extends xg{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();T(this,me);T(this,No);T(this,Yi);T(this,Or);T(this,xn);T(this,Kp);T(this,jo,0);b(this,Or,t),b(this,xn,i)}addFilter(t){if(!t)return"none";let i=c(this,me,rn).get(t);if(i)return i;const[s,o,u]=_(this,me,pp).call(this,t),d=t.length===1?s:`${s}${o}${u}`;if(i=c(this,me,rn).get(d),i)return c(this,me,rn).set(t,i),i;const f=`g_${c(this,Or)}_transfer_map_${Un(this,jo)._++}`,p=`url(#${f})`;c(this,me,rn).set(t,p),c(this,me,rn).set(d,p);const g=_(this,me,wl).call(this,f);return _(this,me,kc).call(this,s,o,u,g),p}addHCMFilter(t,i){var A;const s=`${t}-${i}`,o="base";let u=c(this,me,vl).get(o);if((u==null?void 0:u.key)===s||(u?((A=u.filter)==null||A.remove(),u.key=s,u.url="none",u.filter=null):(u={key:s,url:"none",filter:null},c(this,me,vl).set(o,u)),!t||!i))return u.url;const d=_(this,me,Rc).call(this,t);t=Ee.makeHexColor(...d);const f=_(this,me,Rc).call(this,i);if(i=Ee.makeHexColor(...f),c(this,me,yl).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return u.url;const p=new Array(256);for(let x=0;x<=255;x++){const C=x/255;p[x]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const g=p.join(","),v=`g_${c(this,Or)}_hcm_filter`,w=u.filter=_(this,me,wl).call(this,v);_(this,me,kc).call(this,g,g,g,w),_(this,me,Xv).call(this,w);const E=(x,C)=>{const k=d[x]/255,L=f[x]/255,I=new Array(C+1);for(let O=0;O<=C;O++)I[O]=k+O/C*(L-k);return I.join(",")};return _(this,me,kc).call(this,E(0,5),E(1,5),E(2,5),w),u.url=`url(#${v})`,u.url}addAlphaFilter(t){let i=c(this,me,rn).get(t);if(i)return i;const[s]=_(this,me,pp).call(this,[t]),o=`alpha_${s}`;if(i=c(this,me,rn).get(o),i)return c(this,me,rn).set(t,i),i;const u=`g_${c(this,Or)}_alpha_map_${Un(this,jo)._++}`,d=`url(#${u})`;c(this,me,rn).set(t,d),c(this,me,rn).set(o,d);const f=_(this,me,wl).call(this,u);return _(this,me,Kv).call(this,s,f),d}addLuminosityFilter(t){let i=c(this,me,rn).get(t||"luminosity");if(i)return i;let s,o;if(t?([s]=_(this,me,pp).call(this,[t]),o=`luminosity_${s}`):o="luminosity",i=c(this,me,rn).get(o),i)return c(this,me,rn).set(t,i),i;const u=`g_${c(this,Or)}_luminosity_map_${Un(this,jo)._++}`,d=`url(#${u})`;c(this,me,rn).set(t,d),c(this,me,rn).set(o,d);const f=_(this,me,wl).call(this,u);return _(this,me,qS).call(this,f),t&&_(this,me,Kv).call(this,s,f),d}addHighlightHCMFilter(t,i,s,o,u){var L;const d=`${i}-${s}-${o}-${u}`;let f=c(this,me,vl).get(t);if((f==null?void 0:f.key)===d||(f?((L=f.filter)==null||L.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},c(this,me,vl).set(t,f)),!i||!s))return f.url;const[p,g]=[i,s].map(_(this,me,Rc).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[E,A]=[o,u].map(_(this,me,Rc).bind(this));w<v&&([v,w,E,A]=[w,v,A,E]),c(this,me,yl).style.color="";const x=(I,O,F)=>{const B=new Array(256),q=(w-v)/F,K=I/255,X=(O-I)/(255*F);let Z=0;for(let re=0;re<=F;re++){const Se=Math.round(v+re*q),he=K+re*X;for(let ae=Z;ae<=Se;ae++)B[ae]=he;Z=Se+1}for(let re=Z;re<256;re++)B[re]=B[Z-1];return B.join(",")},C=`g_${c(this,Or)}_hcm_${t}_filter`,k=f.filter=_(this,me,wl).call(this,C);return _(this,me,Xv).call(this,k),_(this,me,kc).call(this,x(E[0],A[0],5),x(E[1],A[1],5),x(E[2],A[2],5),k),f.url=`url(#${C})`,f.url}destroy(t=!1){t&&c(this,me,vl).size!==0||(c(this,Yi)&&(c(this,Yi).parentNode.parentNode.remove(),b(this,Yi,null)),c(this,No)&&(c(this,No).clear(),b(this,No,null)),b(this,jo,0))}}No=new WeakMap,Yi=new WeakMap,Or=new WeakMap,xn=new WeakMap,Kp=new WeakMap,jo=new WeakMap,me=new WeakSet,rn=function(){return c(this,No)||b(this,No,new Map)},vl=function(){return c(this,Kp)||b(this,Kp,new Map)},yl=function(){if(!c(this,Yi)){const t=c(this,xn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=c(this,xn).createElementNS(Pr,"svg");s.setAttribute("width",0),s.setAttribute("height",0),b(this,Yi,c(this,xn).createElementNS(Pr,"defs")),t.append(s),s.append(c(this,Yi)),c(this,xn).body.append(t)}return c(this,Yi)},pp=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let w=0;w<256;w++)g[w]=p[w]/255;const v=g.join(",");return[v,v,v]}const[i,s,o]=t,u=new Array(256),d=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=i[p]/255,d[p]=s[p]/255,f[p]=o[p]/255;return[u.join(","),d.join(","),f.join(",")]},qS=function(t){const i=c(this,xn).createElementNS(Pr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},Xv=function(t){const i=c(this,xn).createElementNS(Pr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},wl=function(t){const i=c(this,xn).createElementNS(Pr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,me,yl).append(i),i},Tc=function(t,i,s){const o=c(this,xn).createElementNS(Pr,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},kc=function(t,i,s,o){const u=c(this,xn).createElementNS(Pr,"feComponentTransfer");o.append(u),_(this,me,Tc).call(this,u,"feFuncR",t),_(this,me,Tc).call(this,u,"feFuncG",i),_(this,me,Tc).call(this,u,"feFuncB",s)},Kv=function(t,i){const s=c(this,xn).createElementNS(Pr,"feComponentTransfer");i.append(s),_(this,me,Tc).call(this,s,"feFuncA",t)},Rc=function(t){return c(this,me,yl).style.color=t,A0(getComputedStyle(c(this,me,yl)).getPropertyValue("color"))};class sR extends Hp{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function kg(l,e="text"){if(Pc(l,document.baseURI)){const t=await fetch(l);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",l,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class XS extends Cg{_fetchData(e,t){return kg(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):_g(i),compressionType:t}))}}class KS extends Tg{_fetchData(e){return kg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class m0 extends g0{_createSVG(e){return document.createElementNS(Pr,e)}}class Mh{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=o;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,v,w;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,g=0,v=0,w=1;break;case 90:p=0,g=1,v=1,w=0;break;case 270:p=0,g=-1,v=-1,w=0;break;case 0:p=1,g=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,w=-w);let E,A,x,C;p===0?(E=Math.abs(f-e[1])*t+s,A=Math.abs(d-e[0])*t+o,x=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(E=Math.abs(d-e[0])*t+s,A=Math.abs(f-e[1])*t+o,x=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[p*t,g*t,v*t,w*t,E-p*t*d-v*t*f,A-g*t*d-w*t*f],this.width=x,this.height=C}get rawDims(){const{viewBox:e}=this;return Ge(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new Mh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return Ee.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ee.applyTransform([e[0],e[1]],this.transform),i=Ee.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return Ee.applyInverseTransform([e,t],this.transform)}}class v0 extends fo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function y0(l){const e=l.length;let t=0;for(;t<e&&l[t].trim()==="";)t++;return l.substring(t,t+5).toLowerCase()==="data:"}function w0(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function oR(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function aR(l,e="document.pdf"){if(typeof l!="string")return e;if(y0(l))return Be('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(l);let o=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||e}class DE{constructor(){Ie(this,"started",Object.create(null));Ie(this,"times",[])}time(e){e in this.started&&Be(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Be(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:o}of this.times)e.push(`${i.padEnd(t)} ${o-s}ms
`);return e.join("")}}function Pc(l,e){try{const{protocol:t}=e?new URL(l,e):new URL(l);return t==="http:"||t==="https:"}catch{return!1}}function Mn(l){l.preventDefault()}function YS(l){console.log("Deprecated API usage: "+l)}let IE;class QS{static toDateObject(e){if(!e||typeof e!="string")return null;IE||(IE=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=IE.exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(t[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(t[6],10);f=f>=0&&f<=59?f:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(t[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(u+=g,d+=v):p==="+"&&(u-=g,d-=v),new Date(Date.UTC(i,s,o,u,d,f))}}function lR(l,{scale:e=1,rotation:t=0}){const{width:i,height:s}=l.attributes.style,o=[0,0,parseInt(i),parseInt(s)];return new Mh({viewBox:o,scale:e,rotation:t})}function A0(l){if(l.startsWith("#")){const e=parseInt(l.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(e=>parseInt(e)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Be(`Not a valid color format: "${l}"`),[0,0,0])}function uR(l){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of l.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;l.set(t,A0(i))}e.remove()}function gt(l){const{a:e,b:t,c:i,d:s,e:o,f:u}=l.getTransform();return[e,t,i,s,o,u]}function Rr(l){const{a:e,b:t,c:i,d:s,e:o,f:u}=l.getTransform().invertSelf();return[e,t,i,s,o,u]}function Oa(l,e,t=!1,i=!0){if(e instanceof Mh){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:u}=l,d=kn.isCSSRoundSupported,f=`var(--scale-factor) * ${s}px`,p=`var(--scale-factor) * ${o}px`,g=d?`round(${f}, 1px)`:`calc(${f})`,v=d?`round(${p}, 1px)`:`calc(${p})`;!t||e.rotation%180===0?(u.width=g,u.height=v):(u.width=v,u.height=g)}i&&l.setAttribute("data-main-rotation",e.rotation)}var Bo,zo,Wn,Ho,Yp,JS,mn,ZS,eb,gp,tb,Qv;const Qp=class Qp{constructor(e){T(this,mn);T(this,Bo,null);T(this,zo,null);T(this,Wn);T(this,Ho,null);b(this,Wn,e)}render(){const e=b(this,Bo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Wn)._uiManager._signal;e.addEventListener("contextmenu",Mn,{signal:t}),e.addEventListener("pointerdown",_(Qp,Yp,JS),{signal:t});const i=b(this,Ho,document.createElement("div"));i.className="buttons",e.append(i);const s=c(this,Wn).toolbarPosition;if(s){const{style:o}=e,u=c(this,Wn)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,mn,tb).call(this),e}hide(){var e;c(this,Bo).classList.add("hidden"),(e=c(this,zo))==null||e.hideDropdown()}show(){c(this,Bo).classList.remove("hidden")}addAltTextButton(e){_(this,mn,gp).call(this,e),c(this,Ho).prepend(e,c(this,mn,Qv))}addColorPicker(e){b(this,zo,e);const t=e.renderButton();_(this,mn,gp).call(this,t),c(this,Ho).prepend(t,c(this,mn,Qv))}remove(){var e;c(this,Bo).remove(),(e=c(this,zo))==null||e.destroy(),b(this,zo,null)}};Bo=new WeakMap,zo=new WeakMap,Wn=new WeakMap,Ho=new WeakMap,Yp=new WeakSet,JS=function(e){e.stopPropagation()},mn=new WeakSet,ZS=function(e){c(this,Wn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},eb=function(e){c(this,Wn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},gp=function(e){const t=c(this,Wn)._uiManager._signal;e.addEventListener("focusin",_(this,mn,ZS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,mn,eb).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Mn,{signal:t})},tb=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Wn).editorType}-button`),_(this,mn,gp).call(this,e),e.addEventListener("click",t=>{c(this,Wn)._uiManager.delete()},{signal:c(this,Wn)._uiManager._signal}),c(this,Ho).append(e)},Qv=function(){const e=document.createElement("div");return e.className="divider",e},T(Qp,Yp);let Yv=Qp;var Kc,Uo,$o,co,nb,ib,rb;class cR{constructor(e){T(this,co);T(this,Kc,null);T(this,Uo,null);T(this,$o);b(this,$o,e)}show(e,t,i){const[s,o]=_(this,co,ib).call(this,t,i),{style:u}=c(this,Uo)||b(this,Uo,_(this,co,nb).call(this));e.append(c(this,Uo)),u.insetInlineEnd=`${100*s}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Uo).remove()}}Kc=new WeakMap,Uo=new WeakMap,$o=new WeakMap,co=new WeakSet,nb=function(){const e=b(this,Uo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Mn,{signal:c(this,$o)._signal});const t=b(this,Kc,document.createElement("div"));return t.className="buttons",e.append(t),_(this,co,rb).call(this),e},ib=function(e,t){let i=0,s=0;for(const o of e){const u=o.y+o.height;if(u<i)continue;const d=o.x+(t?o.width:0);if(u>i){s=d,i=u;continue}t?d>s&&(s=d):d<s&&(s=d)}return[t?1-s:s,i]},rb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=c(this,$o)._signal;e.addEventListener("contextmenu",Mn,{signal:i}),e.addEventListener("click",()=>{c(this,$o).highlightSelection("floating_button")},{signal:i}),c(this,Kc).append(e)};function Up(l,e,t){for(const i of t)e.addEventListener(i,l[i].bind(l))}function dR(l){return Math.round(Math.min(255,Math.max(1,255*l))).toString(16).padStart(2,"0")}var Jp;class hR{constructor(){T(this,Jp,0)}get id(){return`${Vk}${Un(this,Jp)._++}`}}Jp=new WeakMap;var Yc,Zp,di,Qc,Zv;const C0=class C0{constructor(){T(this,Qc);T(this,Yc,iR());T(this,Zp,0);T(this,di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ge(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:o}=e;return _(this,Qc,Zv).call(this,`${t}_${i}_${s}_${o}`,e)}async getFromUrl(e){return _(this,Qc,Zv).call(this,e,e)}async getFromId(e){c(this,di)||b(this,di,new Map);const t=c(this,di).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,di).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,di)||b(this,di,new Map);const t=c(this,di).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,Yc)}_`)}};Yc=new WeakMap,Zp=new WeakMap,di=new WeakMap,Qc=new WeakSet,Zv=async function(e,t){c(this,di)||b(this,di,new Map);let i=c(this,di).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,Yc)}_${Un(this,Zp)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await kg(t,"blob")):s=i.file=t,s.type==="image/svg+xml"){const o=C0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((p,g)=>{d.onload=()=>{i.bitmap=d,i.isSvg=!0,p()},u.onload=async()=>{const v=i.svgUrl=u.result;d.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=u.onerror=g});u.readAsDataURL(s),await f}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return c(this,di).set(e,i),i&&c(this,di).set(i.id,i),i};let Jv=C0;var zt,Hs,Jc,Ht;class fR{constructor(e=128){T(this,zt,[]);T(this,Hs,!1);T(this,Jc);T(this,Ht,-1);b(this,Jc,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(s&&e(),c(this,Hs))return;const f={cmd:e,undo:t,post:i,type:o};if(c(this,Ht)===-1){c(this,zt).length>0&&(c(this,zt).length=0),b(this,Ht,0),c(this,zt).push(f);return}if(u&&c(this,zt)[c(this,Ht)].type===o){d&&(f.undo=c(this,zt)[c(this,Ht)].undo),c(this,zt)[c(this,Ht)]=f;return}const p=c(this,Ht)+1;p===c(this,Jc)?c(this,zt).splice(0,1):(b(this,Ht,p),p<c(this,zt).length&&c(this,zt).splice(p)),c(this,zt).push(f)}undo(){if(c(this,Ht)===-1)return;b(this,Hs,!0);const{undo:e,post:t}=c(this,zt)[c(this,Ht)];e(),t==null||t(),b(this,Hs,!1),b(this,Ht,c(this,Ht)-1)}redo(){if(c(this,Ht)<c(this,zt).length-1){b(this,Ht,c(this,Ht)+1),b(this,Hs,!0);const{cmd:e,post:t}=c(this,zt)[c(this,Ht)];e(),t==null||t(),b(this,Hs,!1)}}hasSomethingToUndo(){return c(this,Ht)!==-1}hasSomethingToRedo(){return c(this,Ht)<c(this,zt).length-1}destroy(){b(this,zt,null)}}zt=new WeakMap,Hs=new WeakMap,Jc=new WeakMap,Ht=new WeakMap;var eg,sb;class Dh{constructor(e){T(this,eg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=kn.platform;for(const[i,s,o={}]of e)for(const u of i){const d=u.startsWith("mac+");t&&d?(this.callbacks.set(u.slice(4),{callback:s,options:o}),this.allKeys.add(u.split("+").at(-1))):!t&&!d&&(this.callbacks.set(u,{callback:s,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(_(this,eg,sb).call(this,t));if(!i)return;const{callback:s,options:{bubbles:o=!1,args:u=[],checker:d=null}}=i;d&&!d(e,t)||(s.bind(e,...u,t)(),o||(t.stopPropagation(),t.preventDefault()))}}eg=new WeakSet,sb=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const tg=class tg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return uR(e),Ge(this,"_colors",e)}convert(e){const t=A0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((o,u)=>o===t[u]))return tg._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Ee.makeHexColor(...t):e}};Ie(tg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ey=tg;var Pl,Gn,Pt,Wt,Ll,Fr,Ml,ki,Dl,Vo,Qi,Ri,Wo,Zc,ed,Ji,Il,Us,Zi,ng,$s,td,Go,nd,Ol,Gt,Je,Nr,qo,id,rd,sd,od,ad,ld,ud,cd,dd,hd,fd,pd,gd,Vs,er,jr,md,ue,mp,ob,ab,vp,lb,ub,cb,ty,db,ny,iy,hb,hn,Ns,fb,pb,ry,gb,Lc,sy;const xl=class xl{constructor(e,t,i,s,o,u,d,f,p){T(this,ue);T(this,Pl,new AbortController);T(this,Gn,null);T(this,Pt,new Map);T(this,Wt,new Map);T(this,Ll,null);T(this,Fr,null);T(this,Ml,null);T(this,ki,new fR);T(this,Dl,0);T(this,Vo,new Set);T(this,Qi,null);T(this,Ri,null);T(this,Wo,new Set);T(this,Zc,!1);T(this,ed,null);T(this,Ji,null);T(this,Il,null);T(this,Us,!1);T(this,Zi,null);T(this,ng,new hR);T(this,$s,!1);T(this,td,!1);T(this,Go,null);T(this,nd,null);T(this,Ol,null);T(this,Gt,$e.NONE);T(this,Je,new Set);T(this,Nr,null);T(this,qo,null);T(this,id,null);T(this,rd,this.blur.bind(this));T(this,sd,this.focus.bind(this));T(this,od,this.copy.bind(this));T(this,ad,this.cut.bind(this));T(this,ld,this.paste.bind(this));T(this,ud,this.keydown.bind(this));T(this,cd,this.keyup.bind(this));T(this,dd,this.onEditingAction.bind(this));T(this,hd,this.onPageChanging.bind(this));T(this,fd,this.onScaleChanging.bind(this));T(this,pd,this.onRotationChanging.bind(this));T(this,gd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Vs,[0,0]);T(this,er,null);T(this,jr,null);T(this,md,null);this._signal=c(this,Pl).signal,b(this,jr,e),b(this,md,t),b(this,Ll,i),this._eventBus=s,this._eventBus._on("editingaction",c(this,dd)),this._eventBus._on("pagechanging",c(this,hd)),this._eventBus._on("scalechanging",c(this,fd)),this._eventBus._on("rotationchanging",c(this,pd)),_(this,ue,lb).call(this),_(this,ue,hb).call(this),_(this,ue,ty).call(this),b(this,Fr,o.annotationStorage),b(this,ed,o.filterFactory),b(this,qo,u),b(this,Il,d||null),b(this,Zc,f),b(this,Ol,p||null),this.viewParameters={realScale:uo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=xl.prototype,t=u=>c(u,jr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),i=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ge(this,"_keyboardManager",new Dh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,jr).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,jr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,i;(e=c(this,Pl))==null||e.abort(),b(this,Pl,null),this._signal=null,this._eventBus._off("editingaction",c(this,dd)),this._eventBus._off("pagechanging",c(this,hd)),this._eventBus._off("scalechanging",c(this,fd)),this._eventBus._off("rotationchanging",c(this,pd));for(const s of c(this,Wt).values())s.destroy();c(this,Wt).clear(),c(this,Pt).clear(),c(this,Wo).clear(),b(this,Gn,null),c(this,Je).clear(),c(this,ki).destroy(),(t=c(this,Ll))==null||t.destroy(),(i=c(this,Zi))==null||i.hide(),b(this,Zi,null),c(this,Ji)&&(clearTimeout(c(this,Ji)),b(this,Ji,null)),c(this,er)&&(clearTimeout(c(this,er)),b(this,er,null))}async mlGuess(e){var t;return((t=c(this,Ol))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,Ol)}get hcmFilter(){return Ge(this,"hcmFilter",c(this,qo)?c(this,ed).addHCMFilter(c(this,qo).foreground,c(this,qo).background):"none")}get direction(){return Ge(this,"direction",getComputedStyle(c(this,jr)).direction)}get highlightColors(){return Ge(this,"highlightColors",c(this,Il)?new Map(c(this,Il).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ge(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,nd,e)}editAltText(e){var t;(t=c(this,Ll))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){b(this,Dl,e-1)}focusMainContainer(){c(this,jr).focus()}findParent(e,t){for(const i of c(this,Wt).values()){const{x:s,y:o,width:u,height:d}=i.div.getBoundingClientRect();if(e>=s&&e<=s+u&&t>=o&&t<=o+d)return i}return null}disableUserSelect(e=!1){c(this,md).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Wo).add(e)}removeShouldRescale(e){c(this,Wo).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*uo.PDF_TO_CSS_UNITS;for(const t of c(this,Wo))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:u}=t,d=t.toString(),p=_(this,ue,mp).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(g){t.empty(),c(this,Gt)===$e.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:$e.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const v of c(this,Wt).values())if(v.hasTextLayer(p)){v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:u,text:d});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Fr)&&!c(this,Fr).has(e.id)&&c(this,Fr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Us)&&(b(this,Us,!1),_(this,ue,vp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Je))if(t.div.contains(e)){b(this,Go,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Go))return;const[e,t]=c(this,Go);b(this,Go,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,ue,ty).call(this),_(this,ue,ny).call(this)}removeEditListeners(){_(this,ue,db).call(this),_(this,ue,iy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of c(this,Ri))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of c(this,Ri))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=c(this,Gn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of c(this,Je)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const u of c(this,Ri))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Be(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const f of i){const p=s.deserialize(f);if(!p)return;o.push(p)}const u=()=>{for(const f of o)_(this,ue,ry).call(this,f);_(this,ue,sy).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){Be(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Gt)!==$e.NONE&&!this.isEditorHandlingKeyboard&&xl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Us)&&(b(this,Us,!1),_(this,ue,vp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,ue,ub).call(this),_(this,ue,ny).call(this),_(this,ue,hn).call(this,{isEditing:c(this,Gt)!==$e.NONE,isEmpty:_(this,ue,Lc).call(this),hasSomethingToUndo:c(this,ki).hasSomethingToUndo(),hasSomethingToRedo:c(this,ki).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,ue,cb).call(this),_(this,ue,iy).call(this),_(this,ue,hn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Ri)){b(this,Ri,e);for(const t of c(this,Ri))_(this,ue,Ns).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,ng).id}get currentLayer(){return c(this,Wt).get(c(this,Dl))}getLayer(e){return c(this,Wt).get(e)}get currentPageIndex(){return c(this,Dl)}addLayer(e){c(this,Wt).set(e.pageIndex,e),c(this,$s)?e.enable():e.disable()}removeLayer(e){c(this,Wt).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,Gt)!==e){if(b(this,Gt,e),e===$e.NONE){this.setEditingState(!1),_(this,ue,pb).call(this);return}this.setEditingState(!0),_(this,ue,fb).call(this),this.unselectAll();for(const s of c(this,Wt).values())s.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const s of c(this,Pt).values())if(s.annotationElementId===t){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,Ri)){switch(e){case De.CREATE:this.currentLayer.addNewEditor();return;case De.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,nd))==null||i.updateColor(t);break;case De.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,id)||b(this,id,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of c(this,Je))s.updateParams(e,t);for(const s of c(this,Ri))s.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var o;for(const u of c(this,Pt).values())u.editorType===e&&u.show(t);(((o=c(this,id))==null?void 0:o.get(De.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,ue,Ns).call(this,[[De.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,td)!==e){b(this,td,e);for(const t of c(this,Wt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,Pt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,Pt).get(e)}addEditor(e){c(this,Pt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Ji)&&clearTimeout(c(this,Ji)),b(this,Ji,setTimeout(()=>{this.focusMainContainer(),b(this,Ji,null)},0))),c(this,Pt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Vo).has(e.annotationElementId))&&((t=c(this,Fr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,Vo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Vo).has(e)}removeDeletedAnnotationElement(e){c(this,Vo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Gn)!==e&&(b(this,Gn,e),e&&_(this,ue,Ns).call(this,e.propertiesToUpdate))}updateUI(e){c(this,ue,gb)===e&&_(this,ue,Ns).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Je).has(e)){c(this,Je).delete(e),e.unselect(),_(this,ue,hn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Je).add(e),e.select(),_(this,ue,Ns).call(this,e.propertiesToUpdate),_(this,ue,hn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Je))t!==e&&t.unselect();c(this,Je).clear(),c(this,Je).add(e),e.select(),_(this,ue,Ns).call(this,e.propertiesToUpdate),_(this,ue,hn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Je).has(e)}get firstSelectedEditor(){return c(this,Je).values().next().value}unselect(e){e.unselect(),c(this,Je).delete(e),_(this,ue,hn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Je).size!==0}get isEnterHandled(){return c(this,Je).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,ki).undo(),_(this,ue,hn).call(this,{hasSomethingToUndo:c(this,ki).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,ue,Lc).call(this)})}redo(){c(this,ki).redo(),_(this,ue,hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,ki).hasSomethingToRedo(),isEmpty:_(this,ue,Lc).call(this)})}addCommands(e){c(this,ki).add(e),_(this,ue,hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,ue,Lc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Je)],t=()=>{for(const s of e)s.remove()},i=()=>{for(const s of e)_(this,ue,ry).call(this,s)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Gn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Gn)||this.hasSelection}selectAll(){for(const e of c(this,Je))e.commit();_(this,ue,sy).call(this,c(this,Pt).values())}unselectAll(){if(!(c(this,Gn)&&(c(this,Gn).commitOrRemove(),c(this,Gt)!==$e.NONE))&&this.hasSelection){for(const e of c(this,Je))e.unselect();c(this,Je).clear(),_(this,ue,hn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,Vs)[0]+=e,c(this,Vs)[1]+=t;const[s,o]=c(this,Vs),u=[...c(this,Je)],d=1e3;c(this,er)&&clearTimeout(c(this,er)),b(this,er,setTimeout(()=>{b(this,er,null),c(this,Vs)[0]=c(this,Vs)[1]=0,this.addCommands({cmd:()=>{for(const f of u)c(this,Pt).has(f.id)&&f.translateInPage(s,o)},undo:()=>{for(const f of u)c(this,Pt).has(f.id)&&f.translateInPage(-s,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Qi,new Map);for(const e of c(this,Je))c(this,Qi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Qi))return!1;this.disableUserSelect(!1);const e=c(this,Qi);b(this,Qi,null);let t=!1;for(const[{x:s,y:o,pageIndex:u},d]of e)d.newX=s,d.newY=o,d.newPageIndex=u,t||(t=s!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!t)return!1;const i=(s,o,u,d)=>{if(c(this,Pt).has(s.id)){const f=c(this,Wt).get(d);f?s._setParentAndPosition(f,o,u):(s.pageIndex=d,s.x=o,s.y=u)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:u,newPageIndex:d}]of e)i(s,o,u,d)},undo:()=>{for(const[s,{savedX:o,savedY:u,savedPageIndex:d}]of e)i(s,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Qi))for(const i of c(this,Qi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Je).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Gn)===e}getActive(){return c(this,Gn)}getMode(){return c(this,Gt)}get imageManager(){return Ge(this,"imageManager",new Jv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:s,width:o,height:u}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(p,g,v,w)=>({x:(g-s)/u,y:1-(p+v-i)/o,width:w/u,height:v/o});break;case"180":d=(p,g,v,w)=>({x:1-(p+v-i)/o,y:1-(g+w-s)/u,width:v/o,height:w/u});break;case"270":d=(p,g,v,w)=>({x:1-(g+w-s)/u,y:(p-i)/o,width:w/u,height:v/o});break;default:d=(p,g,v,w)=>({x:(p-i)/o,y:(g-s)/u,width:v/o,height:w/u});break}const f=[];for(let p=0,g=t.rangeCount;p<g;p++){const v=t.getRangeAt(p);if(!v.collapsed)for(const{x:w,y:E,width:A,height:x}of v.getClientRects())A===0||x===0||f.push(d(w,E,A,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Ml)||b(this,Ml,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Ml))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=c(this,Ml))==null?void 0:s.get(e.data.id);if(!t)return;const i=c(this,Fr).getRawValue(t);i&&(c(this,Gt)===$e.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};Pl=new WeakMap,Gn=new WeakMap,Pt=new WeakMap,Wt=new WeakMap,Ll=new WeakMap,Fr=new WeakMap,Ml=new WeakMap,ki=new WeakMap,Dl=new WeakMap,Vo=new WeakMap,Qi=new WeakMap,Ri=new WeakMap,Wo=new WeakMap,Zc=new WeakMap,ed=new WeakMap,Ji=new WeakMap,Il=new WeakMap,Us=new WeakMap,Zi=new WeakMap,ng=new WeakMap,$s=new WeakMap,td=new WeakMap,Go=new WeakMap,nd=new WeakMap,Ol=new WeakMap,Gt=new WeakMap,Je=new WeakMap,Nr=new WeakMap,qo=new WeakMap,id=new WeakMap,rd=new WeakMap,sd=new WeakMap,od=new WeakMap,ad=new WeakMap,ld=new WeakMap,ud=new WeakMap,cd=new WeakMap,dd=new WeakMap,hd=new WeakMap,fd=new WeakMap,pd=new WeakMap,gd=new WeakMap,Vs=new WeakMap,er=new WeakMap,jr=new WeakMap,md=new WeakMap,ue=new WeakSet,mp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ob=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=_(this,ue,mp).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(c(this,Zi)||b(this,Zi,new cR(this)),c(this,Zi).show(i,s,this.direction==="ltr"))},ab=function(){var o,u,d;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Nr)&&((o=c(this,Zi))==null||o.hide(),b(this,Nr,null),_(this,ue,hn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Nr))return;if(!_(this,ue,mp).call(this,e).closest(".textLayer")){c(this,Nr)&&((u=c(this,Zi))==null||u.hide(),b(this,Nr,null),_(this,ue,hn).call(this,{hasSelectedText:!1}));return}if((d=c(this,Zi))==null||d.hide(),b(this,Nr,t),_(this,ue,hn).call(this,{hasSelectedText:!0}),!(c(this,Gt)!==$e.HIGHLIGHT&&c(this,Gt)!==$e.NONE)&&(c(this,Gt)===$e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Us,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=this._signal,p=g=>{g.type==="pointerup"&&g.button!==0||(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),g.type==="pointerup"&&_(this,ue,vp).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},vp=function(e=""){c(this,Gt)===$e.HIGHLIGHT?this.highlightSelection(e):c(this,Zc)&&_(this,ue,ob).call(this)},lb=function(){document.addEventListener("selectionchange",_(this,ue,ab).bind(this),{signal:this._signal})},ub=function(){const e=this._signal;window.addEventListener("focus",c(this,sd),{signal:e}),window.addEventListener("blur",c(this,rd),{signal:e})},cb=function(){window.removeEventListener("focus",c(this,sd)),window.removeEventListener("blur",c(this,rd))},ty=function(){const e=this._signal;window.addEventListener("keydown",c(this,ud),{signal:e}),window.addEventListener("keyup",c(this,cd),{signal:e})},db=function(){window.removeEventListener("keydown",c(this,ud)),window.removeEventListener("keyup",c(this,cd))},ny=function(){const e=this._signal;document.addEventListener("copy",c(this,od),{signal:e}),document.addEventListener("cut",c(this,ad),{signal:e}),document.addEventListener("paste",c(this,ld),{signal:e})},iy=function(){document.removeEventListener("copy",c(this,od)),document.removeEventListener("cut",c(this,ad)),document.removeEventListener("paste",c(this,ld))},hb=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hn=function(e){Object.entries(e).some(([i,s])=>c(this,gd)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,gd),e)}),c(this,Gt)===$e.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,ue,Ns).call(this,[[De.HIGHLIGHT_FREE,!0]]))},Ns=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},fb=function(){if(!c(this,$s)){b(this,$s,!0);for(const e of c(this,Wt).values())e.enable();for(const e of c(this,Pt).values())e.enable()}},pb=function(){if(this.unselectAll(),c(this,$s)){b(this,$s,!1);for(const e of c(this,Wt).values())e.disable();for(const e of c(this,Pt).values())e.disable()}},ry=function(e){const t=c(this,Wt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},gb=function(){let e=null;for(e of c(this,Je));return e},Lc=function(){if(c(this,Pt).size===0)return!0;if(c(this,Pt).size===1)for(const e of c(this,Pt).values())return e.isEmpty();return!1},sy=function(e){for(const t of c(this,Je))t.unselect();c(this,Je).clear();for(const t of e)t.isEmpty()||(c(this,Je).add(t),t.select());_(this,ue,hn).call(this,{hasSelectedEditor:this.hasSelection})},Ie(xl,"TRANSLATE_SMALL",1),Ie(xl,"TRANSLATE_BIG",10);let Fa=xl;var Br,zr,Pi,Hr,qn,Fl,Li,vd,oy;const Lr=class Lr{constructor(e){T(this,vd);T(this,Br,"");T(this,zr,!1);T(this,Pi,null);T(this,Hr,null);T(this,qn,null);T(this,Fl,!1);T(this,Li,null);b(this,Li,e)}static initialize(e){Lr._l10nPromise||(Lr._l10nPromise=e)}async render(){const e=b(this,Pi,document.createElement("button"));e.className="altText";const t=await Lr._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=c(this,Li)._uiManager._signal;e.addEventListener("contextmenu",Mn,{signal:i}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const s=o=>{o.preventDefault(),c(this,Li)._uiManager.editAltText(c(this,Li))};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(b(this,Fl,!0),s(o))},{signal:i}),await _(this,vd,oy).call(this),e}finish(){c(this,Pi)&&(c(this,Pi).focus({focusVisible:c(this,Fl)}),b(this,Fl,!1))}isEmpty(){return!c(this,Br)&&!c(this,zr)}get data(){return{altText:c(this,Br),decorative:c(this,zr)}}set data({altText:e,decorative:t}){c(this,Br)===e&&c(this,zr)===t||(b(this,Br,e),b(this,zr,t),_(this,vd,oy).call(this))}toggle(e=!1){c(this,Pi)&&(!e&&c(this,qn)&&(clearTimeout(c(this,qn)),b(this,qn,null)),c(this,Pi).disabled=!e)}destroy(){var e;(e=c(this,Pi))==null||e.remove(),b(this,Pi,null),b(this,Hr,null)}};Br=new WeakMap,zr=new WeakMap,Pi=new WeakMap,Hr=new WeakMap,qn=new WeakMap,Fl=new WeakMap,Li=new WeakMap,vd=new WeakSet,oy=async function(){var s;const e=c(this,Pi);if(!e)return;if(!c(this,Br)&&!c(this,zr)){e.classList.remove("done"),(s=c(this,Hr))==null||s.remove();return}e.classList.add("done"),Lr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let t=c(this,Hr);if(!t){b(this,Hr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const o=t.id=`alt-text-tooltip-${c(this,Li).id}`;e.setAttribute("aria-describedby",o);const u=100,d=c(this,Li)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,qn)),b(this,qn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,qn,setTimeout(()=>{b(this,qn,null),c(this,Hr).classList.add("show"),c(this,Li)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;c(this,qn)&&(clearTimeout(c(this,qn)),b(this,qn,null)),(f=c(this,Hr))==null||f.classList.remove("show")},{signal:d})}t.innerText=c(this,zr)?await Lr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,Br),t.parentNode||e.append(t);const i=c(this,Li).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},Ie(Lr,"_l10nPromise",null);let $p=Lr;var Xo,Mi,sn,Nl,Ko,qt,Yo,jl,Bl,on,yd,Qo,Ws,wd,Jo,Ur,tr,zl,Hl,hi,Ad,ig,ze,ay,Ed,ly,uy,mb,vb,cy,dy,hy,yb,wb,Ab,Eb,fy,Mc;const it=class it{constructor(e){T(this,ze);T(this,Xo,null);T(this,Mi,null);T(this,sn,null);T(this,Nl,!1);T(this,Ko,!1);T(this,qt,null);T(this,Yo,null);T(this,jl,this.focusin.bind(this));T(this,Bl,this.focusout.bind(this));T(this,on,null);T(this,yd,"");T(this,Qo,!1);T(this,Ws,null);T(this,wd,!1);T(this,Jo,!1);T(this,Ur,!1);T(this,tr,null);T(this,zl,0);T(this,Hl,0);T(this,hi,null);Ie(this,"_initialOptions",Object.create(null));Ie(this,"_isVisible",!0);Ie(this,"_uiManager",null);Ie(this,"_focusEventsAllowed",!0);Ie(this,"_l10nPromise",null);T(this,Ad,!1);T(this,ig,it._zIndex++);this.constructor===it&&tt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=e.x/d,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=it.prototype._resizeWithKeyboard,t=Fa.TRANSLATE_SMALL,i=Fa.TRANSLATE_BIG;return Ge(this,"_resizerKeyboardManager",new Dh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],it.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ge(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new pR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(it._l10nPromise||(it._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,u=>`-${u.toLowerCase()}`))]))),i!=null&&i.strings)for(const o of i.strings)it._l10nPromise.set(o,e.get(o));if(it._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);it._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){tt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Ad)}set _isDraggable(e){var t;b(this,Ad,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,ig)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,ze,Mc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Qo)?b(this,Qo,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[o,u]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/o,this.y=(t+s)/u,this.fixAndSetPosition()}translate(e,t){_(this,ze,ay).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,Ws)||b(this,Ws,[this.x,this.y]),_(this,ze,ay).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,Ws)||b(this,Ws,[this.x,this.y]);const[i,s]=this.parentDimensions;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Ws)&&(c(this,Ws)[0]!==this.x||c(this,Ws)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=it,s=i/e,o=i/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:s,y:o,width:u,height:d}=this;if(u*=t,d*=i,s*=t,o*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-u,s)),o=Math.max(0,Math.min(i-d,o));break;case 90:s=Math.max(0,Math.min(t-d,s)),o=Math.min(i,Math.max(u,o));break;case 180:s=Math.min(t,Math.max(u,s)),o=Math.min(i,Math.max(d,o));break;case 270:s=Math.min(t,Math.max(d,s)),o=Math.max(0,Math.min(i-u,o));break}this.x=s/=t,this.y=o/=i;const[f,p]=this.getBaseTranslation();s+=f,o+=p;const{style:g}=this.div;g.left=`${(100*s).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return _(i=it,Ed,ly).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return _(i=it,Ed,ly).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,s=t*e,o=i*e;return kn.isCSSRoundSupported?[Math.round(s),Math.round(o)]:[s,o]}setDims(e,t){const[i,s]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,Ko)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),o=!c(this,Ko)&&t.endsWith("%");if(s&&o)return;const[u,d]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/u).toFixed(2)}%`),!c(this,Ko)&&!o&&(e.height=`${(100*parseFloat(t)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,sn))==null||e.finish()}async addEditToolbar(){return c(this,on)||c(this,Jo)?c(this,on):(b(this,on,new Yv(this)),this.div.append(c(this,on).render()),c(this,sn)&&c(this,on).addAltTextButton(await c(this,sn).render()),c(this,on))}removeEditToolbar(){var e;c(this,on)&&(c(this,on).remove(),b(this,on,null),(e=c(this,sn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,sn)||($p.initialize(it._l10nPromise),b(this,sn,new $p(this)),c(this,Xo)&&(c(this,sn).data=c(this,Xo),b(this,Xo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,sn))==null?void 0:e.data}set altTextData(e){c(this,sn)&&(c(this,sn).data=e)}hasAltText(){var e;return!((e=c(this,sn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Nl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,jl),{signal:e}),this.div.addEventListener("focusout",c(this,Bl),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),Up(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=kn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Qo,!0),this._isDraggable){_(this,ze,yb).call(this,e);return}_(this,ze,hy).call(this,e)}moveInDOM(){c(this,tr)&&clearTimeout(c(this,tr)),b(this,tr,setTimeout(()=>{var e;b(this,tr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const s=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,p=e/s,g=t/s,v=this.x*o,w=this.y*u,E=this.width*o,A=this.height*u;switch(i){case 0:return[v+p+d,u-w-g-A+f,v+p+E+d,u-w-g+f];case 90:return[v+g+d,u-w+p+f,v+g+A+d,u-w+p+E+f];case 180:return[v-p-E+d,u-w+g+f,v-p+d,u-w+g+A+f];case 270:return[v-g-A+d,u-w-p-E+f,v-g+d,u-w-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,o,u]=e,d=o-i,f=u-s;switch(this.rotation){case 0:return[i,t-u,d,f];case 90:return[i,t-s,f,d];case 180:return[o,t-s,d,f];case 270:return[o,t-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Jo,!0)}disableEditMode(){b(this,Jo,!1)}isInEditMode(){return c(this,Jo)}shouldGetKeyboardEvents(){return c(this,Ur)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,jl),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",c(this,Bl),{signal:e})}rotate(e){}serialize(e=!1,t=null){tt("An editor must be serializable")}static deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,b(s,Xo,e.accessibilityData);const[o,u]=s.pageDimensions,[d,f,p,g]=s.getRectInCurrentCoords(e.rect,u);return s.x=d/o,s.y=f/u,s.width=p/o,s.height=g/u,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,jl)),this.div.removeEventListener("focusout",c(this,Bl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,tr)&&(clearTimeout(c(this,tr)),b(this,tr,null)),_(this,ze,Mc).call(this),this.removeEditToolbar(),c(this,hi)){for(const e of c(this,hi).values())clearTimeout(e);b(this,hi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,ze,mb).call(this),c(this,qt).classList.remove("hidden"),Up(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,qt).children;if(!c(this,Mi)){b(this,Mi,Array.from(t));const u=_(this,ze,wb).bind(this),d=_(this,ze,Ab).bind(this),f=this._uiManager._signal;for(const p of c(this,Mi)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",d,{signal:f}),p.addEventListener("focus",_(this,ze,Eb).bind(this,g),{signal:f}),it._l10nPromise.get(`pdfjs-editor-resizer-label-${g}`).then(v=>p.setAttribute("aria-label",v))}}const i=c(this,Mi)[0];let s=0;for(const u of t){if(u===i)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,Mi).length/4);if(o!==s){if(o<s)for(let d=0;d<s-o;d++)c(this,qt).append(c(this,qt).firstChild);else if(o>s)for(let d=0;d<o-s;d++)c(this,qt).firstChild.before(c(this,qt).lastChild);let u=0;for(const d of t){const p=c(this,Mi)[u++].getAttribute("data-resizer-name");it._l10nPromise.get(`pdfjs-editor-resizer-label-${p}`).then(g=>d.setAttribute("aria-label",g))}}_(this,ze,fy).call(this,0),b(this,Ur,!0),c(this,qt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Ur)&&_(this,ze,dy).call(this,c(this,yd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,ze,Mc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,on)){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=c(this,on))==null||s.show())});return}(t=c(this,on))==null||t.show()}unselect(){var e,t,i,s;(e=c(this,qt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=c(this,on))==null||s.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,wd)}set isEditing(e){b(this,wd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Ko,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,hi)||b(this,hi,new Map);const{action:i}=e;let s=c(this,hi).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),c(this,hi).delete(i),c(this,hi).size===0&&b(this,hi,null)},it._telemetryTimeout),c(this,hi).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Nl,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Nl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Xo=new WeakMap,Mi=new WeakMap,sn=new WeakMap,Nl=new WeakMap,Ko=new WeakMap,qt=new WeakMap,Yo=new WeakMap,jl=new WeakMap,Bl=new WeakMap,on=new WeakMap,yd=new WeakMap,Qo=new WeakMap,Ws=new WeakMap,wd=new WeakMap,Jo=new WeakMap,Ur=new WeakMap,tr=new WeakMap,zl=new WeakMap,Hl=new WeakMap,hi=new WeakMap,Ad=new WeakMap,ig=new WeakMap,ze=new WeakSet,ay=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this.fixAndSetPosition()},Ed=new WeakSet,ly=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},uy=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},mb=function(){if(c(this,qt))return;b(this,qt,document.createElement("div")),c(this,qt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");c(this,qt).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",_(this,ze,vb).bind(this,i),{signal:t}),s.addEventListener("contextmenu",Mn,{signal:t}),s.tabIndex=-1}this.div.prepend(c(this,qt))},vb=function(e,t){var x;t.preventDefault();const{isMac:i}=kn.platform;if(t.button!==0||t.ctrlKey&&i)return;(x=c(this,sn))==null||x.toggle(!1);const s=_(this,ze,dy).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const u=this._uiManager._signal,d={passive:!0,capture:!0,signal:u};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,d),window.addEventListener("contextmenu",Mn,{signal:u});const f=this.x,p=this.y,g=this.width,v=this.height,w=this.parent.div.style.cursor,E=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var C;this.parent.togglePointerEvents(!0),(C=c(this,sn))==null||C.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",A),window.removeEventListener("blur",A),window.removeEventListener("pointermove",s,d),window.removeEventListener("contextmenu",Mn),this.parent.div.style.cursor=w,this.div.style.cursor=E,_(this,ze,cy).call(this,f,p,g,v)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},cy=function(e,t,i,s){const o=this.x,u=this.y,d=this.width,f=this.height;o===e&&u===t&&d===i&&f===s||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[p,g]=this.parentDimensions;this.setDims(p*d,g*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=e,this.y=t;const[p,g]=this.parentDimensions;this.setDims(p*i,g*s),this.fixAndSetPosition()},mustExec:!0})},dy=function(e,t){const[i,s]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,p=it.MIN_SIZE/i,g=it.MIN_SIZE/s,v=Q=>Math.round(Q*1e4)/1e4,w=_(this,ze,uy).call(this,this.rotation),E=(Q,W)=>[w[0]*Q+w[2]*W,w[1]*Q+w[3]*W],A=_(this,ze,uy).call(this,360-this.rotation),x=(Q,W)=>[A[0]*Q+A[2]*W,A[1]*Q+A[3]*W];let C,k,L=!1,I=!1;switch(e){case"topLeft":L=!0,C=(Q,W)=>[0,0],k=(Q,W)=>[Q,W];break;case"topMiddle":C=(Q,W)=>[Q/2,0],k=(Q,W)=>[Q/2,W];break;case"topRight":L=!0,C=(Q,W)=>[Q,0],k=(Q,W)=>[0,W];break;case"middleRight":I=!0,C=(Q,W)=>[Q,W/2],k=(Q,W)=>[0,W/2];break;case"bottomRight":L=!0,C=(Q,W)=>[Q,W],k=(Q,W)=>[0,0];break;case"bottomMiddle":C=(Q,W)=>[Q/2,W],k=(Q,W)=>[Q/2,0];break;case"bottomLeft":L=!0,C=(Q,W)=>[0,W],k=(Q,W)=>[Q,0];break;case"middleLeft":I=!0,C=(Q,W)=>[0,W/2],k=(Q,W)=>[Q,W/2];break}const O=C(d,f),F=k(d,f);let B=E(...F);const q=v(o+B[0]),K=v(u+B[1]);let X=1,Z=1,[re,Se]=this.screenToPageTranslation(t.movementX,t.movementY);if([re,Se]=x(re/i,Se/s),L){const Q=Math.hypot(d,f);X=Z=Math.max(Math.min(Math.hypot(F[0]-O[0]-re,F[1]-O[1]-Se)/Q,1/d,1/f),p/d,g/f)}else I?X=Math.max(p,Math.min(1,Math.abs(F[0]-O[0]-re)))/d:Z=Math.max(g,Math.min(1,Math.abs(F[1]-O[1]-Se)))/f;const he=v(d*X),ae=v(f*Z);B=E(...k(he,ae));const ne=q-B[0],te=K-B[1];this.width=he,this.height=ae,this.x=ne,this.y=te,this.setDims(i*he,s*ae),this.fixAndSetPosition()},hy=function(e){const{isMac:t}=kn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},yb=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,s;const o=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:o},b(this,zl,e.clientX),b(this,Hl,e.clientY),s=d=>{const{clientX:f,clientY:p}=d,[g,v]=this.screenToPageTranslation(f-c(this,zl),p-c(this,Hl));b(this,zl,f),b(this,Hl,p),this._uiManager.dragSelectedEditors(g,v)},window.addEventListener("pointermove",s,i));const u=()=>{window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,i)),b(this,Qo,!1),this._uiManager.endDragSession()||_(this,ze,hy).call(this,e)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},wb=function(e){it._resizerKeyboardManager.exec(this,e)},Ab=function(e){var t;c(this,Ur)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,qt)&&_(this,ze,Mc).call(this)},Eb=function(e){b(this,yd,c(this,Ur)?e:"")},fy=function(e){if(c(this,Mi))for(const t of c(this,Mi))t.tabIndex=e},Mc=function(){if(b(this,Ur,!1),_(this,ze,fy).call(this,-1),c(this,Yo)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=c(this,Yo);_(this,ze,cy).call(this,e,t,i,s),b(this,Yo,null)}},T(it,Ed),Ie(it,"_borderLineWidth",-1),Ie(it,"_colorManager",new ey),Ie(it,"_zIndex",1),Ie(it,"_telemetryTimeout",1e3);let Ze=it;class pR extends Ze{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const OE=3285377520,ci=4294901760,Ki=65535;class Sb{constructor(e){this.h1=e?e&4294967295:OE,this.h2=e?e&4294967295:OE}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let x=0,C=e.length;x<C;x++){const k=e.charCodeAt(x);k<=255?t[i++]=k:(t[i++]=k>>>8,t[i++]=k&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,o=i-s*4,u=new Uint32Array(t.buffer,0,s);let d=0,f=0,p=this.h1,g=this.h2;const v=3432918353,w=461845907,E=v&Ki,A=w&Ki;for(let x=0;x<s;x++)x&1?(d=u[x],d=d*v&ci|d*E&Ki,d=d<<15|d>>>17,d=d*w&ci|d*A&Ki,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[x],f=f*v&ci|f*E&Ki,f=f<<15|f>>>17,f=f*w&ci|f*A&Ki,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(d=0,o){case 3:d^=t[s*4+2]<<16;case 2:d^=t[s*4+1]<<8;case 1:d^=t[s*4],d=d*v&ci|d*E&Ki,d=d<<15|d>>>17,d=d*w&ci|d*A&Ki,s&1?p^=d:g^=d}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ci|e*36045&Ki,t=t*4283543511&ci|((t<<16|e>>>16)*2950163797&ci)>>>16,e^=t>>>1,e=e*444984403&ci|e*60499&Ki,t=t*3301882366&ci|((t<<16|e>>>16)*3120437893&ci)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const py=Object.freeze({map:null,hash:"",transfer:void 0});var Zo,Xt,rg,bb;class E0{constructor(){T(this,rg);T(this,Zo,!1);T(this,Xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,Xt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,Xt).get(e)}remove(e){if(c(this,Xt).delete(e),c(this,Xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Xt).values())if(t instanceof Ze)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,Xt).get(e);let s=!1;if(i!==void 0)for(const[o,u]of Object.entries(t))i[o]!==u&&(s=!0,i[o]=u);else s=!0,c(this,Xt).set(e,t);s&&_(this,rg,bb).call(this),t instanceof Ze&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Xt).has(e)}getAll(){return c(this,Xt).size>0?p0(c(this,Xt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,Xt).size}resetModified(){c(this,Zo)&&(b(this,Zo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _b(this)}get serializable(){if(c(this,Xt).size===0)return py;const e=new Map,t=new Sb,i=[],s=Object.create(null);let o=!1;for(const[u,d]of c(this,Xt)){const f=d instanceof Ze?d.serialize(!1,s):d;f&&(e.set(u,f),t.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of e.values())u.bitmap&&i.push(u.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:py}get editorStats(){let e=null;const t=new Map;for(const i of c(this,Xt).values()){if(!(i instanceof Ze))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[d,f]of Object.entries(s)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}}Zo=new WeakMap,Xt=new WeakMap,rg=new WeakSet,bb=function(){c(this,Zo)||(b(this,Zo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sd;class _b extends E0{constructor(t){super();T(this,Sd);const{map:i,hash:s,transfer:o}=t.serializable,u=structuredClone(i,o?{transfer:o}:null);b(this,Sd,{map:u,hash:s,transfer:o})}get print(){tt("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Sd)}}Sd=new WeakMap;var Ul;class gR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){T(this,Ul,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ul).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ul).has(e.loadedName))){if(Ot(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,u=new FontFace(i,s,o);this.addNativeFontFace(u);try{await u.load(),c(this,Ul).add(i),t==null||t(e)}catch{Be(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}tt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Be(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ge(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(un||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ge(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ot(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ge(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(O,F){return O.charCodeAt(F)<<24|O.charCodeAt(F+1)<<16|O.charCodeAt(F+2)<<8|O.charCodeAt(F+3)&255}function s(O,F,B,q){const K=O.substring(0,F),X=O.substring(F+B);return K+q+X}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let p=0;function g(O,F){if(++p>30){Be("Load test font never loaded."),F();return}if(f.font="30px "+O,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,O,F))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=s(w,976,v.length,v);const A=16,x=1482184792;let C=i(w,A);for(o=0,u=v.length-3;o<u;o+=4)C=C-x+i(v,o)|0;o<v.length&&(C=C-x+i(v+"XXX",o)|0),w=s(w,A,4,Jk(C));const k=`url(data:font/opentype;base64,${btoa(w)});`,L=`@font-face {font-family:"${v}";src:${k}}`;this.insertRule(L);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const O of[e.loadedName,v]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=O,I.append(F)}this._document.body.append(I),g(v,()=>{I.remove(),t.complete()})}}Ul=new WeakMap;class mR{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=WS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(o){Be(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(o,u){};const s=[];for(let o=0,u=i.length;o<u;)switch(i[o++]){case kr.BEZIER_CURVE_TO:{const[d,f,p,g,v,w]=i.slice(o,o+6);s.push(E=>E.bezierCurveTo(d,f,p,g,v,w)),o+=6}break;case kr.MOVE_TO:{const[d,f]=i.slice(o,o+2);s.push(p=>p.moveTo(d,f)),o+=2}break;case kr.LINE_TO:{const[d,f]=i.slice(o,o+2);s.push(p=>p.lineTo(d,f)),o+=2}break;case kr.QUADRATIC_CURVE_TO:{const[d,f,p,g]=i.slice(o,o+4);s.push(v=>v.quadraticCurveTo(d,f,p,g)),o+=4}break;case kr.RESTORE:s.push(d=>d.restore());break;case kr.SAVE:s.push(d=>d.save());break;case kr.SCALE:Ot(s.length===2,"Scale command is only valid at the third position.");break;case kr.TRANSFORM:{const[d,f,p,g,v,w]=i.slice(o,o+6);s.push(E=>E.transform(d,f,p,g,v,w)),o+=6}break;case kr.TRANSLATE:{const[d,f]=i.slice(o,o+2);s.push(p=>p.translate(d,f)),o+=2}break}return this.compiledGlyphs[t]=function(u,d){s[0](u),s[1](u),u.scale(d,-d);for(let f=2,p=s.length;f<p;f++)s[f](u)}}}if(un){var gy=Promise.withResolvers(),Vc=null;(async()=>{const e=await ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:e,http:t,https:i,url:s,canvas:o,path2d:u}))})().then(e=>{Vc=e,gy.resolve()},e=>{Be(`loadPackages: ${e}`),Vc=new Map,gy.resolve()})}class pr{static get promise(){return gy.promise}static get(e){return Vc==null?void 0:Vc.get(e)}}const xb=function(l){return pr.get("fs").promises.readFile(l).then(t=>new Uint8Array(t))};class vR extends xg{}class yR extends Hp{_createCanvas(e,t){return pr.get("canvas").createCanvas(e,t)}}class wR extends Cg{_fetchData(e,t){return xb(e).then(i=>({cMapData:i,compressionType:t}))}}class AR extends Tg{_fetchData(e){return xb(e)}}const gn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function my(l,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),l.clip(s)}class Ih{constructor(){this.constructor===Ih&&tt("Cannot initialize BaseShadingPattern.")}getPattern(){tt("Abstract method `getPattern` called.")}}class ER extends Ih{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let o;if(s===gn.STROKE||s===gn.FILL){const u=t.current.getClippedPathBoundingBox(s,gt(e))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=t.cachedCanvases.getCanvas("pattern",d,f,!0),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),i=Ee.transform(i,[1,0,0,1,u[0],u[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),my(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(i);o.setTransform(v)}else my(e,this._bbox),o=this._createGradient(e);return o}}function Dv(l,e,t,i,s,o,u,d){const f=e.coords,p=e.colors,g=l.data,v=l.width*4;let w;f[t+1]>f[i+1]&&(w=t,t=i,i=w,w=o,o=u,u=w),f[i+1]>f[s+1]&&(w=i,i=s,s=w,w=u,u=d,d=w),f[t+1]>f[i+1]&&(w=t,t=i,i=w,w=o,o=u,u=w);const E=(f[t]+e.offsetX)*e.scaleX,A=(f[t+1]+e.offsetY)*e.scaleY,x=(f[i]+e.offsetX)*e.scaleX,C=(f[i+1]+e.offsetY)*e.scaleY,k=(f[s]+e.offsetX)*e.scaleX,L=(f[s+1]+e.offsetY)*e.scaleY;if(A>=L)return;const I=p[o],O=p[o+1],F=p[o+2],B=p[u],q=p[u+1],K=p[u+2],X=p[d],Z=p[d+1],re=p[d+2],Se=Math.round(A),he=Math.round(L);let ae,ne,te,Q,W,le,se,P;for(let z=Se;z<=he;z++){if(z<C){const be=z<A?0:(A-z)/(A-C);ae=E-(E-x)*be,ne=I-(I-B)*be,te=O-(O-q)*be,Q=F-(F-K)*be}else{let be;z>L?be=1:C===L?be=0:be=(C-z)/(C-L),ae=x-(x-k)*be,ne=B-(B-X)*be,te=q-(q-Z)*be,Q=K-(K-re)*be}let oe;z<A?oe=0:z>L?oe=1:oe=(A-z)/(A-L),W=E-(E-k)*oe,le=I-(I-X)*oe,se=O-(O-Z)*oe,P=F-(F-re)*oe;const pe=Math.round(Math.min(ae,W)),ye=Math.round(Math.max(ae,W));let ke=v*z+pe*4;for(let be=pe;be<=ye;be++)oe=(ae-be)/(ae-W),oe<0?oe=0:oe>1&&(oe=1),g[ke++]=ne-(ne-le)*oe|0,g[ke++]=te-(te-se)*oe|0,g[ke++]=Q-(Q-P)*oe|0,g[ke++]=255}}function SR(l,e,t){const i=e.coords,s=e.colors;let o,u;switch(e.type){case"lattice":const d=e.verticesPerRow,f=Math.floor(i.length/d)-1,p=d-1;for(o=0;o<f;o++){let g=o*d;for(let v=0;v<p;v++,g++)Dv(l,t,i[g],i[g+1],i[g+d],s[g],s[g+1],s[g+d]),Dv(l,t,i[g+d+1],i[g+1],i[g+d],s[g+d+1],s[g+1],s[g+d])}break;case"triangles":for(o=0,u=i.length;o<u;o+=3)Dv(l,t,i[o],i[o+1],i[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class bR extends Ih{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),E=p/v,A=g/w,x={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/E,scaleY:1/A},C=v+4,k=w+4,L=i.getCanvas("mesh",C,k,!1),I=L.context,O=I.createImageData(v,w);if(t){const B=O.data;for(let q=0,K=B.length;q<K;q+=4)B[q]=t[0],B[q+1]=t[1],B[q+2]=t[2],B[q+3]=255}for(const B of this._figures)SR(O,B,x);return I.putImageData(O,2,2),{canvas:L.canvas,offsetX:d-2*E,offsetY:f-2*A,scaleX:E,scaleY:A}}getPattern(e,t,i,s){my(e,this._bbox);let o;if(s===gn.SHADING)o=Ee.singularValueDecompose2dScale(gt(e));else if(o=Ee.singularValueDecompose2dScale(t.baseTransform),this.matrix){const d=Ee.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,s===gn.SHADING?null:this._background,t.cachedCanvases);return s!==gn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}class _R extends Ih{getPattern(){return"hotpink"}}function xR(l){switch(l[0]){case"RadialAxial":return new ER(l);case"Mesh":return new bR(l);case"Dummy":return new _R}throw new Error(`Unknown IR type: ${l[0]}`)}const FE={COLORED:1,UNCOLORED:2},sg=class sg{constructor(e,t,i,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,s=this.xstep,o=this.ystep,u=this.paintType,d=this.tilingType,f=this.color,p=this.canvasGraphicsFactory;Sg("TilingType: "+d);const g=i[0],v=i[1],w=i[2],E=i[3],A=Ee.singularValueDecompose2dScale(this.matrix),x=Ee.singularValueDecompose2dScale(this.baseTransform),C=[A[0]*x[0],A[1]*x[1]],k=this.getSizeAndScale(s,this.ctx.canvas.width,C[0]),L=this.getSizeAndScale(o,this.ctx.canvas.height,C[1]),I=e.cachedCanvases.getCanvas("pattern",k.size,L.size,!0),O=I.context,F=p.createCanvasGraphics(O);F.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(F,u,f);let B=g,q=v,K=w,X=E;return g<0&&(B=0,K+=Math.abs(g)),v<0&&(q=0,X+=Math.abs(v)),O.translate(-(k.scale*B),-(L.scale*q)),F.transform(k.scale,0,0,L.scale,0,0),O.save(),this.clipBbox(F,B,q,K,X),F.baseTransform=gt(F.ctx),F.executeOperatorList(t),F.endDrawing(),{canvas:I.canvas,scaleX:k.scale,scaleY:L.scale,offsetX:B,offsetY:q}}getSizeAndScale(e,t,i){e=Math.abs(e);const s=Math.max(sg.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*i);return o>=s?o=s:i=o/e,{scale:i,size:o}}clipBbox(e,t,i,s,o){const u=s-t,d=o-i;e.ctx.rect(t,i,u,d),e.current.updateRectMinMax(gt(e.ctx),[t,i,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,o=e.current;switch(t){case FE.COLORED:const u=this.ctx;s.fillStyle=u.fillStyle,s.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case FE.UNCOLORED:const d=Ee.makeHexColor(i[0],i[1],i[2]);s.fillStyle=d,s.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new Qk(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,s){let o=i;s!==gn.SHADING&&(o=Ee.transform(o,t.baseTransform),this.matrix&&(o=Ee.transform(o,this.matrix)));const u=this.createPatternCanvas(t);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=e.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};Ie(sg,"MAX_PATTERN_SIZE",3e3);let vy=sg;function CR({src:l,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=kn.isLittleEndian?4278190080:255,[f,p]=u?[o,d]:[d,o],g=i>>3,v=i&7,w=l.length;t=new Uint32Array(t.buffer);let E=0;for(let A=0;A<s;A++){for(const C=e+g;e<C;e++){const k=e<w?l[e]:255;t[E++]=k&128?p:f,t[E++]=k&64?p:f,t[E++]=k&32?p:f,t[E++]=k&16?p:f,t[E++]=k&8?p:f,t[E++]=k&4?p:f,t[E++]=k&2?p:f,t[E++]=k&1?p:f}if(v===0)continue;const x=e<w?l[e++]:255;for(let C=0;C<v;C++)t[E++]=x&1<<7-C?p:f}return{srcPos:e,destPos:E}}const NE=16,jE=100,TR=15,BE=10,zE=1e3,Tn=16;function kR(l,e){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){e.save(),this.__originalSave()},l.restore=function(){e.restore(),this.__originalRestore()},l.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},l.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},l.transform=function(i,s,o,u,d,f){e.transform(i,s,o,u,d,f),this.__originalTransform(i,s,o,u,d,f)},l.setTransform=function(i,s,o,u,d,f){e.setTransform(i,s,o,u,d,f),this.__originalSetTransform(i,s,o,u,d,f)},l.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},l.rotate=function(i){e.rotate(i),this.__originalRotate(i)},l.clip=function(i){e.clip(i),this.__originalClip(i)},l.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},l.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},l.bezierCurveTo=function(t,i,s,o,u,d){e.bezierCurveTo(t,i,s,o,u,d),this.__originalBezierCurveTo(t,i,s,o,u,d)},l.rect=function(t,i,s,o){e.rect(t,i,s,o),this.__originalRect(t,i,s,o)},l.closePath=function(){e.closePath(),this.__originalClosePath()},l.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class RR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function tp(l,e,t,i,s,o,u,d,f,p){const[g,v,w,E,A,x]=gt(l);if(v===0&&w===0){const L=u*g+A,I=Math.round(L),O=d*E+x,F=Math.round(O),B=(u+f)*g+A,q=Math.abs(Math.round(B)-I)||1,K=(d+p)*E+x,X=Math.abs(Math.round(K)-F)||1;return l.setTransform(Math.sign(g),0,0,Math.sign(E),I,F),l.drawImage(e,t,i,s,o,0,0,q,X),l.setTransform(g,v,w,E,A,x),[q,X]}if(g===0&&E===0){const L=d*w+A,I=Math.round(L),O=u*v+x,F=Math.round(O),B=(d+p)*w+A,q=Math.abs(Math.round(B)-I)||1,K=(u+f)*v+x,X=Math.abs(Math.round(K)-F)||1;return l.setTransform(0,Math.sign(v),Math.sign(w),0,I,F),l.drawImage(e,t,i,s,o,0,0,X,q),l.setTransform(g,v,w,E,A,x),[X,q]}l.drawImage(e,t,i,s,o,u,d,f,p);const C=Math.hypot(g,v),k=Math.hypot(w,E);return[C*f,k*p]}function PR(l){const{width:e,height:t}=l;if(e>zE||t>zE)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let u=new Uint8Array(o*(t+1)),d,f,p;const g=e+7&-8;let v=new Uint8Array(g*t),w=0;for(const k of l.data){let L=128;for(;L>0;)v[w++]=k&L?0:255,L>>=1}let E=0;for(w=0,v[w]!==0&&(u[0]=1,++E),f=1;f<e;f++)v[w]!==v[w+1]&&(u[f]=v[w]?2:1,++E),w++;for(v[w]!==0&&(u[f]=2,++E),d=1;d<t;d++){w=d*g,p=d*o,v[w-g]!==v[w]&&(u[p]=v[w]?1:8,++E);let k=(v[w]?4:0)+(v[w-g]?8:0);for(f=1;f<e;f++)k=(k>>2)+(v[w+1]?4:0)+(v[w-g+1]?8:0),s[k]&&(u[p+f]=s[k],++E),w++;if(v[w-g]!==v[w]&&(u[p+f]=v[w]?2:4,++E),E>i)return null}for(w=g*(t-1),p=d*o,v[w]!==0&&(u[p]=8,++E),f=1;f<e;f++)v[w]!==v[w+1]&&(u[p+f]=v[w]?4:8,++E),w++;if(v[w]!==0&&(u[p+f]=4,++E),E>i)return null;const A=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(d=0;E&&d<=t;d++){let k=d*o;const L=k+e;for(;k<L&&!u[k];)k++;if(k===L)continue;x.moveTo(k%o,d);const I=k;let O=u[k];do{const F=A[O];do k+=F;while(!u[k]);const B=u[k];B!==5&&B!==10?(O=B,u[k]=0):(O=B&51*O>>4,u[k]&=O>>2|O<<2),x.lineTo(k%o,k/o|0),u[k]||--E}while(I!==k);--d}return v=null,u=null,function(k){k.save(),k.scale(1/e,-1/t),k.translate(0,-t),k.fill(x),k.beginPath(),k.restore()}}class HE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$S,this.textMatrixScale=1,this.fontMatrix=$v,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=nn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=Ee.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=Ee.applyTransform(t,e),s=Ee.applyTransform(t.slice(2),e),o=Ee.applyTransform([t[0],t[3]],e),u=Ee.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],o[0],u[0]),this.minY=Math.min(this.minY,i[1],s[1],o[1],u[1]),this.maxX=Math.max(this.maxX,i[0],s[0],o[0],u[0]),this.maxY=Math.max(this.maxY,i[1],s[1],o[1],u[1])}updateScalingPathMinMax(e,t){Ee.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,o,u,d,f,p,g){const v=Ee.bezierBoundingBox(t,i,s,o,u,d,f,p,g);g||this.updateRectMinMax(e,v)}getPathBoundingBox(e=gn.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===gn.STROKE){t||tt("Stroke bounding box must include transform.");const s=Ee.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,u=s[1]*this.lineWidth/2;i[0]-=o,i[1]-=u,i[2]+=o,i[3]+=u}return i}updateClipFromPath(){const e=Ee.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=gn.FILL,t=null){return Ee.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function UE(l,e){if(typeof ImageData<"u"&&e instanceof ImageData){l.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%Tn,o=(t-s)/Tn,u=s===0?o:o+1,d=l.createImageData(i,Tn);let f=0,p;const g=e.data,v=d.data;let w,E,A,x;if(e.kind===hp.GRAYSCALE_1BPP){const C=g.byteLength,k=new Uint32Array(v.buffer,0,v.byteLength>>2),L=k.length,I=i+7>>3,O=4294967295,F=kn.isLittleEndian?4278190080:255;for(w=0;w<u;w++){for(A=w<o?Tn:s,p=0,E=0;E<A;E++){const B=C-f;let q=0;const K=B>I?i:B*8-7,X=K&-8;let Z=0,re=0;for(;q<X;q+=8)re=g[f++],k[p++]=re&128?O:F,k[p++]=re&64?O:F,k[p++]=re&32?O:F,k[p++]=re&16?O:F,k[p++]=re&8?O:F,k[p++]=re&4?O:F,k[p++]=re&2?O:F,k[p++]=re&1?O:F;for(;q<K;q++)Z===0&&(re=g[f++],Z=128),k[p++]=re&Z?O:F,Z>>=1}for(;p<L;)k[p++]=0;l.putImageData(d,0,w*Tn)}}else if(e.kind===hp.RGBA_32BPP){for(E=0,x=i*Tn*4,w=0;w<o;w++)v.set(g.subarray(f,f+x)),f+=x,l.putImageData(d,0,E),E+=Tn;w<u&&(x=i*s*4,v.set(g.subarray(f,f+x)),l.putImageData(d,0,E))}else if(e.kind===hp.RGB_24BPP)for(A=Tn,x=i*A,w=0;w<u;w++){for(w>=o&&(A=s,x=i*A),p=0,E=x;E--;)v[p++]=g[f++],v[p++]=g[f++],v[p++]=g[f++],v[p++]=255;l.putImageData(d,0,w*Tn)}else throw new Error(`bad image kind: ${e.kind}`)}function $E(l,e){if(e.bitmap){l.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%Tn,o=(t-s)/Tn,u=s===0?o:o+1,d=l.createImageData(i,Tn);let f=0;const p=e.data,g=d.data;for(let v=0;v<u;v++){const w=v<o?Tn:s;({srcPos:f}=CR({src:p,srcPos:f,dest:g,width:i,height:w,nonBlackColor:0})),l.putImageData(d,0,v*Tn)}}function _c(l,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)l[i]!==void 0&&(e[i]=l[i]);l.setLineDash!==void 0&&(e.setLineDash(l.getLineDash()),e.lineDashOffset=l.lineDashOffset)}function np(l){if(l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0),!un){const{filter:e}=l;e!=="none"&&e!==""&&(l.filter="none")}}function VE(l,e){if(e)return!0;const t=Ee.singularValueDecompose2dScale(l);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*uo.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const LR=["butt","round","square"],MR=["miter","round","bevel"],DR={},WE={};var ho,yy,wy;const T0=class T0{constructor(e,t,i,s,o,{optionalContentConfig:u,markedContentStack:d=null},f,p){T(this,ho);this.ctx=e,this.current=new HE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new RR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,i){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...gt(this.compositeCtx))}this.ctx.save(),np(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=gt(this.ctx)}executeOperatorList(e,t,i,s){const o=e.argsArray,u=e.fnArray;let d=t||0;const f=o.length;if(f===d)return d;const p=f-d>BE&&typeof i=="function",g=p?Date.now()+TR:0;let v=0;const w=this.commonObjs,E=this.objs;let A;for(;;){if(s!==void 0&&d===s.nextBreakPoint)return s.breakIt(d,i),d;if(A=u[d],A!==Ti.dependency)this[A].apply(this,o[d]);else for(const x of o[d]){const C=x.startsWith("g_")?w:E;if(!C.has(x))return C.get(x,i),d}if(d++,d===f)return d;if(p&&++v>BE){if(Date.now()>g)return i(),d;v=0}}}endDrawing(){_(this,ho,yy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,ho,wy).call(this)}_scaleImage(e,t){const i=e.width,s=e.height;let o=Math.max(Math.hypot(t[0],t[1]),1),u=Math.max(Math.hypot(t[2],t[3]),1),d=i,f=s,p="prescale1",g,v;for(;o>2&&d>1||u>2&&f>1;){let w=d,E=f;o>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/w),u>2&&f>1&&(E=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/E),g=this.cachedCanvases.getCanvas(p,w,E),v=g.context,v.clearRect(0,0,w,E),v.drawImage(e,0,0,d,f,0,0,w,E),e=g.canvas,d=w,f=E,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:f}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,o=this.current.fillColor,u=this.current.patternFill,d=gt(t);let f,p,g,v;if((e.bitmap||e.data)&&e.count>1){const K=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(K),f||(f=new Map,this._cachedBitmapsMap.set(K,f));const X=f.get(p);if(X&&!u){const Z=Math.round(Math.min(d[0],d[2])+d[4]),re=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:X,offsetX:Z,offsetY:re}}g=X}g||(v=this.cachedCanvases.getCanvas("maskCanvas",i,s),$E(v.context,e));let w=Ee.transform(d,[1/i,0,0,-1/s,0,0]);w=Ee.transform(w,[1,0,0,1,0,-s]);const[E,A,x,C]=Ee.getAxialAlignedBoundingBox([0,0,i,s],w),k=Math.round(x-E)||1,L=Math.round(C-A)||1,I=this.cachedCanvases.getCanvas("fillCanvas",k,L),O=I.context,F=E,B=A;O.translate(-F,-B),O.transform(...w),g||(g=this._scaleImage(v.canvas,Rr(O)),g=g.img,f&&u&&f.set(p,g)),O.imageSmoothingEnabled=VE(gt(O),e.interpolate),tp(O,g,0,0,g.width,g.height,0,0,i,s),O.globalCompositeOperation="source-in";const q=Ee.transform(Rr(O),[1,0,0,1,-F,-B]);return O.fillStyle=u?o.getPattern(t,this,q,gn.FILL):o,O.fillRect(0,0,i,s),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,I.canvas)),{canvas:I.canvas,offsetX:Math.round(F),offsetY:Math.round(B)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LR[e]}setLineJoin(e){this.ctx.lineJoin=MR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const o=this.ctx;o.setTransform(...gt(this.suspendedCtx)),_c(this.suspendedCtx,o),kR(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_c(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const o=s[0],u=s[1],d=s[2]-o,f=s[3]-u;d===0||f===0||(this.genericComposeSMask(t.context,i,d,f,t.subtype,t.backdrop,t.transferMap,o,u,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,o,u,d,f,p,g,v){let w=e.canvas,E=f-g,A=p-v;if(u){if(E<0||A<0||E+i>w.width||A+s>w.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,s),k=C.context;k.drawImage(w,-E,-A),u.some(L=>L!==0)&&(k.globalCompositeOperation="destination-atop",k.fillStyle=Ee.makeHexColor(...u),k.fillRect(0,0,i,s),k.globalCompositeOperation="source-over"),w=C.canvas,E=A=0}else if(u.some(C=>C!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(E,A,i,s),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=Ee.makeHexColor(...u),e.fillRect(E,A,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?t.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(d));const x=new Path2D;x.rect(f,p,i,s),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(w,E,A,i,s,f,p,i,s),t.restore()}save(){this.inSMaskMode?(_c(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_c(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,o,u){this.ctx.transform(e,t,i,s,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const s=this.ctx,o=this.current;let u=o.x,d=o.y,f,p;const g=gt(s),v=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,w=v?i.slice(0):null;for(let E=0,A=0,x=e.length;E<x;E++)switch(e[E]|0){case Ti.rectangle:u=t[A++],d=t[A++];const C=t[A++],k=t[A++],L=u+C,I=d+k;s.moveTo(u,d),C===0||k===0?s.lineTo(L,I):(s.lineTo(L,d),s.lineTo(L,I),s.lineTo(u,I)),v||o.updateRectMinMax(g,[u,d,L,I]),s.closePath();break;case Ti.moveTo:u=t[A++],d=t[A++],s.moveTo(u,d),v||o.updatePathMinMax(g,u,d);break;case Ti.lineTo:u=t[A++],d=t[A++],s.lineTo(u,d),v||o.updatePathMinMax(g,u,d);break;case Ti.curveTo:f=u,p=d,u=t[A+4],d=t[A+5],s.bezierCurveTo(t[A],t[A+1],t[A+2],t[A+3],u,d),o.updateCurvePathMinMax(g,f,p,t[A],t[A+1],t[A+2],t[A+3],u,d,w),A+=6;break;case Ti.curveTo2:f=u,p=d,s.bezierCurveTo(u,d,t[A],t[A+1],t[A+2],t[A+3]),o.updateCurvePathMinMax(g,f,p,u,d,t[A],t[A+1],t[A+2],t[A+3],w),u=t[A+2],d=t[A+3],A+=4;break;case Ti.curveTo3:f=u,p=d,u=t[A+2],d=t[A+3],s.bezierCurveTo(t[A],t[A+1],u,d,u,d),o.updateCurvePathMinMax(g,f,p,t[A],t[A+1],u,d,u,d,w),A+=4;break;case Ti.closePath:s.closePath();break}v&&o.updateScalingPathMinMax(g,w),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,Rr(t),gn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,Rr(t),gn.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=DR}eoClip(){this.pendingClip=WE}beginText(){this.current.textMatrix=$S,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||$v,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Be("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const o=i.loadedName||"sans-serif",u=((g=i.systemFontInfo)==null?void 0:g.css)||`"${o}", ${i.fallbackName}`;let d="normal";i.black?d="900":i.bold&&(d="bold");const f=i.italic?"italic":"normal";let p=t;t<NE?p=NE:t>jE&&(p=jE),this.current.fontSizeScale=t/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,o,u){this.current.textMatrix=[e,t,i,s,o,u],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&nn.FILL_STROKE_MASK,v=!!(f&nn.ADD_TO_PATH_FLAG),w=u.patternFill&&!d.missingFile;let E;(d.disableFontFace||v||w)&&(E=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||w?(o.save(),o.translate(t,i),o.beginPath(),E(o,p),s&&o.setTransform(...s),(g===nn.FILL||g===nn.FILL_STROKE)&&o.fill(),(g===nn.STROKE||g===nn.FILL_STROKE)&&o.stroke(),o.restore()):((g===nn.FILL||g===nn.FILL_STROKE)&&o.fillText(e,t,i),(g===nn.STROKE||g===nn.FILL_STROKE)&&o.strokeText(e,t,i)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gt(o),x:t,y:i,fontSize:p,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return Ge(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,u=t.fontSizeScale,d=t.charSpacing,f=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,v=e.length,w=i.vertical,E=w?1:-1,A=i.defaultVMetrics,x=s*t.fontMatrix[0],C=t.textRenderingMode===nn.FILL&&!i.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let k;if(t.patternFill){o.save();const B=t.fillColor.getPattern(o,this,Rr(o),gn.FILL);k=gt(o),o.restore(),o.fillStyle=B}let L=t.lineWidth;const I=t.textMatrixScale;if(I===0||L===0){const B=t.textRenderingMode&nn.FILL_STROKE_MASK;(B===nn.STROKE||B===nn.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=I;if(u!==1&&(o.scale(u,u),L/=u),o.lineWidth=L,i.isInvalidPDFjsFont){const B=[];let q=0;for(const K of e)B.push(K.unicode),q+=K.width;o.fillText(B.join(""),0,0),t.x+=q*x*g,o.restore(),this.compose();return}let O=0,F;for(F=0;F<v;++F){const B=e[F];if(typeof B=="number"){O+=E*B*s/1e3;continue}let q=!1;const K=(B.isSpace?f:0)+d,X=B.fontChar,Z=B.accent;let re,Se,he=B.width;if(w){const ne=B.vmetric||A,te=-(B.vmetric?ne[1]:he*.5)*x,Q=ne[2]*x;he=ne?-ne[0]:he,re=te/u,Se=(O+Q)/u}else re=O/u,Se=0;if(i.remeasure&&he>0){const ne=o.measureText(X).width*1e3/s*u;if(he<ne&&this.isFontSubpixelAAEnabled){const te=he/ne;q=!0,o.save(),o.scale(te,1),re/=te}else he!==ne&&(re+=(he-ne)/2e3*s/u)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(C&&!Z)o.fillText(X,re,Se);else if(this.paintChar(X,re,Se,k),Z){const ne=re+s*Z.offset.x/u,te=Se-s*Z.offset.y/u;this.paintChar(Z.fontChar,ne,te,k)}}const ae=w?he*x-K*p:he*x+K*p;O+=ae,q&&o.restore()}w?t.y-=O:t.x+=O*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,o=i.fontSize,u=i.fontDirection,d=s.vertical?1:-1,f=i.charSpacing,p=i.wordSpacing,g=i.textHScale*u,v=i.fontMatrix||$v,w=e.length,E=i.textRenderingMode===nn.INVISIBLE;let A,x,C,k;if(!(E||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(g,u),A=0;A<w;++A){if(x=e[A],typeof x=="number"){k=d*x*o/1e3,this.ctx.translate(k,0),i.x+=k*g;continue}const L=(x.isSpace?p:0)+f,I=s.charProcOperatorList[x.operatorListId];if(!I){Be(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(o,o),t.transform(...v),this.executeOperatorList(I),this.restore()),C=Ee.applyTransform([x.width,0],v)[0]*o+L,t.translate(C,0),i.x+=C*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,o,u){this.ctx.rect(i,s,o-i,u-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],s=this.baseTransform||gt(this.ctx),o={createCanvasGraphics:u=>new T0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new vy(e,i,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const s=Ee.makeHexColor(e,t,i);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(e,t,i){const s=Ee.makeHexColor(e,t,i);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=xR(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Rr(t),gn.SHADING);const s=Rr(t);if(s){const{width:o,height:u}=t.canvas,[d,f,p,g]=Ee.getAxialAlignedBoundingBox([0,0,o,u],s);this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){tt("Should not call beginInlineImage")}beginImageData(){tt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=gt(this.ctx),t)){const i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(gt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Sg("TODO: Support non-isolated groups."),e.knockout&&Be("Knockout groups not supported.");const i=gt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ee.getAxialAlignedBoundingBox(e.bbox,gt(t));const o=[0,0,t.canvas.width,t.canvas.height];s=Ee.intersect(s,o)||[0,0,0,0];const u=Math.floor(s[0]),d=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-u,1),p=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),w=v.context;w.translate(-u,-d),w.transform(...i),e.smask?this.smaskStack.push({canvas:v.canvas,context:w,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(u,d),t.save()),_c(t,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=gt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Ee.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,s,o){if(_(this,ho,yy).call(this),np(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const u=t[2]-t[0],d=t[3]-t[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=u,t[3]=d;const[f,p]=Ee.singularValueDecompose2dScale(gt(this.ctx)),{viewportScale:g}=this,v=Math.ceil(u*this.outputScaleX*g),w=Math.ceil(d*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(v,w);const{canvas:E,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(e,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,d*p),np(this.ctx)}else np(this.ctx),this.ctx.rect(t[0],t[1],u,d),this.ctx.clip(),this.endPath()}this.current=new HE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,ho,wy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=PR(e)),s.compiled)){s.compiled(i);return}const o=this._createMaskCanvas(e),u=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(u,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,o,u){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const f=gt(d);d.transform(t,i,s,o,0,0);const p=this._createMaskCanvas(e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,v=u.length;g<v;g+=2){const w=Ee.transform(f,[t,i,s,o,u[g],u[g+1]]),[E,A]=Ee.applyTransform([0,0],w);d.drawImage(p.canvas,E,A)}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:u,width:d,height:f,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=g.context;v.save();const w=this.getObject(u,o);$E(v,w),v.globalCompositeOperation="source-in",v.fillStyle=s?i.getPattern(v,this,Rr(t),gn.FILL):i,v.fillRect(0,0,d,f),v.restore(),t.save(),t.transform(...p),t.scale(1,-1),tp(t,g.canvas,0,0,d,f,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Be("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Be("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let p=0,g=s.length;p<g;p+=2)f.push({transform:[t,0,0,i,s[p],s[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",i,s),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(t,0,0),u.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;if(this.save(),!un){const{filter:d}=s;d!=="none"&&d!==""&&(s.filter="none")}s.scale(1/t,-1/i);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,i).context;UE(f,e),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,Rr(s));s.imageSmoothingEnabled=VE(gt(s),e.interpolate),tp(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;UE(f,e),s=this.applyTransferMapsToCanvas(f)}for(const o of t)i.save(),i.transform(...o.transform),i.scale(1,-1),tp(i,s,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===WE?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:o}=this.ctx.getTransform();let u,d;if(i===0&&s===0){const f=Math.abs(t),p=Math.abs(o);if(f===p)if(e===0)u=d=1/f;else{const g=f*e;u=d=g<1?1/g:1}else if(e===0)u=1/f,d=1/p;else{const g=f*e,v=p*e;u=g<1?1/g:1,d=v<1?1/v:1}}else{const f=Math.abs(t*o-i*s),p=Math.hypot(t,i),g=Math.hypot(s,o);if(e===0)u=g/f,d=p/f;else{const v=e*f;u=g>v?g/v:1,d=p>v?p/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&o===1){t.stroke();return}const u=t.getLineDash();if(e&&t.save(),t.scale(s,o),u.length>0){const d=Math.max(s,o);t.setLineDash(u.map(f=>f/d)),t.lineDashOffset/=d}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ho=new WeakSet,yy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},wy=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Cl=T0;for(const l in Ti)Cl.prototype[l]!==void 0&&(Cl.prototype[Ti[l]]=Cl.prototype[l]);var bd,_d;class ss{static get workerPort(){return c(this,bd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,bd,e)}static get workerSrc(){return c(this,_d)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,_d,e)}}bd=new WeakMap,_d=new WeakMap,T(ss,bd,null),T(ss,_d,"");const ip={DATA:1,ERROR:2},xt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $n(l){switch(l instanceof Error||typeof l=="object"&&l!==null||tt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new Ua(l.message);case"MissingPDFException":return new Ha(l.message);case"PasswordException":return new Wv(l.message,l.code);case"UnexpectedResponseException":return new bg(l.message,l.status);case"UnknownErrorException":return new Gv(l.message,l.details);default:return new Gv(l.message,l.toString())}}var hr,Cb,Tb,yp;class Dc{constructor(e,t,i){T(this,hr);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const o=s.data;if(o.targetName!==this.sourceName)return;if(o.stream){_(this,hr,Tb).call(this,o);return}if(o.callback){const d=o.callbackId,f=this.callbackCapabilities[d];if(!f)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],o.callback===ip.DATA)f.resolve(o.data);else if(o.callback===ip.ERROR)f.reject($n(o.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[o.action];if(!u)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const d=this.sourceName,f=o.sourceName;new Promise(function(p){p(u(o.data))}).then(function(p){i.postMessage({sourceName:d,targetName:f,callback:ip.DATA,callbackId:o.callbackId,data:p})},function(p){i.postMessage({sourceName:d,targetName:f,callback:ip.ERROR,callbackId:o.callbackId,reason:$n(p)})});return}if(o.streamId){_(this,hr,Cb).call(this,o);return}u(o.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(u){o.reject(u)}return o.promise}sendWithStream(e,t,i,s){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:e,streamId:o,data:t,desiredSize:p.desiredSize},s),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,f.postMessage({sourceName:u,targetName:d,stream:xt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ot(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:xt.CANCEL,streamId:o,reason:$n(p)}),g.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}hr=new WeakSet,Cb=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,u=this,d=this.actionHandler[e.action],f={enqueue(p,g=1,v){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=g,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:s,stream:xt.ENQUEUE,streamId:t,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:xt.CLOSE,streamId:t}),delete u.streamSinks[t])},error(p){Ot(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:xt.ERROR,streamId:t,reason:$n(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[t]=f,new Promise(function(p){p(d(e.data,f))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:xt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:i,targetName:s,stream:xt.START_COMPLETE,streamId:t,reason:$n(p)})})},Tb=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,u=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case xt.START_COMPLETE:e.success?u.startCall.resolve():u.startCall.reject($n(e.reason));break;case xt.PULL_COMPLETE:e.success?u.pullCall.resolve():u.pullCall.reject($n(e.reason));break;case xt.PULL:if(!d){o.postMessage({sourceName:i,targetName:s,stream:xt.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=d.onPull)==null?void 0:p.call(d))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:xt.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:i,targetName:s,stream:xt.PULL_COMPLETE,streamId:t,reason:$n(f)})});break;case xt.ENQUEUE:if(Ot(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(e.chunk);break;case xt.CLOSE:if(Ot(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),_(this,hr,yp).call(this,u,t);break;case xt.ERROR:Ot(u,"error should have stream controller"),u.controller.error($n(e.reason)),_(this,hr,yp).call(this,u,t);break;case xt.CANCEL_COMPLETE:e.success?u.cancelCall.resolve():u.cancelCall.reject($n(e.reason)),_(this,hr,yp).call(this,u,t);break;case xt.CANCEL:if(!d)break;new Promise(function(f){var p;f((p=d.onCancel)==null?void 0:p.call(d,$n(e.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:i,targetName:s,stream:xt.CANCEL_COMPLETE,streamId:t,reason:$n(f)})}),d.sinkCapability.reject($n(e.reason)),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},yp=async function(e,t){var i,s,o;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var ea,xd;class IR{constructor({parsedData:e,rawData:t}){T(this,ea);T(this,xd);b(this,ea,e),b(this,xd,t)}getRaw(){return c(this,xd)}get(e){return c(this,ea).get(e)??null}getAll(){return p0(c(this,ea))}has(e){return c(this,ea).has(e)}}ea=new WeakMap,xd=new WeakMap;const js=Symbol("INTERNAL");var Cd,Td,kd,$l;class OR{constructor(e,{name:t,intent:i,usage:s}){T(this,Cd,!1);T(this,Td,!1);T(this,kd,!1);T(this,$l,!0);b(this,Cd,!!(e&gi.DISPLAY)),b(this,Td,!!(e&gi.PRINT)),this.name=t,this.intent=i,this.usage=s}get visible(){if(c(this,kd))return c(this,$l);if(!c(this,$l))return!1;const{print:e,view:t}=this.usage;return c(this,Cd)?(t==null?void 0:t.viewState)!=="OFF":c(this,Td)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==js&&tt("Internal method `_setVisible` called."),b(this,kd,i),b(this,$l,t)}}Cd=new WeakMap,Td=new WeakMap,kd=new WeakMap,$l=new WeakMap;var Gs,et,Vl,Wl,Rd,Ay;class FR{constructor(e,t=gi.DISPLAY){T(this,Rd);T(this,Gs,null);T(this,et,new Map);T(this,Vl,null);T(this,Wl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Wl,e.order);for(const i of e.groups)c(this,et).set(i.id,new OR(t,i));if(e.baseState==="OFF")for(const i of c(this,et).values())i._setVisible(js,!1);for(const i of e.on)c(this,et).get(i)._setVisible(js,!0);for(const i of e.off)c(this,et).get(i)._setVisible(js,!1);b(this,Vl,this.getHash())}}isVisible(e){if(c(this,et).size===0)return!0;if(!e)return Sg("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,et).has(e.id)?c(this,et).get(e.id).visible:(Be(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Rd,Ay).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,et).has(t))return Be(`Optional content group not found: ${t}`),!0;if(c(this,et).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,et).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!c(this,et).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,et).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!c(this,et).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,et).has(t))return Be(`Optional content group not found: ${t}`),!0;if(c(this,et).get(t).visible)return!1}return!0}return Be(`Unknown optional content policy ${e.policy}.`),!0}return Be(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,et).get(e);if(!i){Be(`Optional content group not found: ${e}`);return}i._setVisible(js,!!t,!0),b(this,Gs,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const o=c(this,et).get(s);if(o)switch(i){case"ON":o._setVisible(js,!0);break;case"OFF":o._setVisible(js,!1);break;case"Toggle":o._setVisible(js,!o.visible);break}}b(this,Gs,null)}get hasInitialVisibility(){return c(this,Vl)===null||this.getHash()===c(this,Vl)}getOrder(){return c(this,et).size?c(this,Wl)?c(this,Wl).slice():[...c(this,et).keys()]:null}getGroups(){return c(this,et).size>0?p0(c(this,et)):null}getGroup(e){return c(this,et).get(e)||null}getHash(){if(c(this,Gs)!==null)return c(this,Gs);const e=new Sb;for(const[t,i]of c(this,et))e.update(`${t}:${i.visible}`);return b(this,Gs,e.hexdigest())}}Gs=new WeakMap,et=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Rd=new WeakSet,Ay=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const o=e[s];let u;if(Array.isArray(o))u=_(this,Rd,Ay).call(this,o);else if(c(this,et).has(o))u=c(this,et).get(o).visible;else return Be(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return i==="And"};class NR{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ot(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:u,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(i),!0)});Ot(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,o;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new jR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new BR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class jR{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=w0(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class BR{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zR(l){let e=!0,t=i("filename\\*","i").exec(l);if(t){t=t[1];let g=d(t);return g=unescape(g),g=f(g),g=p(g),o(g)}if(t=u(l),t){const g=p(t);return o(g)}if(t=i("filename","i").exec(l),t){t=t[1];let g=d(t);return g=p(g),o(g)}function i(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function s(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const w=new TextDecoder(g,{fatal:!0}),E=_g(v);v=w.decode(E),e=!1}catch{}}return v}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=s("utf-8",g),e&&(g=s("iso-8859-1",g))),g}function u(g){const v=[];let w;const E=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=E.exec(g))!==null;){let[,x,C,k]=w;if(x=parseInt(x,10),x in v){if(x===0)break;continue}v[x]=[C,k]}const A=[];for(let x=0;x<v.length&&x in v;++x){let[C,k]=v[x];k=d(k),C&&(k=unescape(k),x===0&&(k=f(k))),A.push(k)}return A.join("")}function d(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let w=0;w<v.length;++w){const E=v[w].indexOf('"');E!==-1&&(v[w]=v[w].slice(0,E),v.length=w+1),v[w]=v[w].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function f(g){const v=g.indexOf("'");if(v===-1)return g;const w=g.slice(0,v),A=g.slice(v+1).replace(/^[^']*'/,"");return s(w,A)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,w,E,A){if(E==="q"||E==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,C){return String.fromCharCode(parseInt(C,16))}),s(w,A);try{A=atob(A)}catch{}return s(w,A)})}return""}function S0({getResponseHeader:l,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||i||!e||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function b0(l){const e=l("Content-Disposition");if(e){let t=zR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(w0(t))return t}return null}function Rg(l,e){return l===404||l===0&&e.startsWith("file:")?new Ha('Missing PDF "'+e+'".'):new bg(`Unexpected server response (${l}) while retrieving PDF "${e}".`,l)}function kb(l){return l===200||l===206}function Rb(l,e,t){return{method:"GET",headers:l,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Pb(l){const e=new Headers;for(const t in l){const i=l[t];i!==void 0&&e.append(t,i)}return e}function Lb(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(Be(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class GE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new HR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new UR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class HR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Pb(this._stream.httpHeaders);const i=t.url;fetch(i,Rb(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!kb(s.status))throw Rg(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=f=>s.headers.get(f),{allowRangeRequests:u,suggestedLength:d}=S0({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=b0(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ua("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Lb(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class UR{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=Pb(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const o=s.url;fetch(o,Rb(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!kb(u.status))throw Rg(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Lb(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Iv=200,Ov=206;function $R(l){const e=l.response;return typeof e!="string"?e:_g(e).buffer}class VR{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const s={begin:e,end:t};for(const o in i)s[o]=i[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const u=this.httpHeaders[o];u!==void 0&&t.setRequestHeader(o,u)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Ov):s.expectedStatus=Iv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){var f,p,g;const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,s.status);return}const o=s.status||Iv;if(!(o===Iv&&i.expectedStatus===Ov)&&o!==i.expectedStatus){(p=i.onError)==null||p.call(i,s.status);return}const d=$R(s);if(o===Ov){const v=s.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);i.onDone({begin:parseInt(w[1],10),chunk:d})}else d?i.onDone({begin:0,chunk:d}):(g=i.onError)==null||g.call(i,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class WR{constructor(e){this._source=e,this._manager=new VR(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new GR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new qR(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class GR{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=u=>t.getResponseHeader(u),{allowRangeRequests:s,suggestedLength:o}=S0({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=b0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Rg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qR{constructor(e,t,i){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Rg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Mb=/^file:\/\/\/[a-zA-Z]:\//;function XR(l){const e=pr.get("url"),t=e.parse(l);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(l)?e.parse(`file:///${l}`):(t.host||(t.protocol="file:"),t)}class KR{constructor(e){this.source=e,this.url=XR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new JR(this):new YR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new ZR(this,e,t):new QR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Db{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ua("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ib{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Vp(l,e){return{protocol:l.protocol,auth:l.auth,host:l.hostname,port:l.port,path:l.path,method:"GET",headers:e}}class YR extends Db{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const d=new Ha(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=d=>this._readableStream.headers[d.toLowerCase()],{allowRangeRequests:o,suggestedLength:u}=S0({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=b0(s)};if(this._request=null,this._url.protocol==="http:"){const i=pr.get("http");this._request=i.request(Vp(this._url,e.httpHeaders),t)}else{const i=pr.get("https");this._request=i.request(Vp(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class QR extends Ib{constructor(e,t,i){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const u=e.httpHeaders[o];u!==void 0&&(this._httpHeaders[o]=u)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const s=o=>{if(o.statusCode===404){const u=new Ha(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=pr.get("http");this._request=o.request(Vp(this._url,this._httpHeaders),s)}else{const o=pr.get("https");this._request=o.request(Vp(this._url,this._httpHeaders),s)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class JR extends Db{constructor(e){super(e);let t=decodeURIComponent(this._url.path);Mb.test(this._url.href)&&(t=t.replace(/^\//,""));const i=pr.get("fs");i.promises.lstat(t).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Ha(`Missing PDF "${t}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class ZR extends Ib{constructor(e,t,i){super(e);let s=decodeURIComponent(this._url.path);Mb.test(this._url.href)&&(s=s.replace(/^\//,""));const o=pr.get("fs");this._setReadableStream(o.createReadStream(s,{start:t,end:i-1}))}}const eP=1e5,_n=30,tP=.8;var uS,qs,Cn,Pd,Ld,ta,$r,Md,Dd,na,Gl,ql,Xs,Xl,Id,Kl,ia,Od,Fd,It,ra,sa,Ks,Yl,us,Ob,Fb,Ey,fr,wp,Nb,jb;let Wp=(It=class{constructor({textContentSource:e,container:t,viewport:i}){T(this,us);T(this,qs,Promise.withResolvers());T(this,Cn,null);T(this,Pd,!1);T(this,Ld,!!((uS=globalThis.FontInspector)!=null&&uS.enabled));T(this,ta,null);T(this,$r,null);T(this,Md,0);T(this,Dd,0);T(this,na,null);T(this,Gl,null);T(this,ql,0);T(this,Xs,0);T(this,Xl,Object.create(null));T(this,Id,[]);T(this,Kl,null);T(this,ia,[]);T(this,Od,new WeakMap);T(this,Fd,null);var f;if(e instanceof ReadableStream)b(this,Kl,e);else if(typeof e=="object")b(this,Kl,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Cn,b(this,Gl,t)),b(this,Xs,i.scale*(globalThis.devicePixelRatio||1)),b(this,ql,i.rotation),b(this,$r,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:u,pageY:d}=i.rawDims;b(this,Fd,[1,0,0,-1,-u,d+o]),b(this,Dd,s),b(this,Md,o),_(f=It,fr,Nb).call(f),Oa(t,i),c(this,qs).promise.catch(()=>{}).then(()=>{c(It,Yl).delete(this),b(this,$r,null),b(this,Xl,null)})}render(){const e=()=>{c(this,na).read().then(({value:t,done:i})=>{if(i){c(this,qs).resolve();return}c(this,ta)??b(this,ta,t.lang),Object.assign(c(this,Xl),t.styles),_(this,us,Ob).call(this,t.items),e()},c(this,qs).reject)};return b(this,na,c(this,Kl).getReader()),c(It,Yl).add(this),e(),c(this,qs).promise}update({viewport:e,onBefore:t=null}){var o;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==c(this,ql)&&(t==null||t(),b(this,ql,s),Oa(c(this,Gl),{rotation:s})),i!==c(this,Xs)){t==null||t(),b(this,Xs,i);const u={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(o=It,fr,wp).call(o,c(this,ta))};for(const d of c(this,ia))u.properties=c(this,Od).get(d),u.div=d,_(this,us,Ey).call(this,u)}}cancel(){var t;const e=new Ua("TextLayer task cancelled.");(t=c(this,na))==null||t.cancel(e).catch(()=>{}),b(this,na,null),c(this,qs).reject(e)}get textDivs(){return c(this,ia)}get textContentItemsStr(){return c(this,Id)}static cleanup(){if(!(c(this,Yl).size>0)){c(this,ra).clear();for(const{canvas:e}of c(this,sa).values())e.remove();c(this,sa).clear()}}},qs=new WeakMap,Cn=new WeakMap,Pd=new WeakMap,Ld=new WeakMap,ta=new WeakMap,$r=new WeakMap,Md=new WeakMap,Dd=new WeakMap,na=new WeakMap,Gl=new WeakMap,ql=new WeakMap,Xs=new WeakMap,Xl=new WeakMap,Id=new WeakMap,Kl=new WeakMap,ia=new WeakMap,Od=new WeakMap,Fd=new WeakMap,ra=new WeakMap,sa=new WeakMap,Ks=new WeakMap,Yl=new WeakMap,us=new WeakSet,Ob=function(e){var s,o;if(c(this,Pd))return;(o=c(this,$r)).ctx??(o.ctx=_(s=It,fr,wp).call(s,c(this,ta)));const t=c(this,ia),i=c(this,Id);for(const u of e){if(t.length>eP){Be("Ignoring additional textDivs for performance reasons."),b(this,Pd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=c(this,Cn);b(this,Cn,document.createElement("span")),c(this,Cn).classList.add("markedContent"),u.id!==null&&c(this,Cn).setAttribute("id",`${u.id}`),d.append(c(this,Cn))}else u.type==="endMarkedContent"&&b(this,Cn,c(this,Cn).parentNode);continue}i.push(u.str),_(this,us,Fb).call(this,u)}},Fb=function(e){var x;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,ia).push(t);const s=Ee.transform(c(this,Fd),e.transform);let o=Math.atan2(s[1],s[0]);const u=c(this,Xl)[e.fontName];u.vertical&&(o+=Math.PI/2);const d=c(this,Ld)&&u.fontSubstitution||u.fontFamily,f=Math.hypot(s[2],s[3]),p=f*_(x=It,fr,jb).call(x,d,c(this,ta));let g,v;o===0?(g=s[4],v=s[5]-p):(g=s[4]+p*Math.sin(o),v=s[5]-p*Math.cos(o));const w="calc(var(--scale-factor)*",E=t.style;c(this,Cn)===c(this,Gl)?(E.left=`${(100*g/c(this,Dd)).toFixed(2)}%`,E.top=`${(100*v/c(this,Md)).toFixed(2)}%`):(E.left=`${w}${g.toFixed(2)}px)`,E.top=`${w}${v.toFixed(2)}px)`),E.fontSize=`${w}${(c(It,Ks)*f).toFixed(2)}px)`,E.fontFamily=d,i.fontSize=f,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Ld)&&(t.dataset.fontName=u.fontSubstitutionLoadedName||e.fontName),o!==0&&(i.angle=o*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);C!==k&&Math.max(C,k)/Math.min(C,k)>1.5&&(A=!0)}if(A&&(i.canvasWidth=u.vertical?e.height:e.width),c(this,Od).set(t,i),c(this,$r).div=t,c(this,$r).properties=i,_(this,us,Ey).call(this,c(this,$r)),i.hasText&&c(this,Cn).append(t),i.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),c(this,Cn).append(C)}},Ey=function(e){const{div:t,properties:i,ctx:s,prevFontSize:o,prevFontFamily:u}=e,{style:d}=t;let f="";if(c(It,Ks)>1&&(f=`scale(${1/c(It,Ks)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:p}=d,{canvasWidth:g,fontSize:v}=i;(o!==v||u!==p)&&(s.font=`${v*c(this,Xs)}px ${p}`,e.prevFontSize=v,e.prevFontFamily=p);const{width:w}=s.measureText(t.textContent);w>0&&(f=`scaleX(${g*c(this,Xs)/w}) ${f}`)}i.angle!==0&&(f=`rotate(${i.angle}deg) ${f}`),f.length>0&&(d.transform=f)},fr=new WeakSet,wp=function(e=null){let t=c(this,sa).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,sa).set(e,t)}return t},Nb=function(){if(c(this,Ks)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),b(this,Ks,e.getBoundingClientRect().height),e.remove()},jb=function(e,t){const i=c(this,ra).get(e);if(i)return i;const s=_(this,fr,wp).call(this,t),o=s.font;s.canvas.width=s.canvas.height=_n,s.font=`${_n}px ${e}`;const u=s.measureText("");let d=u.fontBoundingBoxAscent,f=Math.abs(u.fontBoundingBoxDescent);if(d){const v=d/(d+f);return c(this,ra).set(e,v),s.canvas.width=s.canvas.height=0,s.font=o,v}s.strokeStyle="red",s.clearRect(0,0,_n,_n),s.strokeText("g",0,0);let p=s.getImageData(0,0,_n,_n).data;f=0;for(let v=p.length-1-3;v>=0;v-=4)if(p[v]>0){f=Math.ceil(v/4/_n);break}s.clearRect(0,0,_n,_n),s.strokeText("A",0,_n),p=s.getImageData(0,0,_n,_n).data,d=0;for(let v=0,w=p.length;v<w;v+=4)if(p[v]>0){d=_n-Math.floor(v/4/_n);break}s.canvas.width=s.canvas.height=0,s.font=o;const g=d?d/(d+f):tP;return c(this,ra).set(e,g),g},T(It,fr),T(It,ra,new Map),T(It,sa,new Map),T(It,Ks,null),T(It,Yl,new Set),It);function nP(){YS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:l,container:e,viewport:t,...i}=arguments[0],s=Object.keys(i);s.length>0&&Be("Ignoring `renderTextLayer` parameters: "+s.join(", "));const o=new Wp({textContentSource:l,container:e,viewport:t}),{textDivs:u,textContentItemsStr:d}=o;return{promise:o.render(),textDivs:u,textContentItemsStr:d}}function iP(){YS("`updateTextLayer`, please use `TextLayer` instead.")}class qc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(qc.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&t.push({str:u}),!!o.children)for(const p of o.children)s(p)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const rP=65536,sP=100,oP=5e3,aP=un?yR:sR,lP=un?wR:XS,uP=un?vR:rR,cP=un?AR:KS;function dP(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const e=new Sy,{docId:t}=e,i=l.url?hP(l.url):null,s=l.data?fP(l.data):null,o=l.httpHeaders||null,u=l.withCredentials===!0,d=l.password??null,f=l.range instanceof Bb?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:rP;let g=l.worker instanceof Tl?l.worker:null;const v=l.verbosity,w=typeof l.docBaseUrl=="string"&&!y0(l.docBaseUrl)?l.docBaseUrl:null,E=typeof l.cMapUrl=="string"?l.cMapUrl:null,A=l.cMapPacked!==!1,x=l.CMapReaderFactory||lP,C=typeof l.standardFontDataUrl=="string"?l.standardFontDataUrl:null,k=l.StandardFontDataFactory||cP,L=l.stopAtErrors!==!0,I=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,O=l.isEvalSupported!==!1,F=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!un,B=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,q=typeof l.disableFontFace=="boolean"?l.disableFontFace:un,K=l.fontExtraProperties===!0,X=l.enableXfa===!0,Z=l.ownerDocument||globalThis.document,re=l.disableRange===!0,Se=l.disableStream===!0,he=l.disableAutoFetch===!0,ae=l.pdfBug===!0,ne=l.enableHWA===!0,te=f?f.length:l.length??NaN,Q=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!un&&!q,W=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:x===XS&&k===KS&&E&&C&&Pc(E,document.baseURI)&&Pc(C,document.baseURI),le=l.canvasFactory||new aP({ownerDocument:Z,enableHWA:ne}),se=l.filterFactory||new uP({docId:t,ownerDocument:Z}),P=null;qk(v);const z={canvasFactory:le,filterFactory:se};if(W||(z.cMapReaderFactory=new x({baseUrl:E,isCompressed:A}),z.standardFontDataFactory=new k({baseUrl:C})),!g){const ye={verbosity:v,port:ss.workerPort};g=ye.port?Tl.fromPort(ye):new Tl(ye),e._worker=g}const oe={docId:t,apiVersion:"4.4.168",data:s,password:d,disableAutoFetch:he,rangeChunkSize:p,length:te,docBaseUrl:w,enableXfa:X,evaluatorOptions:{maxImageSize:I,disableFontFace:q,ignoreErrors:L,isEvalSupported:O,isOffscreenCanvasSupported:F,canvasMaxAreaInBytes:B,fontExtraProperties:K,useSystemFonts:Q,cMapUrl:W?E:null,standardFontDataUrl:W?C:null}},pe={disableFontFace:q,fontExtraProperties:K,ownerDocument:Z,pdfBug:ae,styleElement:P,loadingParams:{disableAutoFetch:he,enableXfa:X}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ye=g.messageHandler.sendWithPromise("GetDocRequest",oe,s?[s.buffer]:null);let ke;if(f)ke=new NR(f,{disableRange:re,disableStream:Se});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");ke=(Re=>un?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Pc(Re.url)?new GE(Re):new KR(Re):Pc(Re.url)?new GE(Re):new WR(Re))({url:i,length:te,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:re,disableStream:Se})}return ye.then(be=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Re=new Dc(t,be,g.port),Ne=new vP(Re,e,ke,pe,z);e._transport=Ne,Re.send("Ready",null)})}).catch(e._capability.reject),e}function hP(l){if(l instanceof URL)return l.href;try{return new URL(l,window.location).href}catch{if(un&&typeof l=="string")return l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fP(l){if(un&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return _g(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l==null?void 0:l.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qE(l){return typeof l=="object"&&Number.isInteger(l==null?void 0:l.num)&&l.num>=0&&Number.isInteger(l==null?void 0:l.gen)&&l.gen>=0}var og;const ag=class ag{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Un(ag,og)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};og=new WeakMap,T(ag,og,0);let Sy=ag,Bb=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){tt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class pP{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ge(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ys,Vr,mi,Al,Ap;class gP{constructor(e,t,i,s=!1){T(this,mi);T(this,Ys,null);T(this,Vr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new DE:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new zb,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}={}){return new Mh({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ge(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=zs.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null}){var I,O;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(i,s,g),{renderingIntent:w,cacheKey:E}=v;b(this,Vr,!1),_(this,mi,Ap).call(this),d||(d=this._transport.getOptionalContentConfig(w));let A=this._intentStates.get(E);A||(A=Object.create(null),this._intentStates.set(E,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const x=!!(w&gi.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(v));const C=F=>{var B;A.renderTasks.delete(k),(this._maybeCleanupAfterRender||x)&&b(this,Vr,!0),_(this,mi,Al).call(this,!x),F?(k.capability.reject(F),this._abortOperatorList({intentState:A,reason:F instanceof Error?F:new Error(F)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new _y({callback:C,params:{canvasContext:e,viewport:t,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:p});(A.renderTasks||(A.renderTasks=new Set)).add(k);const L=k.task;return Promise.all([A.displayReadyCapability.promise,d]).then(([F,B])=>{var q;if(this.destroyed){C();return}if((q=this._stats)==null||q.time("Rendering"),!(B.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:F,optionalContentConfig:B}),k.operatorListChanged()}).catch(C),L}getOperatorList({intent:e="display",annotationMode:t=zs.ENABLE,printAnnotationStorage:i=null}={}){var f;function s(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const o=this._transport.getRenderingIntent(e,t,i,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>qc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function o(){u.read().then(function({value:f,done:p}){if(p){i(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},s)}const u=t.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),b(this,Vr,!1),_(this,mi,Ap).call(this),Promise.all(e)}cleanup(e=!1){b(this,Vr,!0);const t=_(this,mi,Al).call(this,!1);return e&&t&&this._stats&&(this._stats=new DE),t}_startRenderPage(e,t){var s,o;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&_(this,mi,Al).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:s,transfer:o}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s},o).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();_(this,mi,Al).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof v0){let s=sP;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Ua(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Ys=new WeakMap,Vr=new WeakMap,mi=new WeakSet,Al=function(e=!1){if(_(this,mi,Ap).call(this),!c(this,Vr)||this.destroyed)return!1;if(e)return b(this,Ys,setTimeout(()=>{b(this,Ys,null),_(this,mi,Al).call(this,!1)},oP)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Vr,!1),!0},Ap=function(){c(this,Ys)&&(clearTimeout(c(this,Ys)),b(this,Ys,null))};var oa,lg;class mP{constructor(){T(this,oa,new Set);T(this,lg,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,lg).then(()=>{for(const s of c(this,oa))s.call(this,i)})}addEventListener(e,t){c(this,oa).add(t)}removeEventListener(e,t){c(this,oa).delete(t)}terminate(){c(this,oa).clear()}}oa=new WeakMap,lg=new WeakMap;const Ir={isWorkerDisabled:!1,fakeWorkerId:0};un&&(Ir.isWorkerDisabled=!0,ss.workerSrc||(ss.workerSrc="./pdf.worker.mjs")),Ir.isSameOrigin=function(l,e){let t;try{if(t=new URL(l),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},Ir.createCDNWrapper=function(l){const e=`await import("${l}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var aa,Ql,Ep,Jl,Sp;const Vn=class Vn{constructor({name:e=null,port:t=null,verbosity:i=Xk()}={}){T(this,Ql);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=c(Vn,aa))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(Vn,aa)||b(Vn,aa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return un?Promise.all([pr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Dc("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,Ql,Ep).call(this)}_initialize(){if(Ir.isWorkerDisabled||c(Vn,Jl,Sp)){this._setupFakeWorker();return}let{workerSrc:e}=Vn;try{Ir.isSameOrigin(window.location.href,e)||(e=Ir.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Dc("main","worker",t),s=()=>{o.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),i.on("test",d=>{if(o.abort(),this.destroyed||!d){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,_(this,Ql,Ep).call(this)}),i.on("ready",d=>{if(o.abort(),this.destroyed){s();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;i.send("test",d,[d.buffer])};u();return}catch{Sg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ir.isWorkerDisabled||(Be("Setting up fake worker."),Ir.isWorkerDisabled=!0),Vn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new mP;this._port=t;const i=`fake${Ir.fakeWorkerId++}`,s=new Dc(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new Dc(i,i+"_worker",t),_(this,Ql,Ep).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Vn,aa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,aa))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Vn(e)}static get workerSrc(){if(ss.workerSrc)return ss.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ge(this,"_setupFakeWorkerGlobal",(async()=>c(this,Jl,Sp)?c(this,Jl,Sp):(await import(this.workerSrc)).WorkerMessageHandler)())}};aa=new WeakMap,Ql=new WeakSet,Ep=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Jl=new WeakSet,Sp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(Vn,Jl),T(Vn,aa);let Tl=Vn;var Wr,nr,Zl,eu,ir,la,Ic;class vP{constructor(e,t,i,s,o){T(this,la);T(this,Wr,new Map);T(this,nr,new Map);T(this,Zl,new Map);T(this,eu,new Map);T(this,ir,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new zb,this.fontLoader=new gR({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ge(this,"annotationStorage",new E0)}getRenderingIntent(e,t=zs.ENABLE,i=null,s=!1){let o=gi.DISPLAY,u=py;switch(e){case"any":o=gi.ANY;break;case"display":break;case"print":o=gi.PRINT;break;default:Be(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case zs.DISABLE:o+=gi.ANNOTATIONS_DISABLE;break;case zs.ENABLE:break;case zs.ENABLE_FORMS:o+=gi.ANNOTATIONS_FORMS;break;case zs.ENABLE_STORAGE:o+=gi.ANNOTATIONS_STORAGE,u=(o&gi.PRINT&&i instanceof _b?i:this.annotationStorage).serializable;break;default:Be(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(o+=gi.OPLIST),{renderingIntent:o,cacheKey:`${o}_${u.hash}`,annotationStorageSerializable:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,ir))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of c(this,nr).values())e.push(s._destroy());c(this,nr).clear(),c(this,Zl).clear(),c(this,eu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Wr).clear(),this.filterFactory.destroy(),Wp.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Ua("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{Ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){s.close();return}Ot(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("ReaderHeadersReady",i=>{const s=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var u;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),o.onProgress=d=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:d.loaded,total:d.total})}),s.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(i,s)=>{Ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){s.close();return}Ot(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{s.error(u)})},s.onCancel=u=>{o.cancel(u),s.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new pP(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new Wv(i.message,i.code);break;case"InvalidPDFException":s=new VS(i.message);break;case"MissingPDFException":s=new Ha(i.message);break;case"UnexpectedResponseException":s=new bg(i.message,i.status);break;case"UnknownErrorException":s=new Gv(i.message,i.details);break;default:tt("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(b(this,ir,Promise.withResolvers()),t.onPassword){const s=o=>{o instanceof Error?c(this,ir).reject(o):c(this,ir).resolve({password:o})};try{t.onPassword(s,i.code)}catch(o){c(this,ir).reject(o)}}else c(this,ir).reject(new Wv(i.message,i.code));return c(this,ir).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,nr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,o])=>{var u;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const E=o.error;Be(`Error during font loading: ${E}`),this.commonObjs.resolve(i,E);break}const g=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(E,A)=>globalThis.FontInspector.fontAdded(E,A):null,v=new mR(o,{disableFontFace:d,inspectFont:g});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(i,v)});break;case"CopyLocalImage":const{imageRef:w}=o;Ot(w,"The imageRef must be defined.");for(const E of c(this,nr).values())for(const[,A]of E.objs)if((A==null?void 0:A.ref)===w)return A.dataLen?(this.commonObjs.resolve(i,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,o,u])=>{var f;if(this.destroyed)return;const d=c(this,nr).get(s);if(!d.objs.has(i)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(i,u),(u==null?void 0:u.dataLen)>$k&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(i,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Be("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,Zl).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,eu).set(o.refStr,e);const u=new gP(t,o,this,this._params.pdfBug);return c(this,nr).set(t,u),u});return c(this,Zl).set(t,s),s}getPageIndex(e){return qE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,la,Ic).call(this,"GetFieldObjects")}hasJSActions(){return _(this,la,Ic).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,la,Ic).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,la,Ic).call(this,"GetOptionalContentConfig").then(t=>new FR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Wr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,u;return{info:s[0],metadata:s[1]?new IR(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return c(this,Wr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,nr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Wr).clear(),this.filterFactory.destroy(!0),Wp.cleanup()}}cachedPageNumber(e){if(!qE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,eu).get(t)??null}}Wr=new WeakMap,nr=new WeakMap,Zl=new WeakMap,eu=new WeakMap,ir=new WeakMap,la=new WeakSet,Ic=function(e,t=null){const i=c(this,Wr).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return c(this,Wr).set(e,s),s};const rp=Symbol("INITIAL_DATA");var Di,Nd,by;class zb{constructor(){T(this,Nd);T(this,Di,Object.create(null))}get(e,t=null){if(t){const s=_(this,Nd,by).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=c(this,Di)[e];if(!i||i.data===rp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,Di)[e];return!!t&&t.data!==rp}resolve(e,t=null){const i=_(this,Nd,by).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,Di)){const{data:i}=c(this,Di)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}b(this,Di,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Di)){const{data:t}=c(this,Di)[e];t!==rp&&(yield[e,t])}}}Di=new WeakMap,Nd=new WeakSet,by=function(e){var t;return(t=c(this,Di))[e]||(t[e]={...Promise.withResolvers(),data:rp})};var Qs;class yP{constructor(e){T(this,Qs,null);b(this,Qs,e),this.onContinue=null}get promise(){return c(this,Qs).capability.promise}cancel(e=0){c(this,Qs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Qs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Qs);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Qs=new WeakMap;var Js,ua;const Oo=class Oo{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:w=null}){T(this,Js,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new yP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var d,f;if(this.cancelled)return;if(this._canvas){if(c(Oo,ua).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Oo,ua).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:o,background:u}=this.params;this.gfx=new Cl(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(this,Js)&&(window.cancelAnimationFrame(c(this,Js)),b(this,Js,null)),c(Oo,ua).delete(this._canvas),this.callback(e||new v0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Js,window.requestAnimationFrame(()=>{b(this,Js,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Oo,ua).delete(this._canvas),this.callback())))}};Js=new WeakMap,ua=new WeakMap,T(Oo,ua,new WeakSet);let _y=Oo;const wP="4.4.168",AP="19fbc8998";function XE(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function xc(l){return Math.max(0,Math.min(255,255*l))}class KE{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=xc(e),[e,e,e]}static G_HTML([e]){const t=XE(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(xc)}static RGB_HTML(e){return`#${e.map(XE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[xc(1-Math.min(1,e+s)),xc(1-Math.min(1,i+s)),xc(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,o=1-t,u=1-i,d=Math.min(s,o,u);return["CMYK",s,o,u,d]}}class Hb{static setupStorage(e,t,i,s,o){const u=s.getValue(t,{value:null});switch(i.name){case"textarea":if(u.value!==null&&(e.textContent=u.value),o==="print")break;e.addEventListener("input",d=>{s.setValue(t,{value:d.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(u.value===i.attributes.xfaOn?e.setAttribute("checked",!0):u.value===i.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",d=>{s.setValue(t,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&e.setAttribute("value",u.value),o==="print")break;e.addEventListener("input",d=>{s.setValue(t,{value:d.target.value})})}break;case"select":if(u.value!==null){e.setAttribute("value",u.value);for(const d of i.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const f=d.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;s.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:o}){const{attributes:u}=t,d=e instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${s}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!d||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}d&&o.addLinkAttributes(e,u.href,u.newWindow),i&&u.dataId&&this.setupStorage(e,u.dataId,t,i)}static render(e){var v,w;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,o=e.intent||"display",u=document.createElement(s.name);s.attributes&&this.setAttributes({html:u,element:s,intent:o,linkService:i});const d=o!=="richText",f=e.div;if(f.append(u),e.viewport){const E=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=E}d&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(s.children.length===0){if(s.value){const E=document.createTextNode(s.value);u.append(E),d&&qc.shouldBuildText(s.name)&&p.push(E)}return{textDivs:p}}const g=[[s,-1,u]];for(;g.length>0;){const[E,A,x]=g.at(-1);if(A+1===E.children.length){g.pop();continue}const C=E.children[++g.at(-1)[1]];if(C===null)continue;const{name:k}=C;if(k==="#text"){const I=document.createTextNode(C.value);p.push(I),x.append(I);continue}const L=(v=C==null?void 0:C.attributes)!=null&&v.xmlns?document.createElementNS(C.attributes.xmlns,k):document.createElement(k);if(x.append(L),C.attributes&&this.setAttributes({html:L,element:C,storage:t,intent:o,linkService:i}),((w=C.children)==null?void 0:w.length)>0)g.push([C,-1,L]);else if(C.value){const I=document.createTextNode(C.value);d&&qc.shouldBuildText(k)&&p.push(I),L.append(I)}}for(const E of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Oh=1e3,EP=9,Na=new WeakSet;function os(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class SP{static create(e){switch(e.data.annotationType){case Rt.LINK:return new Ub(e);case Rt.TEXT:return new bP(e);case Rt.WIDGET:switch(e.data.fieldType){case"Tx":return new _P(e);case"Btn":return e.data.radioButton?new Wb(e):e.data.checkBox?new CP(e):new TP(e);case"Ch":return new kP(e);case"Sig":return new xP(e)}return new $a(e);case Rt.POPUP:return new Cy(e);case Rt.FREETEXT:return new Yb(e);case Rt.LINE:return new PP(e);case Rt.SQUARE:return new LP(e);case Rt.CIRCLE:return new MP(e);case Rt.POLYLINE:return new Qb(e);case Rt.CARET:return new IP(e);case Rt.INK:return new Jb(e);case Rt.POLYGON:return new DP(e);case Rt.HIGHLIGHT:return new OP(e);case Rt.UNDERLINE:return new FP(e);case Rt.SQUIGGLY:return new NP(e);case Rt.STRIKEOUT:return new jP(e);case Rt.STAMP:return new Zb(e);case Rt.FILEATTACHMENT:return new BP(e);default:return new St(e)}}}var ca,tu,nu,jd,xy;const k0=class k0{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){T(this,jd);T(this,ca,null);T(this,tu,!1);T(this,nu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return k0._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,ca)||b(this,ca,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,jd,xy).call(this,t),(i=c(this,nu))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,ca)&&(_(this,jd,xy).call(this,c(this,ca).rect),(e=c(this,nu))==null||e.popup.resetEdited(),b(this,ca,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof $a||(o.tabIndex=Oh);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,t.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Cy){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:d,height:f}=os(t.rect);if(!e&&t.borderStyle.width>0){u.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(x>0||C>0){const L=`calc(${x}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;u.borderRadius=L}else if(this instanceof Wb){const L=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=L}switch(t.borderStyle.style){case bc.SOLID:u.borderStyle="solid";break;case bc.DASHED:u.borderStyle="dashed";break;case bc.BEVELED:Be("Unimplemented border style: beveled");break;case bc.INSET:Be("Unimplemented border style: inset");break;case bc.UNDERLINE:u.borderBottomStyle="solid";break}const k=t.borderColor||null;k?(b(this,tu,!0),u.borderColor=Ee.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):u.borderWidth=0}const p=Ee.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:v,pageX:w,pageY:E}=s.rawDims;u.left=`${100*(p[0]-w)/g}%`,u.top=`${100*(p[1]-E)/v}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(u.width=`${100*d/g}%`,u.height=`${100*f/v}%`):this.setRotation(A,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:u}=os(this.data.rect);let d,f;e%180===0?(d=100*o/i,f=100*u/s):(d=100*u/i,f=100*o/s),t.style.width=`${d}%`,t.style.height=`${f}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const o=s.detail[t],u=o[0],d=o.slice(1);s.target.style[i]=KE[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[i]:KE[`${u}_rgb`](d)})};return Ge(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||i[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,o]of Object.entries(t)){const u=i[s];if(u){const d={detail:{[s]:o},target:e};u(d),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,o]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,C,k,L]=e.subarray(2,6);if(s===x&&o===C&&t===k&&i===L)return}const{style:u}=this.container;let d;if(c(this,tu)){const{borderColor:x,borderWidth:C}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const f=s-t,p=o-i,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const w=g.createElement("defs");v.append(w);const E=g.createElement("clipPath"),A=`clippath_${this.data.id}`;E.setAttribute("id",A),E.setAttribute("clipPathUnits","objectBoundingBox"),w.append(E);for(let x=2,C=e.length;x<C;x+=8){const k=e[x],L=e[x+1],I=e[x+2],O=e[x+3],F=g.createElement("rect"),B=(I-t)/f,q=(o-L)/p,K=(k-I)/f,X=(L-O)/p;F.setAttribute("x",B),F.setAttribute("y",q),F.setAttribute("width",K),F.setAttribute("height",X),E.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${q}" width="${K}" height="${X}"/>`)}c(this,tu)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=b(this,nu,new Cy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){tt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:u,exportValues:d}of s){if(o===-1||u===t)continue;const f=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Na.has(p)){Be(`_getElementsByName - element not allowed: ${u}`);continue}i.push({id:u,exportValue:f,domElement:p})}return i}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,u=s.getAttribute("data-element-id");u!==t&&Na.has(s)&&i.push({id:u,exportValue:o,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};ca=new WeakMap,tu=new WeakMap,nu=new WeakMap,jd=new WeakSet,xy=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;i==null||i.splice(0,4,...e);const{width:p,height:g}=os(e);t.left=`${100*(e[0]-d)/o}%`,t.top=`${100*(u-e[3]+f)/u}%`,s===0?(t.width=`${100*p/o}%`,t.height=`${100*g/u}%`):this.setRotation(s)};let St=k0;var ei,Lo,$b,Vb;class Ub extends St{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});T(this,ei);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(_(this,ei,$b).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(_(this,ei,Vb).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,ei,Lo).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),_(this,ei,Lo).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const u=s.get(o);u&&(t[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,ei,Lo).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),_(this,ei,Lo).call(this),!this._fieldObjects){Be('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var v;s==null||s();const{fields:o,refs:u,include:d}=i,f=[];if(o.length!==0||u.length!==0){const w=new Set(u);for(const E of o){const A=this._fieldObjects[E]||[];for(const{id:x}of A)w.add(x)}for(const E of Object.values(this._fieldObjects))for(const A of E)w.has(A.id)===d&&f.push(A)}else for(const w of Object.values(this._fieldObjects))f.push(...w);const p=this.annotationStorage,g=[];for(const w of f){const{id:E}=w;switch(g.push(E),w.type){case"text":{const x=w.defaultValue||"";p.setValue(E,{value:x});break}case"checkbox":case"radiobutton":{const x=w.defaultValue===w.exportValues;p.setValue(E,{value:x});break}case"combobox":case"listbox":{const x=w.defaultValue||"";p.setValue(E,{value:x});break}default:continue}const A=document.querySelector(`[data-element-id="${E}"]`);if(A){if(!Na.has(A)){Be(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}ei=new WeakSet,Lo=function(){this.container.setAttribute("data-internal-link","")},$b=function(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,s),!1},_(this,ei,Lo).call(this)},Vb=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),_(this,ei,Lo).call(this)};class bP extends St{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class $a extends St{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return kn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,o){i.includes("mouse")?e.addEventListener(i,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):e.addEventListener(i,u=>{var d;if(i==="blur"){if(!t.focused||!u.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(u)}}))})}_setEventListeners(e,t,i,s){var o,u,d;for(const[f,p]of i)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,f,p,s),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ee.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||EP,o=e.style;let u;const d=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),g=Math.round(p/(Pv*s))||1,v=p/g;u=Math.min(s,f(v/Pv))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(s,f(p/Pv))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=Ee.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class _P extends $a{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const o=this.annotationStorage;for(const u of this._getElementsByName(e.name,e.id))u.domElement&&(u.domElement[t]=i),o.setValue(u.id,{[s]:i})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const u=e.getValue(t,{value:this.data.fieldValue});let d=u.value||"";const f=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let p=u.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??d,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",p??d),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Na.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Oh,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",w=>{const E=this.data.defaultFieldValue??"";i.value=g.userValue=E,g.formattedValue=null});let v=w=>{const{formattedValue:E}=g;E!=null&&(w.target.value=E),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",E=>{var x;if(g.focused)return;const{target:A}=E;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const A={value(x){g.userValue=x.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),x.target.value=g.userValue},formattedValue(x){const{formattedValue:C}=x.detail;g.formattedValue=C,C!=null&&x.target!==document.activeElement&&(x.target.value=C),e.setValue(t,{formattedValue:C})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var I;const{charLimit:C}=x.detail,{target:k}=x;if(C===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",C);let L=g.userValue;!L||L.length<=C||(L=L.slice(0,C),k.value=g.userValue=L,e.setValue(t,{value:L}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(A,E)}),i.addEventListener("keydown",E=>{var C;g.commitKey=1;let A=-1;if(E.key==="Escape"?A=0:E.key==="Enter"&&!this.data.multiLine?A=2:E.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:x}=E.target;g.lastCommittedValue!==x&&(g.lastCommittedValue=x,g.userValue=x,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:A,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const w=v;v=null,i.addEventListener("blur",E=>{var x,C;if(!g.focused||!E.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(g.focused=!1);const{value:A}=E.target;g.userValue=A,g.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),w(E)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",E=>{var F;g.lastCommittedValue=null;const{data:A,target:x}=E,{value:C,selectionStart:k,selectionEnd:L}=x;let I=k,O=L;switch(E.inputType){case"deleteWordBackward":{const B=C.substring(0,k).match(/\w*[^\w]*$/);B&&(I-=B[0].length);break}case"deleteWordForward":{const B=C.substring(k).match(/^[^\w]*\w*/);B&&(O+=B[0].length);break}case"deleteContentBackward":k===L&&(I-=1);break;case"deleteContentForward":k===L&&(O+=1);break}E.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:I,selEnd:O}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class xP extends $a{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CP extends $a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Na.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Oh,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,i)){const g=f&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const d=t.defaultFieldValue||"Off";u.target.checked=d===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Wb extends $a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const u of this._getElementsByName(t.fieldName,i))e.setValue(u.id,{value:!1});const o=document.createElement("input");if(Na.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=Oh,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,i))e.setValue(p.id,{value:!1});e.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const d=t.defaultFieldValue;u.target.checked=d!=null&&d===t.buttonValue}),this.enableScripting&&this.hasJSActions){const u=t.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:p=>{const g=u===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const w=g&&v.id===i;v.domElement&&(v.domElement.checked=w),e.setValue(v.id,{value:w})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class TP extends Ub{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class kP extends $a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Na.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Oh;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const w of s.options)w.selected=w.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,i.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),o=!1),s.append(v)}let u=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),s.prepend(g),u=()=>{g.remove(),s.removeEventListener("input",u),u=null},s.addEventListener("input",u)}const d=g=>{const v=g?"value":"textContent",{options:w,multiple:E}=s;return E?Array.prototype.filter.call(w,A=>A.selected).map(A=>A[v]):w.selectedIndex===-1?null:w[w.selectedIndex][v]};let f=d(!1);const p=g=>{const v=g.target.options;return Array.prototype.map.call(v,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",g=>{const v={value(w){u==null||u();const E=w.detail.value,A=new Set(Array.isArray(E)?E:[E]);for(const x of s.options)x.selected=A.has(x.value);e.setValue(t,{value:d(!0)}),f=d(!1)},multipleSelection(w){s.multiple=!0},remove(w){const E=s.options,A=w.detail.remove;E[A].selected=!1,s.remove(A),E.length>0&&Array.prototype.findIndex.call(E,C=>C.selected)===-1&&(E[0].selected=!0),e.setValue(t,{value:d(!0),items:p(w)}),f=d(!1)},clear(w){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),f=d(!1)},insert(w){const{index:E,displayValue:A,exportValue:x}=w.detail.insert,C=s.children[E],k=document.createElement("option");k.textContent=A,k.value=x,C?C.before(k):s.append(k),e.setValue(t,{value:d(!0),items:p(w)}),f=d(!1)},items(w){const{items:E}=w.detail;for(;s.length!==0;)s.remove(0);for(const A of E){const{displayValue:x,exportValue:C}=A,k=document.createElement("option");k.textContent=x,k.value=C,s.append(k)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:d(!0),items:p(w)}),f=d(!1)},indices(w){const E=new Set(w.detail.indices);for(const A of w.target.options)A.selected=E.has(A.index);e.setValue(t,{value:d(!0)}),f=d(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(v,g)}),s.addEventListener("input",g=>{var E;const v=d(!0),w=d(!1);e.setValue(t,{value:v}),g.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,change:w,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):s.addEventListener("input",function(g){e.setValue(t,{value:d(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cy extends St{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:St._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new RP({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${GS}${i}`).join(",")),this.container}}var iu,ug,cg,ru,da,yt,Gr,ha,Bd,zd,su,qr,Ii,Xr,Hd,Kr,Ud,fa,pa,nt,bp,Ty,Gb,qb,Xb,Kb,_p,xp,ky;class RP{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:p,parentRect:g,open:v}){T(this,nt);T(this,iu,_(this,nt,Xb).bind(this));T(this,ug,_(this,nt,ky).bind(this));T(this,cg,_(this,nt,xp).bind(this));T(this,ru,_(this,nt,_p).bind(this));T(this,da,null);T(this,yt,null);T(this,Gr,null);T(this,ha,null);T(this,Bd,null);T(this,zd,null);T(this,su,null);T(this,qr,!1);T(this,Ii,null);T(this,Xr,null);T(this,Hd,null);T(this,Kr,null);T(this,Ud,null);T(this,fa,null);T(this,pa,!1);var w;b(this,yt,e),b(this,Ud,s),b(this,Gr,u),b(this,Kr,d),b(this,zd,f),b(this,da,t),b(this,Hd,p),b(this,su,g),b(this,Bd,i),b(this,ha,QS.toDateObject(o)),this.trigger=i.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",c(this,ru)),E.addEventListener("mouseenter",c(this,cg)),E.addEventListener("mouseleave",c(this,ug)),E.classList.add("popupTriggerArea");for(const E of i)(w=E.container)==null||w.addEventListener("keydown",c(this,iu));c(this,yt).hidden=!0,v&&_(this,nt,_p).call(this)}render(){if(c(this,Ii))return;const e=b(this,Ii,document.createElement("div"));if(e.className="popup",c(this,da)){const o=e.style.outlineColor=Ee.makeHexColor(...c(this,da));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ee.makeHexColor(...c(this,da).map(d=>Math.floor(.7*(255-d)+d)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,Ud),e.append(t),c(this,ha)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:c(this,ha).toLocaleDateString(),time:c(this,ha).toLocaleTimeString()})),t.append(o)}const s=c(this,nt,bp);if(s)Hb.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Gr));e.append(o)}c(this,yt).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,u=s.length;o<u;++o){const d=s[o];i.append(document.createTextNode(d)),o<u-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,fa)||b(this,fa,{contentsObj:c(this,Gr),richText:c(this,Kr)}),e&&b(this,Xr,null),t&&(b(this,Kr,_(this,nt,qb).call(this,t)),b(this,Gr,null)),(i=c(this,Ii))==null||i.remove(),b(this,Ii,null)}resetEdited(){var e;c(this,fa)&&({contentsObj:Un(this,Gr)._,richText:Un(this,Kr)._}=c(this,fa),b(this,fa,null),(e=c(this,Ii))==null||e.remove(),b(this,Ii,null),b(this,Xr,null))}forceHide(){b(this,pa,this.isVisible),c(this,pa)&&(c(this,yt).hidden=!0)}maybeShow(){c(this,pa)&&(c(this,Ii)||_(this,nt,xp).call(this),b(this,pa,!1),c(this,yt).hidden=!1)}get isVisible(){return c(this,yt).hidden===!1}}iu=new WeakMap,ug=new WeakMap,cg=new WeakMap,ru=new WeakMap,da=new WeakMap,yt=new WeakMap,Gr=new WeakMap,ha=new WeakMap,Bd=new WeakMap,zd=new WeakMap,su=new WeakMap,qr=new WeakMap,Ii=new WeakMap,Xr=new WeakMap,Hd=new WeakMap,Kr=new WeakMap,Ud=new WeakMap,fa=new WeakMap,pa=new WeakMap,nt=new WeakSet,bp=function(){const e=c(this,Kr),t=c(this,Gr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Kr).html||null},Ty=function(){var e,t,i;return((i=(t=(e=c(this,nt,bp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Gb=function(){var e,t,i;return((i=(t=(e=c(this,nt,bp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},qb=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:c(this,nt,Gb),fontSize:c(this,nt,Ty)?`calc(${c(this,nt,Ty)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return i},Xb=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,qr))&&_(this,nt,_p).call(this)},Kb=function(){if(c(this,Xr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:o}}}=c(this,zd);let u=!!c(this,su),d=u?c(this,su):c(this,Hd);for(const A of c(this,Bd))if(!d||Ee.intersect(A.data.rect,d)!==null){d=A.data.rect,u=!0;break}const f=Ee.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),g=u?d[2]-d[0]+5:0,v=f[0]+g,w=f[1];b(this,Xr,[100*(v-s)/t,100*(w-o)/i]);const{style:E}=c(this,yt);E.left=`${c(this,Xr)[0]}%`,E.top=`${c(this,Xr)[1]}%`},_p=function(){b(this,qr,!c(this,qr)),c(this,qr)?(_(this,nt,xp).call(this),c(this,yt).addEventListener("click",c(this,ru)),c(this,yt).addEventListener("keydown",c(this,iu))):(_(this,nt,ky).call(this),c(this,yt).removeEventListener("click",c(this,ru)),c(this,yt).removeEventListener("keydown",c(this,iu)))},xp=function(){c(this,Ii)||this.render(),this.isVisible?c(this,qr)&&c(this,yt).classList.add("focused"):(_(this,nt,Kb).call(this),c(this,yt).hidden=!1,c(this,yt).style.zIndex=parseInt(c(this,yt).style.zIndex)+1e3)},ky=function(){c(this,yt).classList.remove("focused"),!(c(this,qr)||!this.isVisible)&&(c(this,yt).hidden=!0,c(this,yt).style.zIndex=parseInt(c(this,yt).style.zIndex)-1e3)};class Yb extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var $d;class PP extends St{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,$d,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=os(t.rect),o=this.svgFactory.create(i,s,!0),u=b(this,$d,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),u.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),u.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),u.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,$d)}addHighlightArea(){this.container.classList.add("highlightArea")}}$d=new WeakMap;var Vd;class LP extends St{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Vd,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=os(t.rect),o=this.svgFactory.create(i,s,!0),u=t.borderStyle.width,d=b(this,Vd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",i-u),d.setAttribute("height",s-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Vd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vd=new WeakMap;var Wd;class MP extends St{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Wd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=os(t.rect),o=this.svgFactory.create(i,s,!0),u=t.borderStyle.width,d=b(this,Wd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",i/2),d.setAttribute("cy",s/2),d.setAttribute("rx",i/2-u/2),d.setAttribute("ry",s/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wd=new WeakMap;var Gd;class Qb extends St{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Gd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:o}}=this;if(!i)return this.container;const{width:u,height:d}=os(t),f=this.svgFactory.create(u,d,!0);let p=[];for(let v=0,w=i.length;v<w;v+=2){const E=i[v]-t[0],A=t[3]-i[v+1];p.push(`${E},${A}`)}p=p.join(" ");const g=b(this,Gd,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Gd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gd=new WeakMap;class DP extends Qb{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class IP extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var qd;class Jb extends St{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,qd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=$e.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:s,popupRef:o}}=this,{width:u,height:d}=os(t),f=this.svgFactory.create(u,d,!0);for(const p of i){let g=[];for(let w=0,E=p.length;w<E;w+=2){const A=p[w]-t[0],x=t[3]-p[w+1];g.push(`${A},${x}`)}g=g.join(" ");const v=this.svgFactory.createElement(this.svgElementName);c(this,qd).push(v),v.setAttribute("points",g),v.setAttribute("stroke-width",s.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),f.append(v)}return this.container.append(f),this.container}getElementsToTriggerPopup(){return c(this,qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}qd=new WeakMap;class OP extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class FP extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class NP extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class jP extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Zb extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Xd,Kd,Ry;class BP extends St{constructor(t){var s;super(t,{isRenderable:!0});T(this,Kd);T(this,Xd,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",_(this,Kd,Ry).bind(this)),b(this,Xd,s);const{isMac:o}=kn.platform;return t.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&_(this,Kd,Ry).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return c(this,Xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xd=new WeakMap,Kd=new WeakSet,Ry=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Yd,ga,ou,Ba,e_,Py,cS;let zP=(cS=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:o,viewport:u}){T(this,Ba);T(this,Yd,null);T(this,ga,null);T(this,ou,new Map);this.div=e,b(this,Yd,t),b(this,ga,i),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=s}async render(e){var u;const{annotations:t}=e,i=this.div;Oa(i,this.viewport);const s=new Map,o={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new m0,annotationStorage:e.annotationStorage||new E0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of t){if(d.noHTML)continue;const f=d.annotationType===Rt.POPUP;if(f){const v=s.get(d.id);if(!v)continue;o.elements=v}else{const{width:v,height:w}=os(d.rect);if(v<=0||w<=0)continue}o.data=d;const p=SP.create(o);if(!p.isRenderable)continue;if(!f&&d.popupRef){const v=s.get(d.popupRef);v?v.push(p):s.set(d.popupRef,[p])}const g=p.render();d.hidden&&(g.style.visibility="hidden"),_(this,Ba,e_).call(this,g,d.id),p.annotationEditorType>0&&(c(this,ou).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}_(this,Ba,Py).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Oa(t,{rotation:e.rotation}),_(this,Ba,Py).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,ou).values())}getEditableAnnotation(e){return c(this,ou).get(e)}},Yd=new WeakMap,ga=new WeakMap,ou=new WeakMap,Ba=new WeakSet,e_=function(e,t){var s;const i=e.firstChild||e;i.id=`${GS}${t}`,this.div.append(e),(s=c(this,Yd))==null||s.moveElementInDOM(this.div,e,i,!1)},Py=function(){if(!c(this,ga))return;const e=this.div;for(const[t,i]of c(this,ga)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i)}c(this,ga).clear()},cS);const sp=/\r\n?|\n/g;var Qd,Jd,Zd,eh,th,Oi,Xn,nh,Kn,au,Ct,t_,n_,i_,Cp,ls,Tp,kp,r_,My,s_;const at=class at extends Ze{constructor(t){super({...t,name:"freeTextEditor"});T(this,Ct);T(this,Qd,this.editorDivBlur.bind(this));T(this,Jd,this.editorDivFocus.bind(this));T(this,Zd,this.editorDivInput.bind(this));T(this,eh,this.editorDivKeydown.bind(this));T(this,th,this.editorDivPaste.bind(this));T(this,Oi);T(this,Xn,"");T(this,nh,`${this.id}-editor`);T(this,Kn);T(this,au,null);b(this,Oi,t.color||at._defaultColor||Ze._defaultLineColor),b(this,Kn,t.fontSize||at._defaultFontSize)}static get _keyboardManager(){const t=at.prototype,i=u=>u.isEmpty(),s=Fa.TRANSLATE_SMALL,o=Fa.TRANSLATE_BIG;return Ge(this,"_keyboardManager",new Dh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(t,i){Ze.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case De.FREETEXT_SIZE:at._defaultFontSize=i;break;case De.FREETEXT_COLOR:at._defaultColor=i;break}}updateParams(t,i){switch(t){case De.FREETEXT_SIZE:_(this,Ct,t_).call(this,i);break;case De.FREETEXT_COLOR:_(this,Ct,n_).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[De.FREETEXT_SIZE,at._defaultFontSize],[De.FREETEXT_COLOR,at._defaultColor||Ze._defaultLineColor]]}get propertiesToUpdate(){return[[De.FREETEXT_SIZE,c(this,Kn)],[De.FREETEXT_COLOR,c(this,Oi)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-at._internalPadding*t,-(at._internalPadding+c(this,Kn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar($e.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,eh),{signal:t}),this.editorDiv.addEventListener("focus",c(this,Jd),{signal:t}),this.editorDiv.addEventListener("blur",c(this,Qd),{signal:t}),this.editorDiv.addEventListener("input",c(this,Zd),{signal:t}),this.editorDiv.addEventListener("paste",c(this,th),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,nh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,eh)),this.editorDiv.removeEventListener("focus",c(this,Jd)),this.editorDiv.removeEventListener("blur",c(this,Qd)),this.editorDiv.removeEventListener("input",c(this,Zd)),this.editorDiv.removeEventListener("paste",c(this,th)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Xn),i=b(this,Xn,_(this,Ct,i_).call(this).trimEnd());if(t===i)return;const s=o=>{if(b(this,Xn,o),!o){this.remove();return}_(this,Ct,kp).call(this),this._uiManager.rebuild(this),_(this,Ct,Cp).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),_(this,Ct,Cp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){at._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,nh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ze._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var u;return(u=this.editorDiv)==null?void 0:u.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${c(this,Kn)}px * var(--scale-factor))`,s.color=c(this,Oi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Up(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=c(this,au);let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,v]=this.pageDimensions,[w,E]=this.pageTranslation;let A,x;switch(this.rotation){case 0:A=t+(d[0]-w)/g,x=i+this.height-(d[1]-E)/v;break;case 90:A=t+(d[0]-w)/g,x=i-(d[1]-E)/v,[f,p]=[p,-f];break;case 180:A=t-this.width+(d[0]-w)/g,x=i-(d[1]-E)/v,[f,p]=[-f,-p];break;case 270:A=t+(d[0]-w-this.height*v)/g,x=i+(d[1]-E-this.width*g)/v,[f,p]=[-p,f];break}this.setAt(A*o,x*u,f,p)}else this.setAt(t*o,i*u,this.width*o,this.height*u);_(this,Ct,kp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var A,x,C;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=_(A=at,ls,My).call(A,i.getData("text")||"").replaceAll(sp,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=d,g=[],v=[];if(f.nodeType===Node.TEXT_NODE){const k=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(sp,"")),k!==this.editorDiv){let L=g;for(const I of this.editorDiv.childNodes){if(I===k){L=v;continue}L.push(_(x=at,ls,Tp).call(x,I))}}g.push(f.nodeValue.slice(0,p).replaceAll(sp,""))}else if(f===this.editorDiv){let k=g,L=0;for(const I of this.editorDiv.childNodes)L++===p&&(k=v),k.push(_(C=at,ls,Tp).call(C,I))}b(this,Xn,`${g.join(`
`)}${o}${v.join(`
`)}`),_(this,Ct,kp).call(this);const w=new Range;let E=g.reduce((k,L)=>k+L.length,0);for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const L=k.nodeValue.length;if(E<=L){w.setStart(k,E),w.setEnd(k,E);break}E-=L}u.removeAllRanges(),u.addRange(w)}get contentDiv(){return this.editorDiv}static deserialize(t,i,s){var d;let o=null;if(t instanceof Yb){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:v,id:w},textContent:E,textPosition:A,parent:{page:{pageNumber:x}}}=t;if(!E||E.length===0)return null;o=t={annotationType:$e.FREETEXT,color:Array.from(p),fontSize:f,value:E.join(`
`),position:A,pageIndex:x-1,rect:g.slice(0),rotation:v,id:w,deleted:!1}}const u=super.deserialize(t,i,s);return b(u,Kn,t.fontSize),b(u,Oi,Ee.makeHexColor(...t.color)),b(u,Xn,_(d=at,ls,My).call(d,t.value)),u.annotationElementId=t.id||null,b(u,au,o),u}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=at._internalPadding*this.parentScale,s=this.getRect(i,i),o=Ze._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Oi)),u={annotationType:$e.FREETEXT,color:o,fontSize:c(this,Kn),value:_(this,Ct,r_).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!_(this,Ct,s_).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${c(this,Kn)}px * var(--scale-factor))`,s.color=c(this,Oi),i.replaceChildren();for(const u of c(this,Xn).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),i.append(d)}const o=at._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,Xn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qd=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,eh=new WeakMap,th=new WeakMap,Oi=new WeakMap,Xn=new WeakMap,nh=new WeakMap,Kn=new WeakMap,au=new WeakMap,Ct=new WeakSet,t_=function(t){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,Kn))*this.parentScale),b(this,Kn,o),_(this,Ct,Cp).call(this)},s=c(this,Kn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},n_=function(t){const i=o=>{b(this,Oi,this.editorDiv.style.color=o)},s=c(this,Oi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i_=function(){var i;const t=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)t.push(_(i=at,ls,Tp).call(i,s));return t.join(`
`)},Cp=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),s=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},ls=new WeakSet,Tp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(sp,"")},kp=function(){if(this.editorDiv.replaceChildren(),!!c(this,Xn))for(const t of c(this,Xn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},r_=function(){return c(this,Xn).replaceAll(""," ")},My=function(t){return t.replaceAll(" ","")},s_=function(t){const{value:i,fontSize:s,color:o,pageIndex:u}=c(this,au);return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((d,f)=>d!==o[f])||t.pageIndex!==u},T(at,ls),Ie(at,"_freeTextDefaultContent",""),Ie(at,"_internalPadding",0),Ie(at,"_defaultColor",null),Ie(at,"_defaultFontSize",10),Ie(at,"_type","freetext"),Ie(at,"_editorType",$e.FREETEXT);let Ly=at;var ih,Zs,Fi,vn,o_,Rp,a_,l_,Iy;class Dy{constructor(e,t=0,i=0,s=!0){T(this,vn);T(this,ih);T(this,Zs,[]);T(this,Fi,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const p=10**-4;for(const{x:C,y:k,width:L,height:I}of e){const O=Math.floor((C-t)/p)*p,F=Math.ceil((C+L+t)/p)*p,B=Math.floor((k-t)/p)*p,q=Math.ceil((k+I+t)/p)*p,K=[O,B,q,!0],X=[F,B,q,!1];c(this,Zs).push(K,X),o=Math.min(o,O),u=Math.max(u,F),d=Math.min(d,B),f=Math.max(f,q)}const g=u-o+2*i,v=f-d+2*i,w=o-i,E=d-i,A=c(this,Zs).at(s?-1:-2),x=[A[0],A[2]];for(const C of c(this,Zs)){const[k,L,I]=C;C[0]=(k-w)/g,C[1]=(L-E)/v,C[2]=(I-E)/v}b(this,ih,{x:w,y:E,width:g,height:v,lastPoint:x})}getOutlines(){c(this,Zs).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,Zs))t[3]?(e.push(..._(this,vn,Iy).call(this,t)),_(this,vn,a_).call(this,t)):(_(this,vn,l_).call(this,t),e.push(..._(this,vn,Iy).call(this,t)));return _(this,vn,o_).call(this,e)}}ih=new WeakMap,Zs=new WeakMap,Fi=new WeakMap,vn=new WeakSet,o_=function(e){const t=[],i=new Set;for(const u of e){const[d,f,p]=u;t.push([d,f,u],[d,p,u])}t.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=t.length;u<d;u+=2){const f=t[u][2],p=t[u+1][2];f.push(p),p.push(f),i.add(f),i.add(p)}const s=[];let o;for(;i.size>0;){const u=i.values().next().value;let[d,f,p,g,v]=u;i.delete(u);let w=d,E=f;for(o=[d,p],s.push(o);;){let A;if(i.has(g))A=g;else if(i.has(v))A=v;else break;i.delete(A),[d,f,p,g,v]=A,w!==d&&(o.push(w,E,d,E===f?f:p),w=d),E=E===f?p:f}o.push(w,E)}return new HP(s,c(this,ih))},Rp=function(e){const t=c(this,Fi);let i=0,s=t.length-1;for(;i<=s;){const o=i+s>>1,u=t[o][0];if(u===e)return o;u<e?i=o+1:s=o-1}return s+1},a_=function([,e,t]){const i=_(this,vn,Rp).call(this,e);c(this,Fi).splice(i,0,[e,t])},l_=function([,e,t]){const i=_(this,vn,Rp).call(this,e);for(let s=i;s<c(this,Fi).length;s++){const[o,u]=c(this,Fi)[s];if(o!==e)break;if(o===e&&u===t){c(this,Fi).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[o,u]=c(this,Fi)[s];if(o!==e)break;if(o===e&&u===t){c(this,Fi).splice(s,1);return}}},Iy=function(e){const[t,i,s]=e,o=[[t,i,s]],u=_(this,vn,Rp).call(this,s);for(let d=0;d<u;d++){const[f,p]=c(this,Fi)[d];for(let g=0,v=o.length;g<v;g++){const[,w,E]=o[g];if(!(p<=w||E<=f)){if(w>=f){if(E>p)o[g][1]=p;else{if(v===1)return[];o.splice(g,1),g--,v--}continue}o[g][2]=f,E>p&&o.push([t,p,E])}}}return o};class u_{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Fy}}var rh,lu;class HP extends u_{constructor(t,i){super();T(this,rh);T(this,lu);b(this,lu,t),b(this,rh,i)}toSVGPath(){const t=[];for(const i of c(this,lu)){let[s,o]=i;t.push(`M${s} ${o}`);for(let u=2;u<i.length;u+=2){const d=i[u],f=i[u+1];d===s?(t.push(`V${f}`),o=f):f===o&&(t.push(`H${d}`),s=d)}t.push("Z")}return t.join(" ")}serialize([t,i,s,o],u){const d=[],f=s-t,p=o-i;for(const g of c(this,lu)){const v=new Array(g.length);for(let w=0;w<g.length;w+=2)v[w]=t+g[w]*f,v[w+1]=o-g[w+1]*p;d.push(v)}return d}get box(){return c(this,rh)}}rh=new WeakMap,lu=new WeakMap;var rr,Yr,uu,cu,sr,Ue,ma,va,sh,oh,du,hu,eo,ah,dg,hg,lh,Oy;const Mr=class Mr{constructor({x:e,y:t},i,s,o,u,d=0){T(this,lh);T(this,rr);T(this,Yr,[]);T(this,uu);T(this,cu);T(this,sr,[]);T(this,Ue,new Float64Array(18));T(this,ma);T(this,va);T(this,sh);T(this,oh);T(this,du);T(this,hu);T(this,eo,[]);b(this,rr,i),b(this,hu,o*s),b(this,cu,u),c(this,Ue).set([NaN,NaN,NaN,NaN,e,t],6),b(this,uu,d),b(this,oh,c(Mr,ah)*s),b(this,sh,c(Mr,hg)*s),b(this,du,s),c(this,eo).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Ue)[8])}add({x:e,y:t}){var X;b(this,ma,e),b(this,va,t);const[i,s,o,u]=c(this,rr);let[d,f,p,g]=c(this,Ue).subarray(8,12);const v=e-p,w=t-g,E=Math.hypot(v,w);if(E<c(this,sh))return!1;const A=E-c(this,oh),x=A/E,C=x*v,k=x*w;let L=d,I=f;d=p,f=g,p+=C,g+=k,(X=c(this,eo))==null||X.push(e,t);const O=-k/A,F=C/A,B=O*c(this,hu),q=F*c(this,hu);return c(this,Ue).set(c(this,Ue).subarray(2,8),0),c(this,Ue).set([p+B,g+q],4),c(this,Ue).set(c(this,Ue).subarray(14,18),12),c(this,Ue).set([p-B,g-q],16),isNaN(c(this,Ue)[6])?(c(this,sr).length===0&&(c(this,Ue).set([d+B,f+q],2),c(this,sr).push(NaN,NaN,NaN,NaN,(d+B-i)/o,(f+q-s)/u),c(this,Ue).set([d-B,f-q],14),c(this,Yr).push(NaN,NaN,NaN,NaN,(d-B-i)/o,(f-q-s)/u)),c(this,Ue).set([L,I,d,f,p,g],6),!this.isEmpty()):(c(this,Ue).set([L,I,d,f,p,g],6),Math.abs(Math.atan2(I-f,L-d)-Math.atan2(k,C))<Math.PI/2?([d,f,p,g]=c(this,Ue).subarray(2,6),c(this,sr).push(NaN,NaN,NaN,NaN,((d+p)/2-i)/o,((f+g)/2-s)/u),[d,f,L,I]=c(this,Ue).subarray(14,18),c(this,Yr).push(NaN,NaN,NaN,NaN,((L+d)/2-i)/o,((I+f)/2-s)/u),!0):([L,I,d,f,p,g]=c(this,Ue).subarray(0,6),c(this,sr).push(((L+5*d)/6-i)/o,((I+5*f)/6-s)/u,((5*d+p)/6-i)/o,((5*f+g)/6-s)/u,((d+p)/2-i)/o,((f+g)/2-s)/u),[p,g,d,f,L,I]=c(this,Ue).subarray(12,18),c(this,Yr).push(((L+5*d)/6-i)/o,((I+5*f)/6-s)/u,((5*d+p)/6-i)/o,((5*f+g)/6-s)/u,((d+p)/2-i)/o,((f+g)/2-s)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,sr),t=c(this,Yr),i=c(this,Ue).subarray(4,6),s=c(this,Ue).subarray(16,18),[o,u,d,f]=c(this,rr),[p,g,v,w]=_(this,lh,Oy).call(this);if(isNaN(c(this,Ue)[6])&&!this.isEmpty())return`M${(c(this,Ue)[2]-o)/d} ${(c(this,Ue)[3]-u)/f} L${(c(this,Ue)[4]-o)/d} ${(c(this,Ue)[5]-u)/f} L${p} ${g} L${v} ${w} L${(c(this,Ue)[16]-o)/d} ${(c(this,Ue)[17]-u)/f} L${(c(this,Ue)[14]-o)/d} ${(c(this,Ue)[15]-u)/f} Z`;const E=[];E.push(`M${e[4]} ${e[5]}`);for(let A=6;A<e.length;A+=6)isNaN(e[A])?E.push(`L${e[A+4]} ${e[A+5]}`):E.push(`C${e[A]} ${e[A+1]} ${e[A+2]} ${e[A+3]} ${e[A+4]} ${e[A+5]}`);E.push(`L${(i[0]-o)/d} ${(i[1]-u)/f} L${p} ${g} L${v} ${w} L${(s[0]-o)/d} ${(s[1]-u)/f}`);for(let A=t.length-6;A>=6;A-=6)isNaN(t[A])?E.push(`L${t[A+4]} ${t[A+5]}`):E.push(`C${t[A]} ${t[A+1]} ${t[A+2]} ${t[A+3]} ${t[A+4]} ${t[A+5]}`);return E.push(`L${t[4]} ${t[5]} Z`),E.join(" ")}getOutlines(){var k;const e=c(this,sr),t=c(this,Yr),i=c(this,Ue),s=i.subarray(4,6),o=i.subarray(16,18),[u,d,f,p]=c(this,rr),g=new Float64Array((((k=c(this,eo))==null?void 0:k.length)??0)+2);for(let L=0,I=g.length-2;L<I;L+=2)g[L]=(c(this,eo)[L]-u)/f,g[L+1]=(c(this,eo)[L+1]-d)/p;g[g.length-2]=(c(this,ma)-u)/f,g[g.length-1]=(c(this,va)-d)/p;const[v,w,E,A]=_(this,lh,Oy).call(this);if(isNaN(i[6])&&!this.isEmpty()){const L=new Float64Array(36);return L.set([NaN,NaN,NaN,NaN,(i[2]-u)/f,(i[3]-d)/p,NaN,NaN,NaN,NaN,(i[4]-u)/f,(i[5]-d)/p,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,E,A,NaN,NaN,NaN,NaN,(i[16]-u)/f,(i[17]-d)/p,NaN,NaN,NaN,NaN,(i[14]-u)/f,(i[15]-d)/p],0),new Fy(L,g,c(this,rr),c(this,du),c(this,uu),c(this,cu))}const x=new Float64Array(c(this,sr).length+24+c(this,Yr).length);let C=e.length;for(let L=0;L<C;L+=2){if(isNaN(e[L])){x[L]=x[L+1]=NaN;continue}x[L]=e[L],x[L+1]=e[L+1]}x.set([NaN,NaN,NaN,NaN,(s[0]-u)/f,(s[1]-d)/p,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,E,A,NaN,NaN,NaN,NaN,(o[0]-u)/f,(o[1]-d)/p],C),C+=24;for(let L=t.length-6;L>=6;L-=6)for(let I=0;I<6;I+=2){if(isNaN(t[L+I])){x[C]=x[C+1]=NaN,C+=2;continue}x[C]=t[L+I],x[C+1]=t[L+I+1],C+=2}return x.set([NaN,NaN,NaN,NaN,t[4],t[5]],C),new Fy(x,g,c(this,rr),c(this,du),c(this,uu),c(this,cu))}};rr=new WeakMap,Yr=new WeakMap,uu=new WeakMap,cu=new WeakMap,sr=new WeakMap,Ue=new WeakMap,ma=new WeakMap,va=new WeakMap,sh=new WeakMap,oh=new WeakMap,du=new WeakMap,hu=new WeakMap,eo=new WeakMap,ah=new WeakMap,dg=new WeakMap,hg=new WeakMap,lh=new WeakSet,Oy=function(){const e=c(this,Ue).subarray(4,6),t=c(this,Ue).subarray(16,18),[i,s,o,u]=c(this,rr);return[(c(this,ma)+(e[0]-t[0])/2-i)/o,(c(this,va)+(e[1]-t[1])/2-s)/u,(c(this,ma)+(t[0]-e[0])/2-i)/o,(c(this,va)+(t[1]-e[1])/2-s)/u]},T(Mr,ah,8),T(Mr,dg,2),T(Mr,hg,c(Mr,ah)+c(Mr,dg));let Gp=Mr;var fu,ya,Qr,uh,Yn,ch,Et,Rn,Oc,Fc,c_;class Fy extends u_{constructor(t,i,s,o,u,d){super();T(this,Rn);T(this,fu);T(this,ya,null);T(this,Qr);T(this,uh);T(this,Yn);T(this,ch);T(this,Et);b(this,Et,t),b(this,Yn,i),b(this,fu,s),b(this,ch,o),b(this,Qr,u),b(this,uh,d),_(this,Rn,c_).call(this,d);const{x:f,y:p,width:g,height:v}=c(this,ya);for(let w=0,E=t.length;w<E;w+=2)t[w]=(t[w]-f)/g,t[w+1]=(t[w+1]-p)/v;for(let w=0,E=i.length;w<E;w+=2)i[w]=(i[w]-f)/g,i[w+1]=(i[w+1]-p)/v}toSVGPath(){const t=[`M${c(this,Et)[4]} ${c(this,Et)[5]}`];for(let i=6,s=c(this,Et).length;i<s;i+=6){if(isNaN(c(this,Et)[i])){t.push(`L${c(this,Et)[i+4]} ${c(this,Et)[i+5]}`);continue}t.push(`C${c(this,Et)[i]} ${c(this,Et)[i+1]} ${c(this,Et)[i+2]} ${c(this,Et)[i+3]} ${c(this,Et)[i+4]} ${c(this,Et)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,o],u){const d=s-t,f=o-i;let p,g;switch(u){case 0:p=_(this,Rn,Oc).call(this,c(this,Et),t,o,d,-f),g=_(this,Rn,Oc).call(this,c(this,Yn),t,o,d,-f);break;case 90:p=_(this,Rn,Fc).call(this,c(this,Et),t,i,d,f),g=_(this,Rn,Fc).call(this,c(this,Yn),t,i,d,f);break;case 180:p=_(this,Rn,Oc).call(this,c(this,Et),s,i,-d,f),g=_(this,Rn,Oc).call(this,c(this,Yn),s,i,-d,f);break;case 270:p=_(this,Rn,Fc).call(this,c(this,Et),s,o,-d,-f),g=_(this,Rn,Fc).call(this,c(this,Yn),s,o,-d,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return c(this,ya)}getNewOutline(t,i){const{x:s,y:o,width:u,height:d}=c(this,ya),[f,p,g,v]=c(this,fu),w=u*g,E=d*v,A=s*g+f,x=o*v+p,C=new Gp({x:c(this,Yn)[0]*w+A,y:c(this,Yn)[1]*E+x},c(this,fu),c(this,ch),t,c(this,uh),i??c(this,Qr));for(let k=2;k<c(this,Yn).length;k+=2)C.add({x:c(this,Yn)[k]*w+A,y:c(this,Yn)[k+1]*E+x});return C.getOutlines()}}fu=new WeakMap,ya=new WeakMap,Qr=new WeakMap,uh=new WeakMap,Yn=new WeakMap,ch=new WeakMap,Et=new WeakMap,Rn=new WeakSet,Oc=function(t,i,s,o,u){const d=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)d[f]=i+t[f]*o,d[f+1]=s+t[f+1]*u;return d},Fc=function(t,i,s,o,u){const d=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)d[f]=i+t[f+1]*o,d[f+1]=s+t[f]*u;return d},c_=function(t){const i=c(this,Et);let s=i[4],o=i[5],u=s,d=o,f=s,p=o,g=s,v=o;const w=t?Math.max:Math.min;for(let k=6,L=i.length;k<L;k+=6){if(isNaN(i[k]))u=Math.min(u,i[k+4]),d=Math.min(d,i[k+5]),f=Math.max(f,i[k+4]),p=Math.max(p,i[k+5]),v<i[k+5]?(g=i[k+4],v=i[k+5]):v===i[k+5]&&(g=w(g,i[k+4]));else{const I=Ee.bezierBoundingBox(s,o,...i.slice(k,k+6));u=Math.min(u,I[0]),d=Math.min(d,I[1]),f=Math.max(f,I[2]),p=Math.max(p,I[3]),v<I[3]?(g=I[2],v=I[3]):v===I[3]&&(g=w(g,I[2]))}s=i[k+4],o=i[k+5]}const E=u-c(this,Qr),A=d-c(this,Qr),x=f-u+2*c(this,Qr),C=p-d+2*c(this,Qr);b(this,ya,{x:E,y:A,width:x,height:C,lastPoint:[g,v]})};var dh,hh,Ni,wa,pu,Lt,fh,gu,ph,gh,ji,mu,st,Ny,jy,d_,Mo,h_,Bs;const Dr=class Dr{constructor({editor:e=null,uiManager:t=null}){T(this,st);T(this,dh,_(this,st,d_).bind(this));T(this,hh,_(this,st,h_).bind(this));T(this,Ni,null);T(this,wa,null);T(this,pu);T(this,Lt,null);T(this,fh,!1);T(this,gu,!1);T(this,ph,null);T(this,gh);T(this,ji,null);T(this,mu);var i;e?(b(this,gu,!1),b(this,mu,De.HIGHLIGHT_COLOR),b(this,ph,e)):(b(this,gu,!0),b(this,mu,De.HIGHLIGHT_DEFAULT_COLOR)),b(this,ji,(e==null?void 0:e._uiManager)||t),b(this,gh,c(this,ji)._eventBus),b(this,pu,(e==null?void 0:e.color)||((i=c(this,ji))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ge(this,"_keyboardManager",new Dh([[["Escape","mac+Escape"],Dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Dr.prototype._moveToPrevious],[["Home","mac+Home"],Dr.prototype._moveToBeginning],[["End","mac+End"],Dr.prototype._moveToEnd]]))}renderButton(){const e=b(this,Ni,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,ji)._signal;e.addEventListener("click",_(this,st,Mo).bind(this),{signal:t}),e.addEventListener("keydown",c(this,dh),{signal:t});const i=b(this,wa,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=c(this,pu),e.append(i),e}renderMainDropdown(){const e=b(this,Lt,_(this,st,Ny).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Ni)){_(this,st,Mo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,st,jy).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,st,Bs)){_(this,st,Mo).call(this,e);return}if(e.target===c(this,Ni)){(t=c(this,Lt).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,Lt))==null?void 0:t.firstChild)||e.target===c(this,Ni)){c(this,st,Bs)&&this._hideDropdownFromKeyboard();return}c(this,st,Bs)||_(this,st,Mo).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,st,Bs)){_(this,st,Mo).call(this,e);return}(t=c(this,Lt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,st,Bs)){_(this,st,Mo).call(this,e);return}(t=c(this,Lt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,Lt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,hh))}_hideDropdownFromKeyboard(){var e;if(!c(this,gu)){if(!c(this,st,Bs)){(e=c(this,ph))==null||e.unselect();return}this.hideDropdown(),c(this,Ni).focus({preventScroll:!0,focusVisible:c(this,fh)})}}updateColor(e){if(c(this,wa)&&(c(this,wa).style.backgroundColor=e),!c(this,Lt))return;const t=c(this,ji).highlightColors.values();for(const i of c(this,Lt).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Ni))==null||e.remove(),b(this,Ni,null),b(this,wa,null),(t=c(this,Lt))==null||t.remove(),b(this,Lt,null)}};dh=new WeakMap,hh=new WeakMap,Ni=new WeakMap,wa=new WeakMap,pu=new WeakMap,Lt=new WeakMap,fh=new WeakMap,gu=new WeakMap,ph=new WeakMap,gh=new WeakMap,ji=new WeakMap,mu=new WeakMap,st=new WeakSet,Ny=function(){const e=document.createElement("div"),t=c(this,ji)._signal;e.addEventListener("contextmenu",Mn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of c(this,ji).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=i,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=s,o.setAttribute("aria-selected",s===c(this,pu)),o.addEventListener("click",_(this,st,jy).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",c(this,dh),{signal:t}),e},jy=function(e,t){t.stopPropagation(),c(this,gh).dispatch("switchannotationeditorparams",{source:this,type:c(this,mu),value:e})},d_=function(e){Dr._keyboardManager.exec(this,e)},Mo=function(e){if(c(this,st,Bs)){this.hideDropdown();return}if(b(this,fh,e.detail===0),window.addEventListener("pointerdown",c(this,hh),{signal:c(this,ji)._signal}),c(this,Lt)){c(this,Lt).classList.remove("hidden");return}const t=b(this,Lt,_(this,st,Ny).call(this));c(this,Ni).append(t)},h_=function(e){var t;(t=c(this,Lt))!=null&&t.contains(e.target)||this.hideDropdown()},Bs=function(){return c(this,Lt)&&!c(this,Lt).classList.contains("hidden")};let qp=Dr;var vu,mh,to,Aa,yu,fi,vh,yh,Ea,Bi,fn,Qn,fg,wu,Sa,Mt,Au,or,wh,He,By,zy,f_,p_,g_,Hy,Nc,vi,El,m_,Pp,jc,v_,y_,w_,A_;const Ye=class Ye extends Ze{constructor(t){super({...t,name:"highlightEditor"});T(this,He);T(this,vu,null);T(this,mh,0);T(this,to);T(this,Aa,null);T(this,yu,null);T(this,fi,null);T(this,vh,null);T(this,yh,0);T(this,Ea,null);T(this,Bi,null);T(this,fn,null);T(this,Qn,!1);T(this,fg,_(this,He,m_).bind(this));T(this,wu,null);T(this,Sa);T(this,Mt,null);T(this,Au,"");T(this,or);T(this,wh,"");this.color=t.color||Ye._defaultColor,b(this,or,t.thickness||Ye._defaultThickness),b(this,Sa,t.opacity||Ye._defaultOpacity),b(this,to,t.boxes||null),b(this,wh,t.methodOfCreation||""),b(this,Au,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Qn,!0),_(this,He,zy).call(this,t),_(this,He,Nc).call(this)):(b(this,vu,t.anchorNode),b(this,mh,t.anchorOffset),b(this,vh,t.focusNode),b(this,yh,t.focusOffset),_(this,He,By).call(this),_(this,He,Nc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ye.prototype;return Ge(this,"_keyboardManager",new Dh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Qn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,or),methodOfCreation:c(this,wh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;Ze.initialize(t,i),Ye._defaultColor||(Ye._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case De.HIGHLIGHT_DEFAULT_COLOR:Ye._defaultColor=i;break;case De.HIGHLIGHT_THICKNESS:Ye._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,wu)}updateParams(t,i){switch(t){case De.HIGHLIGHT_COLOR:_(this,He,f_).call(this,i);break;case De.HIGHLIGHT_THICKNESS:_(this,He,p_).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[De.HIGHLIGHT_DEFAULT_COLOR,Ye._defaultColor],[De.HIGHLIGHT_THICKNESS,Ye._defaultThickness]]}get propertiesToUpdate(){return[[De.HIGHLIGHT_COLOR,this.color||Ye._defaultColor],[De.HIGHLIGHT_THICKNESS,c(this,or)||Ye._defaultThickness],[De.HIGHLIGHT_FREE,c(this,Qn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,yu,new qp({editor:this})),t.addColorPicker(c(this,yu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,He,jc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,_(this,He,jc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,He,Hy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,He,Nc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?_(this,He,Hy).call(this):t&&(_(this,He,Nc).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var o,u,d;const{drawLayer:i}=this.parent;let s;c(this,Qn)?(t=(t-this.rotation+360)%360,s=_(o=Ye,vi,El).call(o,c(this,Bi).box,t)):s=_(u=Ye,vi,El).call(u,this,t),i.rotate(c(this,fn),t),i.rotate(c(this,Mt),t),i.updateBox(c(this,fn),s),i.updateBox(c(this,Mt),_(d=Ye,vi,El).call(d,c(this,fi).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,Au)&&(t.setAttribute("aria-label",c(this,Au)),t.setAttribute("role","mark")),c(this,Qn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,fg),{signal:this._uiManager._signal});const i=b(this,Ea,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,Aa);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),Up(this,c(this,Ea),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Mt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Mt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,He,Pp).call(this,!0);break;case 1:case 3:_(this,He,Pp).call(this,!1);break}}select(){var t,i;super.select(),c(this,Mt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Mt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,Mt),"selected"))}unselect(){var t;super.unselect(),c(this,Mt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Mt),"selected"),c(this,Qn)||_(this,He,Pp).call(this,!1))}get _mustFixPosition(){return!c(this,Qn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,fn),t),this.parent.drawLayer.show(c(this,Mt),t))}static startHighlighting(t,i,{target:s,x:o,y:u}){const{x:d,y:f,width:p,height:g}=s.getBoundingClientRect(),v=C=>{_(this,vi,w_).call(this,t,C)},w=t._signal,E={capture:!0,passive:!1,signal:w},A=C=>{C.preventDefault(),C.stopPropagation()},x=C=>{s.removeEventListener("pointermove",v),window.removeEventListener("blur",x),window.removeEventListener("pointerup",x),window.removeEventListener("pointerdown",A,E),window.removeEventListener("contextmenu",Mn),_(this,vi,A_).call(this,t,C)};window.addEventListener("blur",x,{signal:w}),window.addEventListener("pointerup",x,{signal:w}),window.addEventListener("pointerdown",A,E),window.addEventListener("contextmenu",Mn,{signal:w}),s.addEventListener("pointermove",v,{signal:w}),this._freeHighlight=new Gp({x:o,y:u},[d,f,p,g],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,s){var x;const o=super.deserialize(t,i,s),{rect:[u,d,f,p],color:g,quadPoints:v}=t;o.color=Ee.makeHexColor(...g),b(o,Sa,t.opacity);const[w,E]=o.pageDimensions;o.width=(f-u)/w,o.height=(p-d)/E;const A=b(o,to,[]);for(let C=0;C<v.length;C+=8)A.push({x:(v[4]-f)/w,y:(p-(1-v[C+5]))/E,width:(v[C+2]-v[C])/w,height:(v[C+5]-v[C+1])/E});return _(x=o,He,By).call(x),o}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),s=Ze._colorManager.convert(this.color);return{annotationType:$e.HIGHLIGHT,color:s,opacity:c(this,Sa),thickness:c(this,or),quadPoints:_(this,He,v_).call(this),outlines:_(this,He,y_).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,He,jc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};vu=new WeakMap,mh=new WeakMap,to=new WeakMap,Aa=new WeakMap,yu=new WeakMap,fi=new WeakMap,vh=new WeakMap,yh=new WeakMap,Ea=new WeakMap,Bi=new WeakMap,fn=new WeakMap,Qn=new WeakMap,fg=new WeakMap,wu=new WeakMap,Sa=new WeakMap,Mt=new WeakMap,Au=new WeakMap,or=new WeakMap,wh=new WeakMap,He=new WeakSet,By=function(){const t=new Dy(c(this,to),.001);b(this,Bi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Bi).box;const i=new Dy(c(this,to),.0025,.001,this._uiManager.direction==="ltr");b(this,fi,i.getOutlines());const{lastPoint:s}=c(this,fi).box;b(this,wu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},zy=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var v,w;if(b(this,Bi,t),b(this,fi,t.getNewOutline(c(this,or)/2+1.5,.0025)),i>=0)b(this,fn,i),b(this,Aa,s),this.parent.drawLayer.finalizeLine(i,t),b(this,Mt,this.parent.drawLayer.highlightOutline(c(this,fi)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,fn),t),this.parent.drawLayer.updateBox(c(this,fn),_(v=Ye,vi,El).call(v,c(this,Bi).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Mt),c(this,fi)),this.parent.drawLayer.updateBox(c(this,Mt),_(w=Ye,vi,El).call(w,c(this,fi).box,E))}const{x:u,y:d,width:f,height:p}=t.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=p;break;case 90:{const[E,A]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*A/E,this.height=p*E/A;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=p;break;case 270:{const[E,A]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*A/E,this.height=p*E/A;break}}const{lastPoint:g}=c(this,fi).box;b(this,wu,[(g[0]-u)/f,(g[1]-d)/p])},f_=function(t){const i=o=>{var u,d;this.color=o,(u=this.parent)==null||u.drawLayer.changeColor(c(this,fn),o),(d=c(this,yu))==null||d.updateColor(o)},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},p_=function(t){const i=c(this,or),s=o=>{b(this,or,o),_(this,He,g_).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},g_=function(t){if(!c(this,Qn))return;_(this,He,zy).call(this,{highlightOutlines:c(this,Bi).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},Hy=function(){c(this,fn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,fn)),b(this,fn,null),this.parent.drawLayer.remove(c(this,Mt)),b(this,Mt,null))},Nc=function(t=this.parent){c(this,fn)===null&&({id:Un(this,fn)._,clipPathId:Un(this,Aa)._}=t.drawLayer.highlight(c(this,Bi),this.color,c(this,Sa)),b(this,Mt,t.drawLayer.highlightOutline(c(this,fi))),c(this,Ea)&&(c(this,Ea).style.clipPath=c(this,Aa)))},vi=new WeakSet,El=function({x:t,y:i,width:s,height:o},u){switch(u){case 90:return{x:1-i-o,y:t,width:o,height:s};case 180:return{x:1-t-s,y:1-i-o,width:s,height:o};case 270:return{x:i,y:1-t-s,width:o,height:s}}return{x:t,y:i,width:s,height:o}},m_=function(t){Ye._keyboardManager.exec(this,t)},Pp=function(t){if(!c(this,vu))return;const i=window.getSelection();t?i.setPosition(c(this,vu),c(this,mh)):i.setPosition(c(this,vh),c(this,yh))},jc=function(){return c(this,Qn)?this.rotation:0},v_=function(){if(c(this,Qn))return null;const[t,i]=this.pageDimensions,s=c(this,to),o=new Float32Array(s.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of s){const v=d*t,w=(1-f-g)*i;o[u]=o[u+4]=v,o[u+1]=o[u+3]=w,o[u+2]=o[u+6]=v+p*t,o[u+5]=o[u+7]=w+g*i,u+=8}return o},y_=function(t){return c(this,Bi).serialize(t,_(this,He,jc).call(this))},w_=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},A_=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},T(Ye,vi),Ie(Ye,"_defaultColor",null),Ie(Ye,"_defaultOpacity",1),Ie(Ye,"_defaultThickness",12),Ie(Ye,"_l10nPromise"),Ie(Ye,"_type","highlight"),Ie(Ye,"_editorType",$e.HIGHLIGHT),Ie(Ye,"_freeHighlightId",-1),Ie(Ye,"_freeHighlight",null),Ie(Ye,"_freeHighlightClipId","");let Xp=Ye;var ba,_a,Ah,Eh,Sh,xa,ar,Jr,pi,Ca,Ta,Zr,ka,Ra,no,ce,E_,S_,b_,__,$y,x_,Vy,C_,T_,k_,R_,P_,Do,Wy,Lp,Mp,Sl,Gy,Dp,cs,L_,qy,M_,D_,Xy,Ip,Bc;const pt=class pt extends Ze{constructor(t){super({...t,name:"inkEditor"});T(this,ce);T(this,ba,0);T(this,_a,0);T(this,Ah,this.canvasPointermove.bind(this));T(this,Eh,this.canvasPointerleave.bind(this));T(this,Sh,this.canvasPointerup.bind(this));T(this,xa,this.canvasPointerdown.bind(this));T(this,ar,null);T(this,Jr,new Path2D);T(this,pi,!1);T(this,Ca,!1);T(this,Ta,!1);T(this,Zr,null);T(this,ka,0);T(this,Ra,0);T(this,no,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){Ze.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case De.INK_THICKNESS:pt._defaultThickness=i;break;case De.INK_COLOR:pt._defaultColor=i;break;case De.INK_OPACITY:pt._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case De.INK_THICKNESS:_(this,ce,E_).call(this,i);break;case De.INK_COLOR:_(this,ce,S_).call(this,i);break;case De.INK_OPACITY:_(this,ce,b_).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[De.INK_THICKNESS,pt._defaultThickness],[De.INK_COLOR,pt._defaultColor||Ze._defaultLineColor],[De.INK_OPACITY,Math.round(pt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[De.INK_THICKNESS,this.thickness||pt._defaultThickness],[De.INK_COLOR,this.color||pt._defaultColor||Ze._defaultLineColor],[De.INK_OPACITY,Math.round(100*(this.opacity??pt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,ce,Lp).call(this),_(this,ce,Mp).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,ce,Sl).call(this)),_(this,ce,Bc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,ar)&&(clearTimeout(c(this,ar)),b(this,ar,null)),(t=c(this,Zr))==null||t.disconnect(),b(this,Zr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,s=this.width*t,o=this.height*i;this.setDimensions(s,o)}enableEditMode(){c(this,pi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,xa),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,xa)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,pi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,pi,!0),this.div.classList.add("disabled"),_(this,ce,Bc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,pi)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,ce,x_).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,ce,Vy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,ce,Wy).call(this,t)}canvasPointerleave(t){_(this,ce,Wy).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,pi)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,o,u,d]=_(this,ce,__).call(this);if(this.setAt(s,o,0,0),this.setDims(u,d),_(this,ce,Lp).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(t*f,i*p,this.width*f,this.height*p),b(this,Ta,!0),_(this,ce,Sl).call(this),this.setDims(this.width*f,this.height*p),_(this,ce,Do).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,ce,Mp).call(this),this.div}setDimensions(t,i){const s=Math.round(t),o=Math.round(i);if(c(this,ka)===s&&c(this,Ra)===o)return;b(this,ka,s),b(this,Ra,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=t/u,this.height=i/d,this.fixAndSetPosition(),c(this,pi)&&_(this,ce,Gy).call(this,t,i),_(this,ce,Sl).call(this),_(this,ce,Do).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,s){var C,k,L;if(t instanceof Jb)return null;const o=super.deserialize(t,i,s);o.thickness=t.thickness,o.color=Ee.makeHexColor(...t.color),o.opacity=t.opacity;const[u,d]=o.pageDimensions,f=o.width*u,p=o.height*d,g=o.parentScale,v=t.thickness/2;b(o,pi,!0),b(o,ka,Math.round(f)),b(o,Ra,Math.round(p));const{paths:w,rect:E,rotation:A}=t;for(let{bezier:I}of w){I=_(C=pt,cs,M_).call(C,I,E,A);const O=[];o.paths.push(O);let F=g*(I[0]-v),B=g*(I[1]-v);for(let K=2,X=I.length;K<X;K+=6){const Z=g*(I[K]-v),re=g*(I[K+1]-v),Se=g*(I[K+2]-v),he=g*(I[K+3]-v),ae=g*(I[K+4]-v),ne=g*(I[K+5]-v);O.push([[F,B],[Z,re],[Se,he],[ae,ne]]),F=ae,B=ne}const q=_(this,cs,L_).call(this,O);o.bezierPath2D.push(q)}const x=_(k=o,ce,Xy).call(k);return b(o,_a,Math.max(Ze.MIN_SIZE,x[2]-x[0])),b(o,ba,Math.max(Ze.MIN_SIZE,x[3]-x[1])),_(L=o,ce,Gy).call(L,f,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=Ze._colorManager.convert(this.ctx.strokeStyle);return{annotationType:$e.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:_(this,ce,D_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ba=new WeakMap,_a=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,xa=new WeakMap,ar=new WeakMap,Jr=new WeakMap,pi=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,Zr=new WeakMap,ka=new WeakMap,Ra=new WeakMap,no=new WeakMap,ce=new WeakSet,E_=function(t){const i=o=>{this.thickness=o,_(this,ce,Bc).call(this)},s=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},S_=function(t){const i=o=>{this.color=o,_(this,ce,Do).call(this)},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},b_=function(t){const i=o=>{this.opacity=o,_(this,ce,Do).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},__=function(){const{parentRotation:t,parentDimensions:[i,s]}=this;switch(t){case 90:return[0,s,s,i];case 180:return[i,s,i,s];case 270:return[i,0,s,i];default:return[0,0,i,s]}},$y=function(){const{ctx:t,color:i,opacity:s,thickness:o,parentScale:u,scaleFactor:d}=this;t.lineWidth=o*u/d,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${dR(s)}`},x_=function(t,i){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Mn,{signal:s}),this.canvas.addEventListener("pointerleave",c(this,Eh),{signal:s}),this.canvas.addEventListener("pointermove",c(this,Ah),{signal:s}),this.canvas.addEventListener("pointerup",c(this,Sh),{signal:s}),this.canvas.removeEventListener("pointerdown",c(this,xa)),this.isEditing=!0,c(this,Ta)||(b(this,Ta,!0),_(this,ce,Sl).call(this),this.thickness||(this.thickness=pt._defaultThickness),this.color||(this.color=pt._defaultColor||Ze._defaultLineColor),this.opacity??(this.opacity=pt._defaultOpacity)),this.currentPath.push([t,i]),b(this,Ca,!1),_(this,ce,$y).call(this),b(this,no,()=>{_(this,ce,k_).call(this),c(this,no)&&window.requestAnimationFrame(c(this,no))}),window.requestAnimationFrame(c(this,no))},Vy=function(t,i){const[s,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&i===o)return;const u=this.currentPath;let d=c(this,Jr);if(u.push([t,i]),b(this,Ca,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(t,i);return}u.length===3&&(b(this,Jr,d=new Path2D),d.moveTo(...u[0])),_(this,ce,R_).call(this,d,...u.at(-3),...u.at(-2),t,i)},C_=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Jr).lineTo(...t)},T_=function(t,i){b(this,no,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),_(this,ce,Vy).call(this,t,i),_(this,ce,C_).call(this);let s;if(this.currentPath.length!==1)s=_(this,ce,P_).call(this);else{const p=[t,i];s=[[p,p.slice(),p.slice(),p]]}const o=c(this,Jr),u=this.currentPath;this.currentPath=[],b(this,Jr,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(s),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,ce,Lp).call(this),_(this,ce,Mp).call(this)),_(this,ce,Bc).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},k_=function(){if(!c(this,Ca))return;b(this,Ca,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),s=i.map(d=>d[0]),o=i.map(d=>d[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(c(this,Jr)),u.restore()},R_=function(t,i,s,o,u,d,f){const p=(i+o)/2,g=(s+u)/2,v=(o+d)/2,w=(u+f)/2;t.bezierCurveTo(p+2*(o-p)/3,g+2*(u-g)/3,v+2*(o-v)/3,w+2*(u-w)/3,v,w)},P_=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let s,[o,u]=t[0];for(s=1;s<t.length-2;s++){const[E,A]=t[s],[x,C]=t[s+1],k=(E+x)/2,L=(A+C)/2,I=[o+2*(E-o)/3,u+2*(A-u)/3],O=[k+2*(E-k)/3,L+2*(A-L)/3];i.push([[o,u],I,O,[k,L]]),[o,u]=[k,L]}const[d,f]=t[s],[p,g]=t[s+1],v=[o+2*(d-o)/3,u+2*(f-u)/3],w=[p+2*(d-p)/3,g+2*(f-g)/3];return i.push([[o,u],v,w,[p,g]]),i},Do=function(){if(this.isEmpty()){_(this,ce,Dp).call(this);return}_(this,ce,$y).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),_(this,ce,Dp).call(this);for(const s of this.bezierPath2D)i.stroke(s)},Wy=function(t){this.canvas.removeEventListener("pointerleave",c(this,Eh)),this.canvas.removeEventListener("pointermove",c(this,Ah)),this.canvas.removeEventListener("pointerup",c(this,Sh)),this.canvas.addEventListener("pointerdown",c(this,xa),{signal:this._uiManager._signal}),c(this,ar)&&clearTimeout(c(this,ar)),b(this,ar,setTimeout(()=>{b(this,ar,null),this.canvas.removeEventListener("contextmenu",Mn)},10)),_(this,ce,T_).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Lp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Mp=function(){b(this,Zr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,Zr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Zr))==null||t.disconnect(),b(this,Zr,null)},{once:!0})},Sl=function(){if(!c(this,Ta))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),_(this,ce,Dp).call(this)},Gy=function(t,i){const s=_(this,ce,Ip).call(this),o=(t-s)/c(this,_a),u=(i-s)/c(this,ba);this.scaleFactor=Math.min(o,u)},Dp=function(){const t=_(this,ce,Ip).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},cs=new WeakSet,L_=function(t){const i=new Path2D;for(let s=0,o=t.length;s<o;s++){const[u,d,f,p]=t[s];s===0&&i.moveTo(...u),i.bezierCurveTo(d[0],d[1],f[0],f[1],p[0],p[1])}return i},qy=function(t,i,s){const[o,u,d,f]=i;switch(s){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]+=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=t[p+1]+o,t[p+1]=v+u}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=d-t[p],t[p+1]+=u;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=d-t[p+1],t[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return t},M_=function(t,i,s){const[o,u,d,f]=i;switch(s){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]-=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=t[p+1]-u,t[p+1]=v-o}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=d-t[p],t[p+1]-=u;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=f-t[p+1],t[p+1]=d-v}break;default:throw new Error("Invalid rotation")}return t},D_=function(t,i,s,o){var g,v;const u=[],d=this.thickness/2,f=t*i+d,p=t*s+d;for(const w of this.paths){const E=[],A=[];for(let x=0,C=w.length;x<C;x++){const[k,L,I,O]=w[x];if(k[0]===O[0]&&k[1]===O[1]&&C===1){const he=t*k[0]+f,ae=t*k[1]+p;E.push(he,ae),A.push(he,ae);break}const F=t*k[0]+f,B=t*k[1]+p,q=t*L[0]+f,K=t*L[1]+p,X=t*I[0]+f,Z=t*I[1]+p,re=t*O[0]+f,Se=t*O[1]+p;x===0&&(E.push(F,B),A.push(F,B)),E.push(q,K,X,Z,re,Se),A.push(q,K),x===C-1&&A.push(re,Se)}u.push({bezier:_(g=pt,cs,qy).call(g,E,o,this.rotation),points:_(v=pt,cs,qy).call(v,A,o,this.rotation)})}return u},Xy=function(){let t=1/0,i=-1/0,s=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,p,g]of u){const v=Ee.bezierBoundingBox(...d,...f,...p,...g);t=Math.min(t,v[0]),s=Math.min(s,v[1]),i=Math.max(i,v[2]),o=Math.max(o,v[3])}return[t,s,i,o]},Ip=function(){return c(this,pi)?Math.ceil(this.thickness*this.parentScale):0},Bc=function(t=!1){if(this.isEmpty())return;if(!c(this,pi)){_(this,ce,Do).call(this);return}const i=_(this,ce,Xy).call(this),s=_(this,ce,Ip).call(this);b(this,_a,Math.max(Ze.MIN_SIZE,i[2]-i[0])),b(this,ba,Math.max(Ze.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(s+c(this,_a)*this.scaleFactor),u=Math.ceil(s+c(this,ba)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const p=this.translationX,g=this.translationY;this.translationX=-i[0],this.translationY=-i[1],_(this,ce,Sl).call(this),_(this,ce,Do).call(this),b(this,ka,o),b(this,Ra,u),this.setDims(o,u);const v=t?s/this.scaleFactor/2:0;this.translate(p-this.translationX-v,g-this.translationY-v)},T(pt,cs),Ie(pt,"_defaultColor",null),Ie(pt,"_defaultOpacity",1),Ie(pt,"_defaultThickness",1),Ie(pt,"_type","ink"),Ie(pt,"_editorType",$e.INK);let Uy=pt;var Kt,Yt,io,es,ro,Eu,lr,ts,ur,zi,bh,Ke,zc,Hc,Op,Yy,I_,O_,Qy,Fp,F_;const Wc=class Wc extends Ze{constructor(t){super({...t,name:"stampEditor"});T(this,Ke);T(this,Kt,null);T(this,Yt,null);T(this,io,null);T(this,es,null);T(this,ro,null);T(this,Eu,"");T(this,lr,null);T(this,ts,null);T(this,ur,null);T(this,zi,!1);T(this,bh,!1);b(this,es,t.bitmapUrl),b(this,ro,t.bitmapFile)}static initialize(t,i){Ze.initialize(t,i)}static get supportedTypes(){return Ge(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ge(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor($e.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,Yt)&&(b(this,Kt,null),this._uiManager.imageManager.deleteId(c(this,Yt)),(t=c(this,lr))==null||t.remove(),b(this,lr,null),(i=c(this,ts))==null||i.disconnect(),b(this,ts,null),c(this,ur)&&(clearTimeout(c(this,ur)),b(this,ur,null))),super.remove()}rebuild(){if(!this.parent){c(this,Yt)&&_(this,Ke,Op).call(this);return}super.rebuild(),this.div!==null&&(c(this,Yt)&&c(this,lr)===null&&_(this,Ke,Op).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,io)||c(this,Kt)||c(this,es)||c(this,ro)||c(this,Yt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Kt)?_(this,Ke,Yy).call(this):_(this,Ke,Op).call(this),this.width){const[s,o]=this.parentDimensions;this.setAt(t*s,i*o,this.width*s,this.height*o)}return this.div}getImageForAltText(){return c(this,lr)}static deserialize(t,i,s){if(t instanceof Zb)return null;const o=super.deserialize(t,i,s),{rect:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:g}=t;f&&s.imageManager.isValidId(f)?b(o,Yt,f):b(o,es,d),b(o,zi,p);const[v,w]=o.pageDimensions;return o.width=(u[2]-u[0])/v,o.height=(u[3]-u[1])/w,g&&(o.altTextData=g),o}serialize(t=!1,i=null){if(this.isEmpty())return null;const s={annotationType:$e.STAMP,bitmapId:c(this,Yt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,zi),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=_(this,Ke,Fp).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:o,altText:u}=this.altTextData;if(!o&&u&&(s.accessibilityData={type:"Figure",alt:u}),i===null)return s;i.stamps||(i.stamps=new Map);const d=c(this,zi)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(c(this,Yt)))i.stamps.set(c(this,Yt),{area:d,serialized:s}),s.bitmap=_(this,Ke,Fp).call(this,!1);else if(c(this,zi)){const f=i.stamps.get(c(this,Yt));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,Ke,Fp).call(this,!1))}return s}};Kt=new WeakMap,Yt=new WeakMap,io=new WeakMap,es=new WeakMap,ro=new WeakMap,Eu=new WeakMap,lr=new WeakMap,ts=new WeakMap,ur=new WeakMap,zi=new WeakMap,bh=new WeakMap,Ke=new WeakSet,zc=function(t,i=!1){if(!t){this.remove();return}b(this,Kt,t.bitmap),i||(b(this,Yt,t.id),b(this,zi,t.isSvg)),t.file&&b(this,Eu,t.file.name),_(this,Ke,Yy).call(this)},Hc=function(){b(this,io,null),this._uiManager.enableWaiting(!1),c(this,lr)&&this.div.focus()},Op=function(){if(c(this,Yt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Yt)).then(s=>_(this,Ke,zc).call(this,s,!0)).finally(()=>_(this,Ke,Hc).call(this));return}if(c(this,es)){const s=c(this,es);b(this,es,null),this._uiManager.enableWaiting(!0),b(this,io,this._uiManager.imageManager.getFromUrl(s).then(o=>_(this,Ke,zc).call(this,o)).finally(()=>_(this,Ke,Hc).call(this)));return}if(c(this,ro)){const s=c(this,ro);b(this,ro,null),this._uiManager.enableWaiting(!0),b(this,io,this._uiManager.imageManager.getFromFile(s).then(o=>_(this,Ke,zc).call(this,o)).finally(()=>_(this,Ke,Hc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Wc.supportedTypesStr;const i=this._uiManager._signal;b(this,io,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,Ke,zc).call(this,o)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>_(this,Ke,Hc).call(this))),t.click()},Yy=function(){const{div:t}=this;let{width:i,height:s}=c(this,Kt);const[o,u]=this.pageDimensions,d=.75;if(this.width)i=this.width*o,s=this.height*u;else if(i>d*o||s>d*u){const v=Math.min(d*o/i,d*u/s);i*=v,s*=v}const[f,p]=this.parentDimensions;this.setDims(i*f/o,s*p/u),this._uiManager.enableWaiting(!1);const g=b(this,lr,document.createElement("canvas"));t.append(g),t.hidden=!1,_(this,Ke,Qy).call(this,i,s),_(this,Ke,F_).call(this),c(this,bh)||(this.parent.addUndoableEditor(this),b(this,bh,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Eu)&&g.setAttribute("aria-label",c(this,Eu))},I_=function(t,i){var d;const[s,o]=this.parentDimensions;this.width=t/s,this.height=i/o,this.setDims(t,i),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,ur)!==null&&clearTimeout(c(this,ur)),b(this,ur,setTimeout(()=>{b(this,ur,null),_(this,Ke,Qy).call(this,t,i)},200))},O_=function(t,i){const{width:s,height:o}=c(this,Kt);let u=s,d=o,f=c(this,Kt);for(;u>2*t||d>2*i;){const p=u,g=d;u>2*t&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*i&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(u,d);v.getContext("2d").drawImage(f,0,0,p,g,0,0,u,d),f=v.transferToImageBitmap()}return f},Qy=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const s=c(this,lr);if(!s||s.width===t&&s.height===i)return;s.width=t,s.height=i;const o=c(this,zi)?c(this,Kt):_(this,Ke,O_).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const f=new OffscreenCanvas(t,i).getContext("2d");f.drawImage(o,0,0,o.width,o.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:f.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(p=>{const g=(p==null?void 0:p.output)||"";this.parent&&g&&!this.hasAltText()&&(this.altTextData={altText:g,decorative:!1})})}const u=s.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(o,0,0,o.width,o.height,0,0,t,i)},Fp=function(t){if(t){if(c(this,zi)){const o=this._uiManager.imageManager.getSvgUrl(c(this,Yt));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,Kt),i.getContext("2d").drawImage(c(this,Kt),0,0),i.toDataURL()}if(c(this,zi)){const[i,s]=this.pageDimensions,o=Math.round(this.width*i*uo.PDF_TO_CSS_UNITS),u=Math.round(this.height*s*uo.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(c(this,Kt),0,0,c(this,Kt).width,c(this,Kt).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(c(this,Kt))},F_=function(){this._uiManager._signal&&(b(this,ts,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&_(this,Ke,I_).call(this,i.width,i.height)})),c(this,ts).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,ts))==null||t.disconnect(),b(this,ts,null)},{once:!0}))},Ie(Wc,"_type","stamp"),Ie(Wc,"_editorType",$e.STAMP);let Ky=Wc;var Pa,Su,cr,La,ns,is,rs,Jn,so,bu,_u,pn,_e,oo,Qt,N_,Zy,e0,t0,Np;const Ci=class Ci{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:s,annotationLayer:o,drawLayer:u,textLayer:d,viewport:f,l10n:p}){T(this,Qt);T(this,Pa);T(this,Su,!1);T(this,cr,null);T(this,La,null);T(this,ns,null);T(this,is,null);T(this,rs,null);T(this,Jn,new Map);T(this,so,!1);T(this,bu,!1);T(this,_u,!1);T(this,pn,null);T(this,_e);const g=[...c(Ci,oo).values()];if(!Ci._initialized){Ci._initialized=!0;for(const v of g)v.initialize(p,e)}e.registerEditorTypes(g),b(this,_e,e),this.pageIndex=t,this.div=i,b(this,Pa,s),b(this,cr,o),this.viewport=f,b(this,pn,d),this.drawLayer=u,c(this,_e).addLayer(this)}get isEmpty(){return c(this,Jn).size===0}get isInvisible(){return this.isEmpty&&c(this,_e).getMode()===$e.NONE}updateToolbar(e){c(this,_e).updateToolbar(e)}updateMode(e=c(this,_e).getMode()){switch(_(this,Qt,Np).call(this),e){case $e.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case $e.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case $e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c(Ci,oo).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,pn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,_e).getMode()!==$e.INK)return;if(!e){for(const i of c(this,Jn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,_e).setEditingState(e)}addCommands(e){c(this,_e).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,cr))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,Jn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,_e).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,cr))return;const t=c(this,cr).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,_e).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;b(this,_u,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of c(this,Jn).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(c(this,cr)){const o=c(this,cr).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(c(this,_e).isDeletedAnnotationElement(d))continue;let f=t.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=e.get(d),f&&(c(this,_e).addChangedExistingAnnotation(f),f.renderAnnotationElement(u),f.show(!1)),u.show()}}_(this,Qt,Np).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of c(Ci,oo).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,_u,!1)}getEditableAnnotation(e){var t;return((t=c(this,cr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,_e).getActive()!==e&&c(this,_e).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,pn))!=null&&e.div&&!c(this,is)&&(b(this,is,_(this,Qt,N_).bind(this)),c(this,pn).div.addEventListener("pointerdown",c(this,is),{signal:c(this,_e)._signal}),c(this,pn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,pn))!=null&&e.div&&c(this,is)&&(c(this,pn).div.removeEventListener("pointerdown",c(this,is)),b(this,is,null),c(this,pn).div.classList.remove("highlighting"))}enableClick(){if(c(this,ns))return;const e=c(this,_e)._signal;b(this,ns,this.pointerdown.bind(this)),b(this,La,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,ns),{signal:e}),this.div.addEventListener("pointerup",c(this,La),{signal:e})}disableClick(){c(this,ns)&&(this.div.removeEventListener("pointerdown",c(this,ns)),this.div.removeEventListener("pointerup",c(this,La)),b(this,ns,null),b(this,La,null))}attach(e){c(this,Jn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,_e).isDeletedAnnotationElement(t)&&c(this,_e).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Jn).delete(e.id),(t=c(this,Pa))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,_u)&&e.annotationElementId&&c(this,_e).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,_e).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,bu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,_e).addDeletedAnnotationElement(e.annotationElementId),Ze.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,_e).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,_e).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,rs)&&(e._focusEventsAllowed=!1,b(this,rs,setTimeout(()=>{b(this,rs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,_e)._signal}),t.focus())},0))),e._structTreeParentId=(i=c(this,Pa))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,_e).getId()}get _signal(){return c(this,_e)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,Qt,Zy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,_e).updateToolbar(e),c(this,_e).updateMode(e);const{offsetX:i,offsetY:s}=_(this,Qt,t0).call(this),o=this.getNextId(),u=_(this,Qt,e0).call(this,{parent:this,id:o,x:i,y:s,uiManager:c(this,_e),isCentered:!0,...t});u&&this.add(u)}deserialize(e){var t;return((t=c(Ci,oo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,_e)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),o=_(this,Qt,e0).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:c(this,_e),isCentered:t,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(_(this,Qt,t0).call(this),!0)}setSelected(e){c(this,_e).setSelected(e)}toggleSelected(e){c(this,_e).toggleSelected(e)}isSelected(e){return c(this,_e).isSelected(e)}unselect(e){c(this,_e).unselect(e)}pointerup(e){const{isMac:t}=kn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,so)){if(b(this,so,!1),!c(this,Su)){b(this,Su,!0);return}if(c(this,_e).getMode()===$e.STAMP){c(this,_e).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,_e).getMode()===$e.HIGHLIGHT&&this.enableTextSelection(),c(this,so)){b(this,so,!1);return}const{isMac:t}=kn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,so,!0);const i=c(this,_e).getActive();b(this,Su,!i||i.isEmpty())}findNewParent(e,t,i){const s=c(this,_e).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=c(this,_e).getActive())==null?void 0:e.parent)===this&&(c(this,_e).commitOrRemove(),c(this,_e).setActiveEditor(null)),c(this,rs)&&(clearTimeout(c(this,rs)),b(this,rs,null));for(const i of c(this,Jn).values())(t=c(this,Pa))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,Jn).clear(),c(this,_e).removeLayer(this)}render({viewport:e}){this.viewport=e,Oa(this.div,e);for(const t of c(this,_e).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,_e).commitOrRemove(),_(this,Qt,Np).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Oa(this.div,{rotation:i}),t!==i)for(const s of c(this,Jn).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,_e).viewParameters.realScale}};Pa=new WeakMap,Su=new WeakMap,cr=new WeakMap,La=new WeakMap,ns=new WeakMap,is=new WeakMap,rs=new WeakMap,Jn=new WeakMap,so=new WeakMap,bu=new WeakMap,_u=new WeakMap,pn=new WeakMap,_e=new WeakMap,oo=new WeakMap,Qt=new WeakSet,N_=function(e){if(c(this,_e).unselectAll(),e.target===c(this,pn).div){const{isMac:t}=kn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,_e).showAllEditors("highlight",!0,!0),c(this,pn).div.classList.add("free"),Xp.startHighlighting(this,c(this,_e).direction==="ltr",e),c(this,pn).div.addEventListener("pointerup",()=>{c(this,pn).div.classList.remove("free")},{once:!0,signal:c(this,_e)._signal}),e.preventDefault()}},Zy=function(){return c(Ci,oo).get(c(this,_e).getMode())},e0=function(e){const t=c(this,Qt,Zy);return t?new t.prototype.constructor(e):null},t0=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),u=Math.max(0,t),d=Math.min(window.innerWidth,e+i),f=Math.min(window.innerHeight,t+s),p=(o+d)/2-e,g=(u+f)/2-t,[v,w]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:v,offsetY:w}},Np=function(){b(this,bu,!0);for(const e of c(this,Jn).values())e.isEmpty()&&e.remove();b(this,bu,!1)},Ie(Ci,"_initialized",!1),T(Ci,oo,new Map([Ly,Uy,Ky,Xp].map(e=>[e._editorType,e])));let Jy=Ci;var dr,_h,Dt,ao,xh,i0,za,r0,j_;const Vt=class Vt{constructor({pageIndex:e}){T(this,za);T(this,dr,null);T(this,_h,0);T(this,Dt,new Map);T(this,ao,new Map);this.pageIndex=e}setParent(e){if(!c(this,dr)){b(this,dr,e);return}if(c(this,dr)!==e){if(c(this,Dt).size>0)for(const t of c(this,Dt).values())t.remove(),e.append(t);b(this,dr,e)}}static get _svgFactory(){return Ge(this,"_svgFactory",new m0)}highlight(e,t,i,s=!1){const o=Un(this,_h)._++,u=_(this,za,r0).call(this,e.box);u.classList.add("highlight"),e.free&&u.classList.add("free");const d=Vt._svgFactory.createElement("defs");u.append(d);const f=Vt._svgFactory.createElement("path");d.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),s&&c(this,ao).set(o,f);const g=_(this,za,j_).call(this,d,p),v=Vt._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",t),u.setAttribute("fill-opacity",i),v.setAttribute("href",`#${p}`),c(this,Dt).set(o,u),{id:o,clipPathId:`url(#${g})`}}highlightOutline(e){const t=Un(this,_h)._++,i=_(this,za,r0).call(this,e.box);i.classList.add("highlightOutline");const s=Vt._svgFactory.createElement("defs");i.append(s);const o=Vt._svgFactory.createElement("path");s.append(o);const u=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",u),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(e.free){i.classList.add("free");const g=Vt._svgFactory.createElement("mask");s.append(g),d=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const v=Vt._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=Vt._svgFactory.createElement("use");g.append(w),w.setAttribute("href",`#${u}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=Vt._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),c(this,Dt).set(t,i),t}finalizeLine(e,t){const i=c(this,ao).get(e);c(this,ao).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Dt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,ao).delete(e)}updatePath(e,t){c(this,ao).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;_(i=Vt,xh,i0).call(i,c(this,Dt).get(e),t)}show(e,t){c(this,Dt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Dt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Dt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Dt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Dt).get(e).classList.add(t)}removeClass(e,t){c(this,Dt).get(e).classList.remove(t)}remove(e){c(this,dr)!==null&&(c(this,Dt).get(e).remove(),c(this,Dt).delete(e))}destroy(){b(this,dr,null);for(const e of c(this,Dt).values())e.remove();c(this,Dt).clear()}};dr=new WeakMap,_h=new WeakMap,Dt=new WeakMap,ao=new WeakMap,xh=new WeakSet,i0=function(e,{x:t=0,y:i=0,width:s=1,height:o=1}={}){const{style:u}=e;u.top=`${100*i}%`,u.left=`${100*t}%`,u.width=`${100*s}%`,u.height=`${100*o}%`},za=new WeakSet,r0=function(e){var i;const t=Vt._svgFactory.create(1,1,!0);return c(this,dr).append(t),t.setAttribute("aria-hidden",!0),_(i=Vt,xh,i0).call(i,t,e),t},j_=function(e,t){const i=Vt._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Vt._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},T(Vt,xh);let n0=Vt;Me.AbortException;Me.AnnotationEditorLayer;Me.AnnotationEditorParamsType;Me.AnnotationEditorType;Me.AnnotationEditorUIManager;var B_=Me.AnnotationLayer,z_=Me.AnnotationMode;Me.CMapCompressionType;Me.ColorPicker;Me.DOMSVGFactory;Me.DrawLayer;Me.FeatureTest;var _0=Me.GlobalWorkerOptions;Me.ImageKind;Me.InvalidPDFException;Me.MissingPDFException;Me.OPS;Me.Outliner;var UP=Me.PDFDataRangeTransport;Me.PDFDateString;Me.PDFWorker;Me.PasswordResponses;Me.PermissionFlag;Me.PixelsPerInch;Me.RenderingCancelledException;var H_=Me.TextLayer;Me.UnexpectedResponseException;Me.Util;Me.VerbosityLevel;Me.XfaLayer;Me.build;Me.createValidAbsoluteUrl;Me.fetchData;var U_=Me.getDocument;Me.getFilenameFromUrl;Me.getPdfFilenameFromUrl;Me.getXfaPageViewport;Me.isDataScheme;Me.isPdfFile;Me.noContextMenu;Me.normalizeUnicode;Me.renderTextLayer;Me.setLayerDimensions;Me.shadow;Me.updateTextLayer;Me.version;const $P=Object.freeze(Object.defineProperty({__proto__:null,AnnotationLayer:B_,AnnotationMode:z_,GlobalWorkerOptions:_0,PDFDataRangeTransport:UP,TextLayer:H_,getDocument:U_},Symbol.toStringTag,{value:"Module"}));var Bt=function(l,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return l.concat(o||Array.prototype.slice.call(e))},VP=["onCopy","onCut","onPaste"],WP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],GP=["onFocus","onBlur"],qP=["onInput","onInvalid","onReset","onSubmit"],XP=["onLoad","onError"],KP=["onKeyDown","onKeyPress","onKeyUp"],YP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],QP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],JP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],ZP=["onSelect"],eL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],tL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],nL=["onScroll"],iL=["onWheel"],rL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],sL=["onTransitionEnd"],oL=["onToggle"],aL=["onChange"],lL=Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt([],VP,!0),WP,!0),GP,!0),qP,!0),XP,!0),KP,!0),YP,!0),QP,!0),JP,!0),ZP,!0),eL,!0),tL,!0),nL,!0),iL,!0),rL,!0),sL,!0),aL,!0),oL,!0);function $_(l,e){var t={};return lL.forEach(function(i){var s=l[i];s&&(e?t[i]=(function(o){return s(o,e(i))}):t[i]=s)}),t}function Fh(l){var e=!1,t=new Promise(function(i,s){l.then(function(o){return!e&&i(o)}).catch(function(o){return!e&&s(o)})});return{promise:t,cancel:function(){e=!0}}}function V_(l){var e,t,i="";if(typeof l=="string"||typeof l=="number")i+=l;else if(typeof l=="object")if(Array.isArray(l)){var s=l.length;for(e=0;e<s;e++)l[e]&&(t=V_(l[e]))&&(i&&(i+=" "),i+=t)}else for(t in l)l[t]&&(i&&(i+=" "),i+=t);return i}function Pg(){for(var l,e,t=0,i="",s=arguments.length;t<s;t++)(l=arguments[t])&&(e=V_(l))&&(i&&(i+=" "),i+=e);return i}var uL="Invariant failed";function rt(l,e){if(!l)throw new Error(uL)}var Fv,YE;function cL(){if(YE)return Fv;YE=1;var l=function(){};return Fv=l,Fv}var dL=cL();const ln=dS(dL);var QE=Object.prototype.hasOwnProperty;function JE(l,e,t){for(t of l.keys())if(kl(t,e))return t}function kl(l,e){var t,i,s;if(l===e)return!0;if(l&&e&&(t=l.constructor)===e.constructor){if(t===Date)return l.getTime()===e.getTime();if(t===RegExp)return l.toString()===e.toString();if(t===Array){if((i=l.length)===e.length)for(;i--&&kl(l[i],e[i]););return i===-1}if(t===Set){if(l.size!==e.size)return!1;for(i of l)if(s=i,s&&typeof s=="object"&&(s=JE(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(l.size!==e.size)return!1;for(i of l)if(s=i[0],s&&typeof s=="object"&&(s=JE(e,s),!s)||!kl(i[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)l=new Uint8Array(l),e=new Uint8Array(e);else if(t===DataView){if((i=l.byteLength)===e.byteLength)for(;i--&&l.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(l)){if((i=l.byteLength)===e.byteLength)for(;i--&&l[i]===e[i];);return i===-1}if(!t||typeof l=="object"){i=0;for(t in l)if(QE.call(l,t)&&++i&&!QE.call(e,t)||!(t in e)||!kl(l[t],e[t]))return!1;return Object.keys(e).length===i}}return l!==l&&e!==e}const W_=j.createContext(null);function Rl({children:l,type:e}){return U.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:l})}const hL="noopener noreferrer nofollow";class fL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return rt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){rt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{rt(this.pdfDocument),rt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{rt(Array.isArray(t));const i=t[0];new Promise(s=>{rt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{s(o)}).catch(()=>{rt(!1)}):typeof i=="number"?s(i):rt(!1)}).then(s=>{const o=s+1;rt(this.pdfViewer),rt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;rt(this.pdfViewer),rt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||hL,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const ZE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lg=typeof document<"u",G_=Lg&&window.location.protocol==="file:";function pL(l){return typeof l<"u"}function Po(l){return pL(l)&&l!==null}function gL(l){return typeof l=="string"}function mL(l){return l instanceof ArrayBuffer}function vL(l){return rt(Lg),l instanceof Blob}function s0(l){return gL(l)&&/^data:/.test(l)}function eS(l){rt(s0(l));const[e="",t=""]=l.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function yL(){return Lg&&window.devicePixelRatio||1}const q_="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function tS(){ln(!G_,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${q_}`)}function wL(){ln(!G_,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${q_}`)}function ja(l){l!=null&&l.cancel&&l.cancel()}function o0(l,e){return Object.defineProperty(l,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function AL(l){return l.name==="RenderingCancelledException"}function EL(l){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(l)})}function SL(l,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function Cu(){return j.useReducer(SL,{value:void 0,error:void 0})}var bL=function(l,e,t,i){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function f(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?o(g.value):s(g.value).then(d,f)}p((i=i.apply(l,e||[])).next())})},nS=function(l,e){var t={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&e.indexOf(i)<0&&(t[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(l);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(l,i[s])&&(t[i[s]]=l[i[s]]);return t};const{PDFDataRangeTransport:_L}=$P,xL=(l,e)=>{switch(e){case ZE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");l(t);break}case ZE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");l(t);break}}};function iS(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const CL=j.forwardRef(function(e,t){var{children:i,className:s,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:p,imageResourcesPath:g,loading:v="Loading PDF",noData:w="No PDF file specified.",onItemClick:E,onLoadError:A,onLoadProgress:x,onLoadSuccess:C,onPassword:k=xL,onSourceError:L,onSourceSuccess:I,options:O,renderMode:F,rotate:B}=e,q=nS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[K,X]=Cu(),{value:Z,error:re}=K,[Se,he]=Cu(),{value:ae,error:ne}=Se,te=j.useRef(new fL),Q=j.useRef([]),W=j.useRef(void 0),le=j.useRef(void 0);f&&f!==W.current&&iS(f)&&(ln(!kl(f,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=f),O&&O!==le.current&&(ln(!kl(O,le.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),le.current=O);const se=j.useRef({scrollPageIntoView:Ve=>{const{dest:lt,pageNumber:bt,pageIndex:mt=bt-1}=Ve;if(E){E({dest:lt,pageIndex:mt,pageNumber:bt});return}const In=Q.current[mt];if(In){In.scrollIntoView();return}ln(!1,`An internal link leading to page ${bt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});j.useImperativeHandle(t,()=>({linkService:te,pages:Q,viewer:se}),[]);function P(){I&&I()}function z(){re&&(ln(!1,re.toString()),L&&L(re))}function oe(){X({type:"RESET"})}j.useEffect(oe,[f,X]);const pe=j.useCallback(()=>bL(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return s0(f)?{data:eS(f)}:(tS(),{url:f});if(f instanceof _L)return{range:f};if(mL(f))return{data:f};if(Lg&&vL(f))return{data:yield EL(f)};if(rt(typeof f=="object"),rt(iS(f)),"url"in f&&typeof f.url=="string"){if(s0(f.url)){const{url:Ve}=f,lt=nS(f,["url"]),bt=eS(Ve);return Object.assign({data:bt},lt)}tS()}return f}),[f]);j.useEffect(()=>{const Ve=Fh(pe());return Ve.promise.then(lt=>{X({type:"RESOLVE",value:lt})}).catch(lt=>{X({type:"REJECT",error:lt})}),()=>{ja(Ve)}},[pe,X]),j.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){z();return}P()}},[Z]);function ye(){ae&&(C&&C(ae),Q.current=new Array(ae.numPages),te.current.setDocument(ae))}function ke(){ne&&(ln(!1,ne.toString()),A&&A(ne))}j.useEffect(function(){he({type:"RESET"})},[he,Z]),j.useEffect(function(){if(!Z)return;const lt=Object.assign(Object.assign({},Z),O),bt=U_(lt);x&&(bt.onProgress=x),k&&(bt.onPassword=k);const mt=bt;return mt.promise.then(In=>{he({type:"RESOLVE",value:In})}).catch(In=>{mt.destroyed||he({type:"REJECT",error:In})}),()=>{mt.destroy()}},[O,he,Z]),j.useEffect(()=>{if(!(typeof ae>"u")){if(ae===!1){ke();return}ye()}},[ae]),j.useEffect(function(){te.current.setViewer(se.current),te.current.setExternalLinkRel(u),te.current.setExternalLinkTarget(d)},[u,d]);const be=j.useCallback((Ve,lt)=>{Q.current[Ve]=lt},[]),Re=j.useCallback(Ve=>{delete Q.current[Ve]},[]),Ne=j.useMemo(()=>({imageResourcesPath:g,linkService:te.current,onItemClick:E,pdf:ae,registerPage:be,renderMode:F,rotate:B,unregisterPage:Re}),[g,E,ae,be,F,B,Re]),Oe=j.useMemo(()=>$_(q,()=>ae),[q,ae]);function Dn(){return U.jsx(W_.Provider,{value:Ne,children:i})}function ti(){return f?ae==null?U.jsx(Rl,{type:"loading",children:typeof v=="function"?v():v}):ae===!1?U.jsx(Rl,{type:"error",children:typeof o=="function"?o():o}):Dn():U.jsx(Rl,{type:"no-data",children:typeof w=="function"?w():w})}return U.jsx("div",Object.assign({className:Pg("react-pdf__Document",s),ref:p,style:{"--scale-factor":"1"}},Oe,{children:ti()}))});function X_(){return j.useContext(W_)}function K_(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var t=l.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(o){t.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const Y_=j.createContext(null),Q_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},TL=/^H(\d+)$/;function kL(l){return l in Q_}function Mg(l){return"children"in l}function J_(l){return Mg(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function RL(l){const e={};if(Mg(l)){const{role:t}=l,i=t.match(TL);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(kL(t)){const s=Q_[t];s&&(e.role=s)}}return e}function Z_(l){const e={};if(Mg(l)){if(l.alt!==void 0&&(e["aria-label"]=l.alt),l.lang!==void 0&&(e.lang=l.lang),J_(l)){const[t]=l.children;if(t){const i=Z_(t);return Object.assign(Object.assign({},e),i)}}}else"id"in l&&(e["aria-owns"]=l.id);return e}function PL(l){return l?Object.assign(Object.assign({},RL(l)),Z_(l)):null}function ex({className:l,node:e}){const t=j.useMemo(()=>PL(e),[e]),i=j.useMemo(()=>!Mg(e)||J_(e)?null:e.children.map((s,o)=>U.jsx(ex,{node:s},o)),[e]);return U.jsx("span",Object.assign({className:l},t,{children:i}))}function Dg(){return j.useContext(Y_)}function LL(){const l=Dg();rt(l);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=l,[i,s]=Cu(),{value:o,error:u}=i,{customTextRenderer:d,page:f}=l;function p(){o&&t&&t(o)}function g(){u&&(ln(!1,u.toString()),e&&e(u))}return j.useEffect(function(){s({type:"RESET"})},[s,f]),j.useEffect(function(){if(d||!f)return;const w=Fh(f.getStructTree()),E=w;return w.promise.then(A=>{s({type:"RESOLVE",value:A})}).catch(A=>{s({type:"REJECT",error:A})}),()=>ja(E)},[d,f,s]),j.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?U.jsx(ex,{className:"react-pdf__Page__structTree structTree",node:o}):null}const rS=z_;function ML(l){const e=Dg();rt(e);const t=Object.assign(Object.assign({},e),l),{_className:i,canvasBackground:s,devicePixelRatio:o=yL(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:p,renderTextLayer:g,rotate:v,scale:w}=t,{canvasRef:E}=l;rt(f);const A=j.useRef(null);function x(){f&&d&&d(o0(f,w))}function C(O){AL(O)||(ln(!1,O.toString()),u&&u(O))}const k=j.useMemo(()=>f.getViewport({scale:w*o,rotation:v}),[o,f,v,w]),L=j.useMemo(()=>f.getViewport({scale:w,rotation:v}),[f,v,w]);j.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=A;if(!F)return;F.width=k.width,F.height=k.height,F.style.width=`${Math.floor(L.width)}px`,F.style.height=`${Math.floor(L.height)}px`,F.style.visibility="hidden";const B={annotationMode:p?rS.ENABLE_FORMS:rS.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:k};s&&(B.background=s);const q=f.render(B),K=q;return q.promise.then(()=>{F.style.visibility="",x()}).catch(C),()=>ja(K)},[s,f,p,k,L]);const I=j.useCallback(()=>{const{current:O}=A;O&&(O.width=0,O.height=0)},[]);return j.useEffect(()=>I,[I]),U.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:K_(E,A),style:{display:"block",userSelect:"none"},children:g?U.jsx(LL,{}):null})}function DL(l){return"str"in l}function IL(){const l=Dg();rt(l);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:u,pageIndex:d,pageNumber:f,rotate:p,scale:g}=l;rt(u);const[v,w]=Cu(),{value:E,error:A}=v,x=j.useRef(null),C=j.useRef(void 0);ln(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){E&&i&&i(E)}function L(){A&&(ln(!1,A.toString()),t&&t(A))}j.useEffect(function(){w({type:"RESET"})},[u,w]),j.useEffect(function(){if(!u)return;const X=Fh(u.getTextContent()),Z=X;return X.promise.then(re=>{w({type:"RESOLVE",value:re})}).catch(re=>{w({type:"REJECT",error:re})}),()=>ja(Z)},[u,w]),j.useEffect(()=>{if(E!==void 0){if(E===!1){L();return}k()}},[E]);const I=j.useCallback(()=>{o&&o()},[o]),O=j.useCallback(K=>{ln(!1,K.toString()),s&&s(K)},[s]);function F(){const K=C.current;K&&K.classList.add("active")}function B(){const K=C.current;K&&K.classList.remove("active")}const q=j.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return j.useLayoutEffect(function(){if(!u||!E)return;const{current:X}=x;if(!X)return;X.innerHTML="";const Z=u.streamTextContent({includeMarkedContent:!0}),re={container:X,textContentSource:Z,viewport:q},Se=new H_(re),he=Se;return Se.render().then(()=>{const ae=document.createElement("div");ae.className="endOfContent",X.append(ae),C.current=ae;const ne=X.querySelectorAll('[role="presentation"]');if(e){let te=0;E.items.forEach((Q,W)=>{if(!DL(Q))return;const le=ne[te];if(!le)return;const se=e(Object.assign({pageIndex:d,pageNumber:f,itemIndex:W},Q));le.innerHTML=se,te+=Q.str&&Q.hasEOL?2:1})}I()}).catch(O),()=>ja(he)},[e,O,I,u,d,f,E,q]),U.jsx("div",{className:Pg("react-pdf__Page__textContent","textLayer"),onMouseUp:B,onMouseDown:F,ref:x})}function OL(){const l=X_(),e=Dg();rt(e);const t=Object.assign(Object.assign({},l),e),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:g,renderForms:v,rotate:w,scale:E=1}=t;rt(g),rt(p),rt(s);const[A,x]=Cu(),{value:C,error:k}=A,L=j.useRef(null);ln(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function I(){C&&u&&u(C)}function O(){k&&(ln(!1,k.toString()),o&&o(k))}j.useEffect(function(){x({type:"RESET"})},[x,p]),j.useEffect(function(){if(!p)return;const X=Fh(p.getAnnotations()),Z=X;return X.promise.then(re=>{x({type:"RESOLVE",value:re})}).catch(re=>{x({type:"REJECT",error:re})}),()=>{ja(Z)}},[x,p]),j.useEffect(()=>{if(C!==void 0){if(C===!1){O();return}I()}},[C]);function F(){f&&f()}function B(K){ln(!1,`${K}`),d&&d(K)}const q=j.useMemo(()=>p.getViewport({scale:E,rotation:w}),[p,w,E]);return j.useEffect(function(){if(!g||!p||!s||!C)return;const{current:X}=L;if(!X)return;const Z=q.clone({dontFlip:!0}),re={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:p,viewport:Z},Se={annotations:C,annotationStorage:g.annotationStorage,div:X,imageResourcesPath:i,linkService:s,page:p,renderForms:v,viewport:Z};X.innerHTML="";try{new B_(re).render(Se),F()}catch(he){B(he)}return()=>{}},[C,i,s,p,g,v,q]),U.jsx("div",{className:Pg("react-pdf__Page__annotations","annotationLayer"),ref:L})}var FL=function(l,e){var t={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&e.indexOf(i)<0&&(t[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(l);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(l,i[s])&&(t[i[s]]=l[i[s]]);return t};const sS=1;function NL(l){const e=X_(),t=Object.assign(Object.assign({},e),l),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:u,children:d,className:f,customRenderer:p,customTextRenderer:g,devicePixelRatio:v,error:w="Failed to load the page.",height:E,inputRef:A,loading:x="Loading page",noData:C="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:I,onGetStructTreeSuccess:O,onGetTextError:F,onGetTextSuccess:B,onLoadError:q,onLoadSuccess:K,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:Z,onRenderError:re,onRenderSuccess:Se,onRenderTextLayerError:he,onRenderTextLayerSuccess:ae,pageIndex:ne,pageNumber:te,pdf:Q,registerPage:W,renderAnnotationLayer:le=!0,renderForms:se=!1,renderMode:P="canvas",renderTextLayer:z=!0,rotate:oe,scale:pe=sS,unregisterPage:ye,width:ke}=t,be=FL(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Re,Ne]=Cu(),{value:Oe,error:Dn}=Re,ti=j.useRef(null);rt(Q);const Ve=Po(te)?te-1:ne??null,lt=te??(Po(ne)?ne+1:null),bt=oe??(Oe?Oe.rotate:null),mt=j.useMemo(()=>{if(!Oe)return null;let Fn=1;const ni=pe??sS;if(ke||E){const mr=Oe.getViewport({scale:1,rotation:bt});ke?Fn=ke/mr.width:E&&(Fn=E/mr.height)}return ni*Fn},[E,Oe,bt,pe,ke]);j.useEffect(function(){return()=>{Po(Ve)&&s&&ye&&ye(Ve)}},[s,Q,Ve,ye]);function In(){if(K){if(!Oe||!mt)return;K(o0(Oe,mt))}if(s&&W){if(!Po(Ve)||!ti.current)return;W(Ve,ti.current)}}function ds(){Dn&&(ln(!1,Dn.toString()),q&&q(Dn))}j.useEffect(function(){Ne({type:"RESET"})},[Ne,Q,Ve]),j.useEffect(function(){if(!Q||!lt)return;const ni=Fh(Q.getPage(lt)),mr=ni;return ni.promise.then(Nn=>{Ne({type:"RESOLVE",value:Nn})}).catch(Nn=>{Ne({type:"REJECT",error:Nn})}),()=>ja(mr)},[Ne,Q,lt]),j.useEffect(()=>{if(Oe!==void 0){if(Oe===!1){ds();return}In()}},[Oe,mt]);const hs=j.useMemo(()=>Oe&&Po(Ve)&&lt&&Po(bt)&&Po(mt)?{_className:i,canvasBackground:o,customTextRenderer:g,devicePixelRatio:v,onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:I,onGetStructTreeSuccess:O,onGetTextError:F,onGetTextSuccess:B,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:Z,onRenderError:re,onRenderSuccess:Se,onRenderTextLayerError:he,onRenderTextLayerSuccess:ae,page:Oe,pageIndex:Ve,pageNumber:lt,renderForms:se,renderTextLayer:z,rotate:bt,scale:mt}:null,[i,o,g,v,k,L,I,O,F,B,X,Z,re,Se,he,ae,Oe,Ve,lt,se,z,bt,mt]),yi=j.useMemo(()=>$_(be,()=>Oe&&(mt?o0(Oe,mt):void 0)),[be,Oe,mt]),On=`${Ve}@${mt}/${bt}`;function gr(){switch(P){case"custom":return rt(p),U.jsx(p,{},`${On}_custom`);case"none":return null;case"canvas":default:return U.jsx(ML,{canvasRef:u},`${On}_canvas`)}}function po(){return z?U.jsx(IL,{},`${On}_text`):null}function Va(){return le?U.jsx(OL,{},`${On}_annotations`):null}function Wa(){return U.jsxs(Y_.Provider,{value:hs,children:[gr(),po(),Va(),d]})}function fs(){return lt?Q===null||Oe===void 0||Oe===null?U.jsx(Rl,{type:"loading",children:typeof x=="function"?x():x}):Q===!1||Oe===!1?U.jsx(Rl,{type:"error",children:typeof w=="function"?w():w}):Wa():U.jsx(Rl,{type:"no-data",children:typeof C=="function"?C():C})}return U.jsx("div",Object.assign({className:Pg(i,f),"data-page-number":lt,ref:K_(A,ti),style:{"--scale-factor":`${mt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},yi,{children:fs()}))}wL();_0.workerSrc="pdf.worker.mjs";const jL="/agenda/assets/pdf.worker.min-DGf6LXVo.mjs";_0.workerSrc=jL;const BL={background:"#F1D8D9",height:"100vh",display:"flex",flexDirection:"column",fontFamily:"'Mali', cursive",width:"100vw",position:"fixed",top:0,left:0},zL={background:"linear-gradient(to bottom, #DDB2B5 0%, #C99597 100%)",color:"white",padding:"5px 15px",display:"flex",justifyContent:"space-between",fontSize:"13px",borderBottom:"1px solid #A67577"},HL={display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.2)",padding:"2px 10px",borderRadius:"10px"},op={border:"none",background:"transparent",cursor:"pointer",color:"white",fontWeight:"bold"},UL={width:"350px",margin:"100px auto",background:"#FAF6F4",border:"3px solid #C99597",boxShadow:"5px 5px 0 rgba(0,0,0,0.1)"},$L={background:"#C99597",color:"white",padding:"5px 10px",fontWeight:"bold"},VL={background:"#EAEAEA",border:"2px outset white",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},WL={width:"250px",background:"#EAD4D5",borderRight:"3px solid #C99597",padding:"10px",display:"flex",flexDirection:"column",overflowY:"auto"},ap={background:"rgba(255,255,255,0.7)",borderRadius:"3px",border:"1px solid #C99597",marginBottom:"10px",overflow:"hidden"},lp={background:"#FAF6F4",padding:"4px 8px",fontWeight:"bold",color:"#C99597",fontSize:"13px",borderBottom:"1px solid #E0E0E0"},Nv={padding:"8px",fontSize:"12px"},Fs={width:"100%",border:"1px solid #ccc",padding:"2px",fontSize:"11px",marginBottom:"2px"},ml={cursor:"pointer",background:"#fff",border:"1px solid #ccc",padding:"2px 5px",fontSize:"11px"},GL={padding:"8px",background:"#FAF6F4",borderBottom:"1px solid #DDB2B5",display:"flex",gap:"10px",alignItems:"center"},qL={flex:1,border:"1px solid #DDB2B5",background:"white",padding:"3px 8px",fontSize:"13px"},XL={padding:"10px",background:"#F7E8E8",display:"flex",gap:"10px",alignItems:"center",borderBottom:"1px solid #C99597"},KL={display:"flex",gap:"10px",alignItems:"center",background:"#C99597",padding:"2px 10px",borderRadius:"5px",flex:1},YL={flex:1,border:"1px solid #C99597",padding:"4px 10px",borderRadius:"15px"},_l={background:"#FAF6F4",border:"1px outset #DDB2B5",cursor:"pointer",padding:"3px 12px",fontSize:"13px",color:"#C99597",fontWeight:"bold"},QL={background:"#F0F0F0",border:"1px outset #ccc",cursor:"pointer",padding:"2px 10px"},JL={padding:"20px",flex:1,overflowY:"auto"},ZL={width:"120px",minHeight:"80px",background:"#FFF5E5",border:"1px solid #DDB2B5",padding:"10px",fontSize:"12px",position:"relative",boxShadow:"3px 3px 0 rgba(0,0,0,0.1)",float:"left",margin:"10px",fontFamily:"'Mali', cursive",overflow:"hidden"},eM={position:"absolute",top:"2px",right:"5px",color:"#C99597",cursor:"pointer",fontWeight:"bold"},oS={display:"flex",flexDirection:"column",alignItems:"center",width:"90px",padding:"10px",borderRadius:"5px"},aS={fontSize:"11px",marginTop:"5px",textAlign:"center",wordBreak:"break-all"},tM={width:"45px",height:"35px",background:"#DDB2B5",border:"1px solid #C99597",borderRadius:"2px",boxShadow:"2px 2px 0 rgba(0,0,0,0.1)"},nM={width:"35px",height:"45px",background:"#FAF6F4",border:"1px solid #DDB2B5",position:"relative"},iM={position:"absolute",top:0,right:0,width:0,height:0,borderTop:"10px solid #F1D8D9",borderLeft:"10px solid transparent"},rM={width:"400px",borderLeft:"3px solid #C99597",display:"flex",flexDirection:"column",background:"white"},jp={background:"linear-gradient(to right, #C99597, #DDB2B5)",color:"white",padding:"5px 12px",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"bold",fontSize:"13px"},a0={width:"20px",height:"20px",background:"#ddd",border:"1px outset #fff",cursor:"pointer",fontSize:"10px",color:"#000"},sM={height:"35px",background:"linear-gradient(to bottom, #DDB2B5, #C99597)",borderTop:"2px solid #F1D8D9",display:"flex",alignItems:"center",padding:"0 10px",gap:"10px"},jv={height:"26px",border:"1px solid #A67577",cursor:"pointer",fontSize:"12px",padding:"0 15px",borderRadius:"3px 3px 0 0",minWidth:"120px",textAlign:"left",overflow:"hidden",whiteSpace:"nowrap"},oM={position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"white",display:"flex",flexDirection:"column",zIndex:300},aM={flex:1,padding:"25px",border:"none",outline:"none",fontSize:"15px",fontFamily:"'Mali', cursive",resize:"none"},lM={position:"absolute",top:"100%",left:0,background:"white",border:"1px solid #C99597",zIndex:100,minWidth:"160px",boxShadow:"3px 3px 5px rgba(0,0,0,0.2)"},lS={padding:"10px",fontSize:"12px",cursor:"pointer",borderBottom:"1px solid #eee",color:"#000"},uM={textDecoration:"underline",cursor:"pointer",marginLeft:"5px"},cM=({ventana:l,isActive:e,windowWidth:t,onClose:i,onMinimize:s})=>{const[o,u]=j.useState(null),[d,f]=j.useState(1),[p,g]=j.useState("1"),v=({numPages:E})=>u(E),w=E=>{const A=Math.max(1,Math.min(o||1,E));f(A),g(A.toString())};return U.jsxs("div",{style:{display:e?"flex":"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#525659",flexDirection:"column",zIndex:200},children:[U.jsxs("div",{style:jp,children:[U.jsxs("span",{children:[" ",l.title]}),U.jsxs("div",{style:{display:"flex",gap:"5px"},children:[U.jsx("button",{onClick:s,style:a0,children:"_"}),U.jsx("button",{onClick:i,style:{...a0,background:"#ff4444",color:"white"},children:"X"})]})]}),U.jsxs("div",{style:{padding:"5px",background:"#333",color:"white",display:"flex",gap:"10px",justifyContent:"center",alignItems:"center"},children:[U.jsx("button",{onClick:()=>w(d-1),disabled:d<=1,style:_l,children:""}),U.jsx("input",{type:"number",value:p,onChange:E=>g(E.target.value),onKeyDown:E=>E.key==="Enter"&&w(parseInt(p)),style:{width:"45px",textAlign:"center"}}),U.jsxs("span",{style:{fontSize:"12px"},children:["de ",o||"..."]}),U.jsx("button",{onClick:()=>w(d+1),disabled:d>=o,style:_l,children:""})]}),U.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",justifyContent:"center",background:"#525659",padding:"10px"},children:U.jsx(CL,{file:l.blob,onLoadSuccess:v,children:U.jsx(NL,{pageNumber:d,renderTextLayer:!1,renderAnnotationLayer:!1,width:Math.min(t*.9,850)})})})]})};function dM(){const[l,e]=j.useState(null),[t,i]=j.useState(null),[s,o]=j.useState(localStorage.getItem("nombre_personalizado")||"Admin"),[u,d]=j.useState(null),[f,p]=j.useState(new Date().toLocaleTimeString()),[g,v]=j.useState(window.innerWidth),[w,E]=j.useState(null),[A,x]=j.useState(null),[C,k]=j.useState([]),[L,I]=j.useState([]),[O,F]=j.useState([]),[B,q]=j.useState([]),[K,X]=j.useState("escritorio"),[Z,re]=j.useState(null),[Se,he]=j.useState(""),[ae,ne]=j.useState("txt"),[te,Q]=j.useState(JSON.parse(localStorage.getItem("widget_tareas"))||[]),[W,le]=j.useState(JSON.parse(localStorage.getItem("widget_examenes"))||[]),[se,P]=j.useState(JSON.parse(localStorage.getItem("widget_entregas"))||[]),[z,oe]=j.useState(JSON.parse(localStorage.getItem("widget_cuentas"))||[]),[pe,ye]=j.useState([]),[ke,be]=j.useState(null),[Re,Ne]=j.useState(""),[Oe,Dn]=j.useState(""),[ti,Ve]=j.useState(""),[lt,bt]=j.useState(""),[mt,In]=j.useState(""),[ds,hs]=j.useState(""),[yi,On]=j.useState(""),[gr,po]=j.useState(""),[Va,Wa]=j.useState([]),[fs,Fn]=j.useState(""),[ni,mr]=j.useState(null),[Nn,ps]=j.useState(!1),[ku,Nh]=j.useState(""),[vr,Ig]=j.useState(""),[Ga,jh]=j.useState(""),[qa,Bh]=j.useState(""),[Ru,go]=j.useState(""),[gs,zh]=j.useState(25),[Hh,Pu]=j.useState(1500),[Lu,Mu]=j.useState(!1),[Du,Iu]=j.useState(!1),[yr,Ou]=j.useState("25"),[ms,Fu]=j.useState(!1);j.useRef(null),j.useEffect(()=>{const V=setInterval(()=>p(new Date().toLocaleTimeString()),1e3);return window.addEventListener("resize",()=>v(window.innerWidth)),()=>{clearInterval(V),window.removeEventListener("resize",()=>v(window.innerWidth))}},[]),j.useEffect(()=>{const V=localStorage.getItem("google_token"),xe=localStorage.getItem("google_user");V&&xe&&(i(V),e(JSON.parse(xe)),vo(V),Bu(V))},[]),j.useEffect(()=>{localStorage.setItem("widget_tareas",JSON.stringify(te)),localStorage.setItem("widget_examenes",JSON.stringify(W)),localStorage.setItem("widget_entregas",JSON.stringify(se)),localStorage.setItem("widget_cuentas",JSON.stringify(z))},[te,W,se,z]),j.useEffect(()=>{t&&A&&(d(null),A.id==="TRASH"?Nu(t):(Ui(t,A.id),Uh(t,A.id)))},[A,t]);const mo=nC({onSuccess:async V=>{const xe=V.access_token;i(xe),localStorage.setItem("google_token",xe);const we=await Fe.get(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${xe}`);e(we.data),localStorage.setItem("google_user",JSON.stringify(we.data)),vo(xe),Bu(xe)},scope:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/calendar"}),vo=async V=>{var xe,we;try{const wt=await Fe.get("https://www.googleapis.com/drive/v3/files",{headers:{Authorization:`Bearer ${V}`},params:{q:"name = 'mi_agenda' and mimeType = 'application/vnd.google-apps.folder' and trashed = false"}});let wr=((xe=wt.data.files)==null?void 0:xe.length)>0?wt.data.files[0].id:null;wr||(wr=(await Fe.post("https://www.googleapis.com/drive/v3/files",{name:"mi_agenda",mimeType:"application/vnd.google-apps.folder"},{headers:{Authorization:`Bearer ${V}`}})).data.id),E(wr),x({id:wr,name:"mi_agenda"})}catch(qe){((we=qe.response)==null?void 0:we.status)===401&&zu()}},Ui=(V,xe)=>{const we=`'${xe}' in parents and trashed = false and name != '_notes_config.json'`;Fe.get("https://www.googleapis.com/drive/v3/files",{headers:{Authorization:`Bearer ${V}`},params:{q:we,fields:"files(id, name, mimeType, webViewLink, iconLink)"}}).then(qe=>{I(qe.data.files.filter(wt=>wt.mimeType==="application/vnd.google-apps.folder")),F(qe.data.files.filter(wt=>wt.mimeType!=="application/vnd.google-apps.folder"))})},Nu=V=>{Fe.get("https://www.googleapis.com/drive/v3/files",{headers:{Authorization:`Bearer ${V}`},params:{q:"trashed = true"}}).then(we=>{I(we.data.files.filter(qe=>qe.mimeType==="application/vnd.google-apps.folder")),F(we.data.files.filter(qe=>qe.mimeType!=="application/vnd.google-apps.folder"))})},Og=async V=>{const xe=V.mimeType;if(xe.includes("pdf")){const we=await Fe.get(`https://www.googleapis.com/drive/v3/files/${V.id}?alt=media`,{headers:{Authorization:`Bearer ${t}`},responseType:"blob"}),qe={id:V.id,title:V.name,type:"pdf",blob:we.data};B.find(wt=>wt.id===V.id)||q(wt=>[...wt,qe]),X(V.id)}else if(xe==="text/plain"||V.name.endsWith(".txt")||V.name.endsWith(".js")){const we=await Fe.get(`https://www.googleapis.com/drive/v3/files/${V.id}?alt=media`,{headers:{Authorization:`Bearer ${t}`}});he(we.data),re(V),ne(V.name.endsWith(".txt")?"txt":"code"),X("EDITOR")}else if(xe.includes("image")){const we=await Fe.get(`https://www.googleapis.com/drive/v3/files/${V.id}?alt=media`,{headers:{Authorization:`Bearer ${t}`},responseType:"blob"}),qe=URL.createObjectURL(we.data);B.find(wt=>wt.id===V.id)||q(wt=>[...wt,{id:V.id,title:V.name,url:qe,mimeType:xe}]),X(V.id)}else{let we=V.webViewLink;we.includes("embedded=true")||(we+=(we.includes("?")?"&":"?")+"embedded=true"),B.find(qe=>qe.id===V.id)||q(qe=>[...qe,{id:V.id,title:V.name,url:we}]),X(V.id)}},Fg=async()=>{const V=prompt("Nuevo nombre:",u.name);V&&V!==u.name&&(await Fe.patch(`https://www.googleapis.com/drive/v3/files/${u.id}`,{name:V},{headers:{Authorization:`Bearer ${t}`}}),Ui(t,A.id),d(null))},Ng=async()=>{window.confirm(`Borrar "${u.name}"?`)&&(await Fe.patch(`https://www.googleapis.com/drive/v3/files/${u.id}`,{trashed:!0,appProperties:{deletedBy:"agenda_web"}},{headers:{Authorization:`Bearer ${t}`}}),Ui(t,A.id),d(null))},$i=V=>{let xe=prompt("Nombre:");if(!xe||!t)return;V==="txt"&&!xe.endsWith(".txt")&&(xe+=".txt");const we={name:xe,mimeType:V==="folder"?"application/vnd.google-apps.folder":"text/plain",parents:[A.id]};if(V!=="folder"){const qe=new FormData;qe.append("metadata",new Blob([JSON.stringify(we)],{type:"application/json"})),qe.append("file",new Blob([""],{type:"text/plain"})),Fe.post("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",qe,{headers:{Authorization:`Bearer ${t}`}}).then(()=>Ui(t,A.id))}else Fe.post("https://www.googleapis.com/drive/v3/files",we,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(()=>Ui(t,A.id))},Uh=async(V,xe)=>{var wt;const we=`name = '_notes_config.json' and '${xe}' in parents and trashed = false`,qe=await Fe.get("https://www.googleapis.com/drive/v3/files",{headers:{Authorization:`Bearer ${V}`},params:{q:we}});if(((wt=qe.data.files)==null?void 0:wt.length)>0){const wr=await Fe.get(`https://www.googleapis.com/drive/v3/files/${qe.data.files[0].id}?alt=media`,{headers:{Authorization:`Bearer ${V}`}});ye(wr.data||[]),be(qe.data.files[0].id)}else be(null),ye([])},ju=async V=>{const xe=new Blob([JSON.stringify(V)],{type:"application/json"});if(ke)await Fe.patch(`https://www.googleapis.com/upload/drive/v3/files/${ke}?uploadType=media`,xe,{headers:{Authorization:`Bearer ${t}`}});else{const we=new FormData;we.append("metadata",new Blob([JSON.stringify({name:"_notes_config.json",parents:[A.id]})],{type:"application/json"})),we.append("file",xe);const qe=await Fe.post("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",we,{headers:{Authorization:`Bearer ${t}`}});be(qe.data.id)}},jg=()=>{if(!gr)return;const V=[...pe,{id:Date.now(),text:gr}];ye(V),ju(V),po("")},Bu=async V=>{const xe=await Fe.get("https://www.googleapis.com/calendar/v3/users/me/calendarList",{headers:{Authorization:`Bearer ${V}`}});Wa(xe.data.items),xe.data.items.length>0&&Fn(xe.data.items[0].id);let we="https://calendar.google.com/calendar/embed?ctz=Europe%2FMadrid&showTitle=0&showNav=1&showDate=1&showPrint=0&showTabs=1&showCalendars=0";xe.data.items.forEach(qe=>we+=`&src=${encodeURIComponent(qe.id)}&color=${encodeURIComponent(qe.backgroundColor||"#245ED1")}`),mr(we)},$h=async()=>{if(!ku||!vr||!fs)return alert("Faltan datos");let V={summary:ku};if(Ga)V.start={dateTime:new Date(`${vr}T${Ga}`).toISOString()},V.end={dateTime:new Date(`${qa||vr}T${Ru||"23:59"}`).toISOString()};else{V.start={date:vr};const xe=new Date(qa||vr);xe.setDate(xe.getDate()+1),V.end={date:xe.toISOString().split("T")[0]}}await Fe.post(`https://www.googleapis.com/calendar/v3/calendars/${fs}/events`,V,{headers:{Authorization:`Bearer ${t}`}}),alert("Evento creado"),ps(!1)},Vh=V=>`${Math.floor(V/60)}:${(V%60).toString().padStart(2,"0")}`,zu=()=>{tC(),localStorage.clear(),window.location.reload()};return U.jsxs("div",{style:BL,children:[U.jsxs("div",{style:zL,children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[U.jsx("div",{style:{fontWeight:"bold"},children:s}),U.jsx("div",{style:HL,children:Du?U.jsxs("div",{style:{display:"flex",gap:"2px"},children:[U.jsx("input",{type:"number",value:yr,onChange:V=>Ou(V.target.value),style:{width:"35px"}}),U.jsx("button",{onClick:()=>{zh(parseInt(yr)),Pu(yr*60),Iu(!1)},style:op,children:""})]}):U.jsxs(U.Fragment,{children:[U.jsxs("span",{children:[" ",Vh(Hh)]}),U.jsx("button",{onClick:()=>Mu(!Lu),style:op,children:Lu?"":""}),U.jsx("button",{onClick:()=>{Mu(!1),Pu(gs*60)},style:op,children:""}),U.jsx("button",{onClick:()=>Iu(!0),style:op,children:""})]})})]}),U.jsxs("div",{children:[f," ",U.jsx("span",{onClick:zu,style:uM,children:"Salir"})]})]}),l?U.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[U.jsxs("div",{style:WL,children:[U.jsxs("div",{style:ap,children:[U.jsx("div",{style:lp,children:" Tareas"}),U.jsxs("div",{style:Nv,children:[te.map(V=>U.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[U.jsxs("span",{children:[" ",V.txt]}),U.jsx("span",{onClick:()=>Q(te.filter(xe=>xe.id!==V.id)),style:{color:"red",cursor:"pointer"},children:"x"})]},V.id)),U.jsx("input",{value:Re,onChange:V=>Ne(V.target.value),style:Fs}),U.jsx("button",{onClick:()=>{Re&&Q([...te,{id:Date.now(),txt:Re}]),Ne("")},style:ml,children:"+"})]})]}),U.jsxs("div",{style:ap,children:[U.jsx("div",{style:lp,children:" Exmenes"}),U.jsxs("div",{style:Nv,children:[W.map(V=>U.jsxs("div",{children:[" ",V.txt," (",V.fecha,") ",U.jsx("span",{onClick:()=>le(W.filter(xe=>xe.id!==V.id)),style:{color:"red",cursor:"pointer"},children:"x"})]},V.id)),U.jsx("input",{placeholder:"Asig",value:Oe,onChange:V=>Dn(V.target.value),style:Fs}),U.jsx("input",{type:"date",value:ti,onChange:V=>Ve(V.target.value),style:Fs}),U.jsx("button",{onClick:()=>{Oe&&ti&&le([...W,{id:Date.now(),txt:Oe,fecha:ti}]),Dn("")},style:{...ml,width:"100%"},children:"Aadir"})]})]}),U.jsxs("div",{style:ap,children:[U.jsx("div",{style:lp,children:" Cuentas Atrs"}),U.jsxs("div",{style:Nv,children:[z.map(V=>U.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",textAlign:"center",marginBottom:"3px"},children:[U.jsx("div",{children:V.txt}),U.jsxs("div",{style:{fontWeight:"bold",color:"#C99597"},children:[Math.ceil((new Date(V.fecha)-new Date)/864e5)," d"]}),U.jsx("span",{onClick:()=>oe(z.filter(xe=>xe.id!==V.id)),style:{fontSize:"9px",cursor:"pointer",color:"blue"},children:"borrar"})]},V.id)),U.jsx("input",{placeholder:"Evento",value:ds,onChange:V=>hs(V.target.value),style:Fs}),U.jsx("input",{type:"date",value:yi,onChange:V=>On(V.target.value),style:Fs}),U.jsx("button",{onClick:()=>{ds&&yi&&oe([...z,{id:Date.now(),txt:ds,fecha:yi}]),hs("")},style:{...ml,width:"100%"},children:"Crear"})]})]}),U.jsx("div",{onClick:()=>x({id:"TRASH",name:"Papelera"}),style:{...ap,cursor:"pointer",marginTop:"auto"},children:U.jsx("div",{style:lp,children:" Papelera"})})]}),U.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",background:"white",borderRight:"3px solid #C99597"},onClick:V=>V.target===V.currentTarget&&d(null),children:[U.jsxs("div",{style:GL,children:[U.jsx("button",{onClick:()=>{if(C.length>0){const V=C.pop();x(V),k([...C])}},style:QL,children:" Subir"}),U.jsxs("div",{style:qL,children:["C:\\",s,"\\",A==null?void 0:A.name]})]}),U.jsxs("div",{style:XL,children:[U.jsx("button",{onClick:()=>Fu(!ms),style:{..._l,background:"#C99597",color:"white"},children:" Nuevo "}),ms&&U.jsxs("div",{style:lM,children:[U.jsx("div",{onClick:()=>{$i("txt"),Fu(!1)},style:lS,children:" Documento .txt"}),U.jsx("div",{onClick:()=>{$i("folder"),Fu(!1)},style:lS,children:" Carpeta Nueva"})]}),u?U.jsxs("div",{style:KL,children:[U.jsxs("span",{style:{fontSize:"12px",color:"white"},children:["Sel: ",u.name]}),U.jsx("button",{onClick:Fg,style:ml,children:" Renombrar"}),U.jsx("button",{onClick:Ng,style:{...ml,color:"red"},children:" Borrar"}),U.jsx("button",{onClick:()=>d(null),style:ml,children:""})]}):U.jsxs("div",{style:{display:"flex",gap:"5px",flex:1},children:[U.jsx("input",{value:gr,onChange:V=>po(V.target.value),placeholder:"Nota...",style:YL}),U.jsx("button",{onClick:jg,style:_l,children:""})]})]}),U.jsxs("div",{style:JL,children:[pe.map(V=>U.jsxs("div",{style:ZL,children:[V.text,U.jsx("span",{onClick:()=>{const xe=pe.filter(we=>we.id!==V.id);ye(xe),ju(xe)},style:eM,children:"x"})]},V.id)),U.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:"15px",width:"100%",clear:"both"},children:[L.map(V=>U.jsxs("div",{onClick:()=>d(V),onDoubleClick:()=>{k([...C,A]),x(V)},style:{...oS,background:(u==null?void 0:u.id)===V.id?"#DCEAF7":"transparent",border:(u==null?void 0:u.id)===V.id?"1px dotted #245ED1":"1px solid transparent"},children:[U.jsx("div",{style:tM}),U.jsx("div",{style:aS,children:V.name})]},V.id)),O.map(V=>U.jsxs("div",{onClick:()=>d(V),onDoubleClick:()=>Og(V),style:{...oS,background:(u==null?void 0:u.id)===V.id?"#DCEAF7":"transparent",border:(u==null?void 0:u.id)===V.id?"1px dotted #245ED1":"1px solid transparent"},children:[U.jsx("div",{style:nM,children:U.jsx("div",{style:iM})}),U.jsx("div",{style:aS,children:V.name})]},V.id))]})]})]}),U.jsxs("div",{style:rM,children:[U.jsxs("div",{style:jp,children:[U.jsx("span",{children:" Agenda"}),U.jsx("button",{onClick:()=>ps(!Nn),style:a0,children:Nn?"-":"+"})]}),Nn&&U.jsxs("div",{style:{padding:"10px",background:"#F7E8E8",borderBottom:"1px solid #C99597"},children:[U.jsx("input",{placeholder:"Ttulo",value:ku,onChange:V=>Nh(V.target.value),style:Fs}),U.jsx("select",{value:fs,onChange:V=>Fn(V.target.value),style:Fs,children:Va.map(V=>U.jsx("option",{value:V.id,children:V.summary},V.id))}),U.jsx("input",{type:"date",value:vr,onChange:V=>Ig(V.target.value),style:Fs}),U.jsx("button",{onClick:$h,style:{..._l,width:"100%"},children:"Crear"})]}),ni&&U.jsx("iframe",{src:ni,style:{flex:1,border:"none"}})]}),B.map(V=>U.jsx("div",{style:{display:K===V.id?"flex":"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",background:V.type==="pdf"?"#525659":"white",flexDirection:"column",zIndex:100},children:V.type==="pdf"?U.jsx(cM,{ventana:V,isActive:!0,windowWidth:g,onClose:()=>q(xe=>xe.filter(we=>we.id!==V.id)),onMinimize:()=>X("escritorio")}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{style:jp,children:[U.jsxs("span",{children:[" ",V.title]}),U.jsx("button",{onClick:()=>q(xe=>xe.filter(we=>we.id!==V.id)),children:"X"})]}),U.jsx("iframe",{src:V.url,style:{flex:1,border:"none"}})]})},V.id)),Z&&K==="EDITOR"&&U.jsxs("div",{style:oM,children:[U.jsxs("div",{style:jp,children:[U.jsxs("span",{children:[ae==="code"?" Cdigo":" Bloc"," - ",Z.name]}),U.jsx("button",{onClick:()=>X("escritorio"),children:"_"}),U.jsx("button",{onClick:()=>re(null),children:"X"})]}),U.jsx("div",{style:{background:"#f0f0f0",padding:"5px"},children:U.jsx("button",{onClick:()=>{Fe.patch(`https://www.googleapis.com/upload/drive/v3/files/${Z.id}?uploadType=media`,Se,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"text/plain"}}),alert("Guardado")},style:_l,children:" Guardar"})}),ae==="code"?U.jsx(zk,{height:"100%",theme:"vs-dark",language:Z.name.split(".").pop(),value:Se,onChange:he}):U.jsx("textarea",{value:Se,onChange:V=>he(V.target.value),style:aM})]})]}):U.jsxs("div",{style:UL,children:[U.jsx("div",{style:$L,children:"Login"}),U.jsx("div",{style:{padding:"40px",textAlign:"center"},children:U.jsx("button",{onClick:()=>mo(),style:VL,children:" Iniciar con Google"})})]}),U.jsxs("div",{style:sM,children:[U.jsx("button",{onClick:()=>X("escritorio"),style:{...jv,fontWeight:"bold",background:K==="escritorio"?"#E3C0C2":"#FAF6F4"},children:" INICIO"}),B.map(V=>U.jsxs("button",{onClick:()=>X(V.id),style:{...jv,background:K===V.id?"#E3C0C2":"#FAF6F4"},children:[V.type==="pdf"?"":""," ",V.title]},V.id)),Z&&U.jsx("button",{onClick:()=>X("EDITOR"),style:{...jv,background:K==="EDITOR"?"#E3C0C2":"#FAF6F4"},children:Z.name})]})]})}function hM(){return U.jsx(Z1,{clientId:"1084797424608-n4cq13jldhrvgrajf2s0li453mpmdld7.apps.googleusercontent.com",children:U.jsx(dM,{})})}Q1.createRoot(document.getElementById("root")).render(U.jsx(j.StrictMode,{children:U.jsx(hM,{})}));
